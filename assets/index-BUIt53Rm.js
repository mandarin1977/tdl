(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const nt={},Gr=[],rs=()=>{},lh=()=>!1,aa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$c=t=>t.startsWith("onUpdate:"),Ot=Object.assign,Hc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Wm=Object.prototype.hasOwnProperty,Je=(t,e)=>Wm.call(t,e),be=Array.isArray,Qr=t=>eo(t)==="[object Map]",di=t=>eo(t)==="[object Set]",Ru=t=>eo(t)==="[object Date]",Te=t=>typeof t=="function",bt=t=>typeof t=="string",is=t=>typeof t=="symbol",et=t=>t!==null&&typeof t=="object",ch=t=>(et(t)||Te(t))&&Te(t.then)&&Te(t.catch),uh=Object.prototype.toString,eo=t=>uh.call(t),jm=t=>eo(t).slice(8,-1),dh=t=>eo(t)==="[object Object]",Gc=t=>bt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ii=Uc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),la=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Jm=/-\w/g,Dn=la(t=>t.replace(Jm,e=>e.slice(1).toUpperCase())),zm=/\B([A-Z])/g,Xs=la(t=>t.replace(zm,"-$1").toLowerCase()),ca=la(t=>t.charAt(0).toUpperCase()+t.slice(1)),yl=la(t=>t?`on${ca(t)}`:""),Vs=(t,e)=>!Object.is(t,e),Po=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},fh=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Oo=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ym=t=>{const e=bt(t)?Number(t):NaN;return isNaN(e)?t:e};let Du;const ua=()=>Du||(Du=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ye(t){if(be(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=bt(s)?e0(s):Ye(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(bt(t)||et(t))return t}const Xm=/;(?![^(]*\))/g,Zm=/:([^]+)/,qm=/\/\*[^]*?\*\//g;function e0(t){const e={};return t.replace(qm,"").split(Xm).forEach(n=>{if(n){const s=n.split(Zm);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ee(t){let e="";if(bt(t))e=t;else if(be(t))for(let n=0;n<t.length;n++){const s=Ee(t[n]);s&&(e+=s+" ")}else if(et(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const t0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",n0=Uc(t0);function hh(t){return!!t||t===""}function s0(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Er(t[s],e[s]);return n}function Er(t,e){if(t===e)return!0;let n=Ru(t),s=Ru(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=is(t),s=is(e),n||s)return t===e;if(n=be(t),s=be(e),n||s)return n&&s?s0(t,e):!1;if(n=et(t),s=et(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Er(t[o],e[o]))return!1}}return String(t)===String(e)}function Qc(t,e){return t.findIndex(n=>Er(n,e))}const ph=t=>!!(t&&t.__v_isRef===!0),g=t=>bt(t)?t:t==null?"":be(t)||et(t)&&(t.toString===uh||!Te(t.toString))?ph(t)?g(t.value):JSON.stringify(t,gh,2):String(t),gh=(t,e)=>ph(e)?gh(t,e.value):Qr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[wl(s,i)+" =>"]=r,n),{})}:di(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>wl(n))}:is(e)?wl(e):et(e)&&!be(e)&&!dh(e)?String(e):e,wl=(t,e="")=>{var n;return is(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fn;class r0{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=fn,!e&&fn&&(this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=fn;try{return fn=this,e()}finally{fn=n}}}on(){++this._on===1&&(this.prevScope=fn,fn=this)}off(){this._on>0&&--this._on===0&&(fn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function i0(){return fn}let rt;const bl=new WeakSet;class mh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,fn&&fn.active&&fn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bl.has(this)&&(bl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ah(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lu(this),yh(this);const e=rt,n=Vn;rt=this,Vn=!0;try{return this.fn()}finally{wh(this),rt=e,Vn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Wc(e);this.deps=this.depsTail=void 0,Lu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tc(this)&&this.run()}get dirty(){return tc(this)}}let vh=0,Pi,Bi;function Ah(t,e=!1){if(t.flags|=8,e){t.next=Bi,Bi=t;return}t.next=Pi,Pi=t}function Vc(){vh++}function Kc(){if(--vh>0)return;if(Bi){let e=Bi;for(Bi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Pi;){let e=Pi;for(Pi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function yh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function wh(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Wc(s),o0(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function tc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(bh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function bh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Mi)||(t.globalVersion=Mi,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!tc(t))))return;t.flags|=2;const e=t.dep,n=rt,s=Vn;rt=t,Vn=!0;try{yh(t);const r=t.fn(t._value);(e.version===0||Vs(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{rt=n,Vn=s,wh(t),t.flags&=-3}}function Wc(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Wc(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function o0(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Vn=!0;const Ch=[];function Es(){Ch.push(Vn),Vn=!1}function _s(){const t=Ch.pop();Vn=t===void 0?!0:t}function Lu(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=rt;rt=void 0;try{e()}finally{rt=n}}}let Mi=0;class a0{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class jc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!rt||!Vn||rt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==rt)n=this.activeLink=new a0(rt,this),rt.deps?(n.prevDep=rt.depsTail,rt.depsTail.nextDep=n,rt.depsTail=n):rt.deps=rt.depsTail=n,Eh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=rt.depsTail,n.nextDep=void 0,rt.depsTail.nextDep=n,rt.depsTail=n,rt.deps===n&&(rt.deps=s)}return n}trigger(e){this.version++,Mi++,this.notify(e)}notify(e){Vc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Kc()}}}function Eh(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Eh(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const nc=new WeakMap,yr=Symbol(""),sc=Symbol(""),Fi=Symbol("");function Kt(t,e,n){if(Vn&&rt){let s=nc.get(t);s||nc.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new jc),r.map=s,r.key=n),r.track()}}function hs(t,e,n,s,r,i){const o=nc.get(t);if(!o){Mi++;return}const a=l=>{l&&l.trigger()};if(Vc(),e==="clear")o.forEach(a);else{const l=be(t),u=l&&Gc(n);if(l&&n==="length"){const d=Number(s);o.forEach((f,h)=>{(h==="length"||h===Fi||!is(h)&&h>=d)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Fi)),e){case"add":l?u&&a(o.get("length")):(a(o.get(yr)),Qr(t)&&a(o.get(sc)));break;case"delete":l||(a(o.get(yr)),Qr(t)&&a(o.get(sc)));break;case"set":Qr(t)&&a(o.get(yr));break}}Kc()}function Nr(t){const e=Ke(t);return e===t?e:(Kt(e,"iterate",Fi),Nn(t)?e:e.map(Ft))}function da(t){return Kt(t=Ke(t),"iterate",Fi),t}const l0={__proto__:null,[Symbol.iterator](){return Cl(this,Symbol.iterator,Ft)},concat(...t){return Nr(this).concat(...t.map(e=>be(e)?Nr(e):e))},entries(){return Cl(this,"entries",t=>(t[1]=Ft(t[1]),t))},every(t,e){return os(this,"every",t,e,void 0,arguments)},filter(t,e){return os(this,"filter",t,e,n=>n.map(Ft),arguments)},find(t,e){return os(this,"find",t,e,Ft,arguments)},findIndex(t,e){return os(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return os(this,"findLast",t,e,Ft,arguments)},findLastIndex(t,e){return os(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return os(this,"forEach",t,e,void 0,arguments)},includes(...t){return El(this,"includes",t)},indexOf(...t){return El(this,"indexOf",t)},join(t){return Nr(this).join(t)},lastIndexOf(...t){return El(this,"lastIndexOf",t)},map(t,e){return os(this,"map",t,e,void 0,arguments)},pop(){return mi(this,"pop")},push(...t){return mi(this,"push",t)},reduce(t,...e){return Ou(this,"reduce",t,e)},reduceRight(t,...e){return Ou(this,"reduceRight",t,e)},shift(){return mi(this,"shift")},some(t,e){return os(this,"some",t,e,void 0,arguments)},splice(...t){return mi(this,"splice",t)},toReversed(){return Nr(this).toReversed()},toSorted(t){return Nr(this).toSorted(t)},toSpliced(...t){return Nr(this).toSpliced(...t)},unshift(...t){return mi(this,"unshift",t)},values(){return Cl(this,"values",Ft)}};function Cl(t,e,n){const s=da(t),r=s[e]();return s!==t&&!Nn(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const c0=Array.prototype;function os(t,e,n,s,r,i){const o=da(t),a=o!==t&&!Nn(t),l=o[e];if(l!==c0[e]){const f=l.apply(t,i);return a?Ft(f):f}let u=n;o!==t&&(a?u=function(f,h){return n.call(this,Ft(f),h,t)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,t)}));const d=l.call(o,u,s);return a&&r?r(d):d}function Ou(t,e,n,s){const r=da(t);let i=n;return r!==t&&(Nn(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Ft(a),l,t)}),r[e](i,...s)}function El(t,e,n){const s=Ke(t);Kt(s,"iterate",Fi);const r=s[e](...n);return(r===-1||r===!1)&&Yc(n[0])?(n[0]=Ke(n[0]),s[e](...n)):r}function mi(t,e,n=[]){Es(),Vc();const s=Ke(t)[e].apply(t,n);return Kc(),_s(),s}const u0=Uc("__proto__,__v_isRef,__isVue"),_h=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(is));function d0(t){is(t)||(t=String(t));const e=Ke(this);return Kt(e,"has",t),e.hasOwnProperty(t)}class xh{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?b0:kh:i?Bh:Ph).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=be(e);if(!r){let l;if(o&&(l=l0[n]))return l;if(n==="hasOwnProperty")return d0}const a=Reflect.get(e,n,jt(e)?e:s);if((is(n)?_h.has(n):u0(n))||(r||Kt(e,"get",n),i))return a;if(jt(a)){const l=o&&Gc(n)?a:a.value;return r&&et(l)?ic(l):l}return et(a)?r?ic(a):to(a):a}}class Ih extends xh{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=Ws(i);if(!Nn(s)&&!Ws(s)&&(i=Ke(i),s=Ke(s)),!be(e)&&jt(i)&&!jt(s))return l||(i.value=s),!0}const o=be(e)&&Gc(n)?Number(n)<e.length:Je(e,n),a=Reflect.set(e,n,s,jt(e)?e:r);return e===Ke(r)&&(o?Vs(s,i)&&hs(e,"set",n,s):hs(e,"add",n,s)),a}deleteProperty(e,n){const s=Je(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&hs(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!is(n)||!_h.has(n))&&Kt(e,"has",n),s}ownKeys(e){return Kt(e,"iterate",be(e)?"length":yr),Reflect.ownKeys(e)}}class f0 extends xh{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const h0=new Ih,p0=new f0,g0=new Ih(!0);const rc=t=>t,fo=t=>Reflect.getPrototypeOf(t);function m0(t,e,n){return function(...s){const r=this.__v_raw,i=Ke(r),o=Qr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...s),d=n?rc:e?Mo:Ft;return!e&&Kt(i,"iterate",l?sc:yr),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function ho(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function v0(t,e){const n={get(r){const i=this.__v_raw,o=Ke(i),a=Ke(r);t||(Vs(r,a)&&Kt(o,"get",r),Kt(o,"get",a));const{has:l}=fo(o),u=e?rc:t?Mo:Ft;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Kt(Ke(r),"iterate",yr),r.size},has(r){const i=this.__v_raw,o=Ke(i),a=Ke(r);return t||(Vs(r,a)&&Kt(o,"has",r),Kt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=Ke(a),u=e?rc:t?Mo:Ft;return!t&&Kt(l,"iterate",yr),a.forEach((d,f)=>r.call(i,u(d),u(f),o))}};return Ot(n,t?{add:ho("add"),set:ho("set"),delete:ho("delete"),clear:ho("clear")}:{add(r){!e&&!Nn(r)&&!Ws(r)&&(r=Ke(r));const i=Ke(this);return fo(i).has.call(i,r)||(i.add(r),hs(i,"add",r,r)),this},set(r,i){!e&&!Nn(i)&&!Ws(i)&&(i=Ke(i));const o=Ke(this),{has:a,get:l}=fo(o);let u=a.call(o,r);u||(r=Ke(r),u=a.call(o,r));const d=l.call(o,r);return o.set(r,i),u?Vs(i,d)&&hs(o,"set",r,i):hs(o,"add",r,i),this},delete(r){const i=Ke(this),{has:o,get:a}=fo(i);let l=o.call(i,r);l||(r=Ke(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&hs(i,"delete",r,void 0),u},clear(){const r=Ke(this),i=r.size!==0,o=r.clear();return i&&hs(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=m0(r,t,e)}),n}function Jc(t,e){const n=v0(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Je(n,r)&&r in s?n:s,r,i)}const A0={get:Jc(!1,!1)},y0={get:Jc(!1,!0)},w0={get:Jc(!0,!1)};const Ph=new WeakMap,Bh=new WeakMap,kh=new WeakMap,b0=new WeakMap;function C0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function E0(t){return t.__v_skip||!Object.isExtensible(t)?0:C0(jm(t))}function to(t){return Ws(t)?t:zc(t,!1,h0,A0,Ph)}function Sh(t){return zc(t,!1,g0,y0,Bh)}function ic(t){return zc(t,!0,p0,w0,kh)}function zc(t,e,n,s,r){if(!et(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=E0(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?s:n);return r.set(t,a),a}function Vr(t){return Ws(t)?Vr(t.__v_raw):!!(t&&t.__v_isReactive)}function Ws(t){return!!(t&&t.__v_isReadonly)}function Nn(t){return!!(t&&t.__v_isShallow)}function Yc(t){return t?!!t.__v_raw:!1}function Ke(t){const e=t&&t.__v_raw;return e?Ke(e):t}function _0(t){return!Je(t,"__v_skip")&&Object.isExtensible(t)&&fh(t,"__v_skip",!0),t}const Ft=t=>et(t)?to(t):t,Mo=t=>et(t)?ic(t):t;function jt(t){return t?t.__v_isRef===!0:!1}function k(t){return Th(t,!1)}function x0(t){return Th(t,!0)}function Th(t,e){return jt(t)?t:new I0(t,e)}class I0{constructor(e,n){this.dep=new jc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ke(e),this._value=n?e:Ft(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Nn(e)||Ws(e);e=s?e:Ke(e),Vs(e,n)&&(this._rawValue=e,this._value=s?e:Ft(e),this.dep.trigger())}}function Pe(t){return jt(t)?t.value:t}const P0={get:(t,e,n)=>e==="__v_raw"?t:Pe(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return jt(r)&&!jt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Nh(t){return Vr(t)?t:new Proxy(t,P0)}class B0{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new jc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&rt!==this)return Ah(this,!0),!0}get value(){const e=this.dep.track();return bh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function k0(t,e,n=!1){let s,r;return Te(t)?s=t:(s=t.get,r=t.set),new B0(s,r,n)}const po={},Fo=new WeakMap;let ar;function S0(t,e=!1,n=ar){if(n){let s=Fo.get(n);s||Fo.set(n,s=[]),s.push(t)}}function T0(t,e,n=nt){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,u=_=>r?_:Nn(_)||r===!1||r===0?ps(_,1):ps(_);let d,f,h,p,w=!1,m=!1;if(jt(t)?(f=()=>t.value,w=Nn(t)):Vr(t)?(f=()=>u(t),w=!0):be(t)?(m=!0,w=t.some(_=>Vr(_)||Nn(_)),f=()=>t.map(_=>{if(jt(_))return _.value;if(Vr(_))return u(_);if(Te(_))return l?l(_,2):_()})):Te(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Es();try{h()}finally{_s()}}const _=ar;ar=d;try{return l?l(t,3,[p]):t(p)}finally{ar=_}}:f=rs,e&&r){const _=f,L=r===!0?1/0:r;f=()=>ps(_(),L)}const y=i0(),v=()=>{d.stop(),y&&y.active&&Hc(y.effects,d)};if(i&&e){const _=e;e=(...L)=>{_(...L),v()}}let b=m?new Array(t.length).fill(po):po;const A=_=>{if(!(!(d.flags&1)||!d.dirty&&!_))if(e){const L=d.run();if(r||w||(m?L.some((H,V)=>Vs(H,b[V])):Vs(L,b))){h&&h();const H=ar;ar=d;try{const V=[L,b===po?void 0:m&&b[0]===po?[]:b,p];b=L,l?l(e,3,V):e(...V)}finally{ar=H}}}else d.run()};return a&&a(A),d=new mh(f),d.scheduler=o?()=>o(A,!1):A,p=_=>S0(_,!1,d),h=d.onStop=()=>{const _=Fo.get(d);if(_){if(l)l(_,4);else for(const L of _)L();Fo.delete(d)}},e?s?A(!0):b=d.run():o?o(A.bind(null,!0),!0):d.run(),v.pause=d.pause.bind(d),v.resume=d.resume.bind(d),v.stop=v,v}function ps(t,e=1/0,n){if(e<=0||!et(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,jt(t))ps(t.value,e,n);else if(be(t))for(let s=0;s<t.length;s++)ps(t[s],e,n);else if(di(t)||Qr(t))t.forEach(s=>{ps(s,e,n)});else if(dh(t)){for(const s in t)ps(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ps(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function no(t,e,n,s){try{return s?t(...s):t()}catch(r){fa(r,e,n)}}function jn(t,e,n,s){if(Te(t)){const r=no(t,e,n,s);return r&&ch(r)&&r.catch(i=>{fa(i,e,n)}),r}if(be(t)){const r=[];for(let i=0;i<t.length;i++)r.push(jn(t[i],e,n,s));return r}}function fa(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||nt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,l,u)===!1)return}a=a.parent}if(i){Es(),no(i,null,10,[t,l,u]),_s();return}}N0(t,n,r,s,o)}function N0(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const sn=[];let es=-1;const Kr=[];let Us=null,Or=0;const Rh=Promise.resolve();let Uo=null;function Xc(t){const e=Uo||Rh;return t?e.then(this?t.bind(this):t):e}function R0(t){let e=es+1,n=sn.length;for(;e<n;){const s=e+n>>>1,r=sn[s],i=Ui(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Zc(t){if(!(t.flags&1)){const e=Ui(t),n=sn[sn.length-1];!n||!(t.flags&2)&&e>=Ui(n)?sn.push(t):sn.splice(R0(e),0,t),t.flags|=1,Dh()}}function Dh(){Uo||(Uo=Rh.then(Oh))}function D0(t){be(t)?Kr.push(...t):Us&&t.id===-1?Us.splice(Or+1,0,t):t.flags&1||(Kr.push(t),t.flags|=1),Dh()}function Mu(t,e,n=es+1){for(;n<sn.length;n++){const s=sn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;sn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Lh(t){if(Kr.length){const e=[...new Set(Kr)].sort((n,s)=>Ui(n)-Ui(s));if(Kr.length=0,Us){Us.push(...e);return}for(Us=e,Or=0;Or<Us.length;Or++){const n=Us[Or];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Us=null,Or=0}}const Ui=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Oh(t){try{for(es=0;es<sn.length;es++){const e=sn[es];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),no(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;es<sn.length;es++){const e=sn[es];e&&(e.flags&=-2)}es=-1,sn.length=0,Lh(),Uo=null,(sn.length||Kr.length)&&Oh()}}let En=null,Mh=null;function $o(t){const e=En;return En=t,Mh=t&&t.type.__scopeId||null,e}function Fh(t,e=En,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Qo(-1);const i=$o(e);let o;try{o=t(...r)}finally{$o(i),s._d&&Qo(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function It(t,e){if(En===null)return t;const n=va(En),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=nt]=e[r];i&&(Te(i)&&(i={mounted:i,updated:i}),i.deep&&ps(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function tr(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Es(),jn(l,n,8,[t.el,a,t,e]),_s())}}const L0=Symbol("_vte"),Uh=t=>t.__isTeleport,ds=Symbol("_leaveCb"),go=Symbol("_enterCb");function O0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ct(()=>{t.isMounted=!0}),Jh(()=>{t.isUnmounting=!0}),t}const kn=[Function,Array],$h={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kn,onEnter:kn,onAfterEnter:kn,onEnterCancelled:kn,onBeforeLeave:kn,onLeave:kn,onAfterLeave:kn,onLeaveCancelled:kn,onBeforeAppear:kn,onAppear:kn,onAfterAppear:kn,onAppearCancelled:kn},Hh=t=>{const e=t.subTree;return e.component?Hh(e.component):e},M0={name:"BaseTransition",props:$h,setup(t,{slots:e}){const n=gp(),s=O0();return()=>{const r=e.default&&Vh(e.default(),!0);if(!r||!r.length)return;const i=Gh(r),o=Ke(t),{mode:a}=o;if(s.isLeaving)return _l(i);const l=Fu(i);if(!l)return _l(i);let u=oc(l,o,s,n,f=>u=f);l.type!==rn&&$i(l,u);let d=n.subTree&&Fu(n.subTree);if(d&&d.type!==rn&&!cr(d,l)&&Hh(n).type!==rn){let f=oc(d,o,s,n);if($i(d,f),a==="out-in"&&l.type!==rn)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,d=void 0},_l(i);a==="in-out"&&l.type!==rn?f.delayLeave=(h,p,w)=>{const m=Qh(s,d);m[String(d.key)]=d,h[ds]=()=>{p(),h[ds]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{w(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function Gh(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==rn){e=n;break}}return e}const F0=M0;function Qh(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function oc(t,e,n,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:w,onLeaveCancelled:m,onBeforeAppear:y,onAppear:v,onAfterAppear:b,onAppearCancelled:A}=e,_=String(t.key),L=Qh(n,t),H=(z,M)=>{z&&jn(z,s,9,M)},V=(z,M)=>{const D=M[1];H(z,M),be(z)?z.every(X=>X.length<=1)&&D():z.length<=1&&D()},K={mode:o,persisted:a,beforeEnter(z){let M=l;if(!n.isMounted)if(i)M=y||l;else return;z[ds]&&z[ds](!0);const D=L[_];D&&cr(t,D)&&D.el[ds]&&D.el[ds](),H(M,[z])},enter(z){let M=u,D=d,X=f;if(!n.isMounted)if(i)M=v||u,D=b||d,X=A||f;else return;let F=!1;const O=z[go]=T=>{F||(F=!0,T?H(X,[z]):H(D,[z]),K.delayedLeave&&K.delayedLeave(),z[go]=void 0)};M?V(M,[z,O]):O()},leave(z,M){const D=String(t.key);if(z[go]&&z[go](!0),n.isUnmounting)return M();H(h,[z]);let X=!1;const F=z[ds]=O=>{X||(X=!0,M(),O?H(m,[z]):H(w,[z]),z[ds]=void 0,L[D]===t&&delete L[D])};L[D]=t,p?V(p,[z,F]):F()},clone(z){const M=oc(z,e,n,s,r);return r&&r(M),M}};return K}function _l(t){if(ha(t))return t=js(t),t.children=null,t}function Fu(t){if(!ha(t))return Uh(t.type)&&t.children?Gh(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Te(n.default))return n.default()}}function $i(t,e){t.shapeFlag&6&&t.component?(t.transition=e,$i(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Vh(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===we?(o.patchFlag&128&&r++,s=s.concat(Vh(o.children,e,a))):(e||o.type!==rn)&&s.push(a!=null?js(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Kh(t,e){return Te(t)?Ot({name:t.name},e,{setup:t}):t}function Wh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Ho=new WeakMap;function ki(t,e,n,s,r=!1){if(be(t)){t.forEach((w,m)=>ki(w,e&&(be(e)?e[m]:e),n,s,r));return}if(Si(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ki(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?va(s.component):s.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,d=a.refs===nt?a.refs={}:a.refs,f=a.setupState,h=Ke(f),p=f===nt?lh:w=>Je(h,w);if(u!=null&&u!==l){if(Uu(e),bt(u))d[u]=null,p(u)&&(f[u]=null);else if(jt(u)){u.value=null;const w=e;w.k&&(d[w.k]=null)}}if(Te(l))no(l,a,12,[o,d]);else{const w=bt(l),m=jt(l);if(w||m){const y=()=>{if(t.f){const v=w?p(l)?f[l]:d[l]:l.value;if(r)be(v)&&Hc(v,i);else if(be(v))v.includes(i)||v.push(i);else if(w)d[l]=[i],p(l)&&(f[l]=d[l]);else{const b=[i];l.value=b,t.k&&(d[t.k]=b)}}else w?(d[l]=o,p(l)&&(f[l]=o)):m&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const v=()=>{y(),Ho.delete(t)};v.id=-1,Ho.set(t,v),wn(v,n)}else Uu(t),y()}}}function Uu(t){const e=Ho.get(t);e&&(e.flags|=8,Ho.delete(t))}ua().requestIdleCallback;ua().cancelIdleCallback;const Si=t=>!!t.type.__asyncLoader,ha=t=>t.type.__isKeepAlive;function U0(t,e){jh(t,"a",e)}function $0(t,e){jh(t,"da",e)}function jh(t,e,n=Wt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(pa(e,s,n),n){let r=n.parent;for(;r&&r.parent;)ha(r.parent.vnode)&&H0(s,e,n,r),r=r.parent}}function H0(t,e,n,s){const r=pa(e,t,s,!0);Ct(()=>{Hc(s[e],r)},n)}function pa(t,e,n=Wt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Es();const a=so(n),l=jn(e,n,t,o);return a(),_s(),l});return s?r.unshift(i):r.push(i),i}}const Bs=t=>(e,n=Wt)=>{(!Gi||t==="sp")&&pa(t,(...s)=>e(...s),n)},G0=Bs("bm"),ct=Bs("m"),Q0=Bs("bu"),V0=Bs("u"),Jh=Bs("bum"),Ct=Bs("um"),K0=Bs("sp"),W0=Bs("rtg"),j0=Bs("rtc");function J0(t,e=Wt){pa("ec",t,e)}const z0="components";function Y0(t,e){return Z0(z0,t,!0,e)||t}const X0=Symbol.for("v-ndc");function Z0(t,e,n=!0,s=!1){const r=En||Wt;if(r){const i=r.type;{const a=$v(i,!1);if(a&&(a===e||a===Dn(e)||a===ca(Dn(e))))return i}const o=$u(r[t]||i[t],e)||$u(r.appContext[t],e);return!o&&s?i:o}}function $u(t,e){return t&&(t[e]||t[Dn(e)]||t[ca(Dn(e))])}function De(t,e,n,s){let r;const i=n,o=be(t);if(o||bt(t)){const a=o&&Vr(t);let l=!1,u=!1;a&&(l=!Nn(t),u=Ws(t),t=da(t)),r=new Array(t.length);for(let d=0,f=t.length;d<f;d++)r[d]=e(l?u?Mo(Ft(t[d])):Ft(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(et(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];r[l]=e(t[d],d,l,i)}}else r=[];return r}const ac=t=>t?mp(t)?va(t):ac(t.parent):null,Ti=Ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ac(t.parent),$root:t=>ac(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Yh(t),$forceUpdate:t=>t.f||(t.f=()=>{Zc(t.update)}),$nextTick:t=>t.n||(t.n=Xc.bind(t.proxy)),$watch:t=>yv.bind(t)}),xl=(t,e)=>t!==nt&&!t.__isScriptSetup&&Je(t,e),q0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(xl(s,e))return o[e]=1,s[e];if(r!==nt&&Je(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&Je(u,e))return o[e]=3,i[e];if(n!==nt&&Je(n,e))return o[e]=4,n[e];lc&&(o[e]=0)}}const d=Ti[e];let f,h;if(d)return e==="$attrs"&&Kt(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==nt&&Je(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Je(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return xl(r,e)?(r[e]=n,!0):s!==nt&&Je(s,e)?(s[e]=n,!0):Je(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},a){let l,u;return!!(n[a]||t!==nt&&a[0]!=="$"&&Je(t,a)||xl(e,a)||(l=i[0])&&Je(l,a)||Je(s,a)||Je(Ti,a)||Je(r.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Je(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Hu(t){return be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let lc=!0;function ev(t){const e=Yh(t),n=t.proxy,s=t.ctx;lc=!1,e.beforeCreate&&Gu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:w,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:A,unmounted:_,render:L,renderTracked:H,renderTriggered:V,errorCaptured:K,serverPrefetch:z,expose:M,inheritAttrs:D,components:X,directives:F,filters:O}=e;if(u&&tv(u,s,null),o)for(const oe in o){const te=o[oe];Te(te)&&(s[oe]=te.bind(n))}if(r){const oe=r.call(n,n);et(oe)&&(t.data=to(oe))}if(lc=!0,i)for(const oe in i){const te=i[oe],ne=Te(te)?te.bind(n,n):Te(te.get)?te.get.bind(n,n):rs,Z=!Te(te)&&Te(te.set)?te.set.bind(n):rs,me=ie({get:ne,set:Z});Object.defineProperty(s,oe,{enumerable:!0,configurable:!0,get:()=>me.value,set:xe=>me.value=xe})}if(a)for(const oe in a)zh(a[oe],s,n,oe);if(l){const oe=Te(l)?l.call(n):l;Reflect.ownKeys(oe).forEach(te=>{Bo(te,oe[te])})}d&&Gu(d,t,"c");function W(oe,te){be(te)?te.forEach(ne=>oe(ne.bind(n))):te&&oe(te.bind(n))}if(W(G0,f),W(ct,h),W(Q0,p),W(V0,w),W(U0,m),W($0,y),W(J0,K),W(j0,H),W(W0,V),W(Jh,b),W(Ct,_),W(K0,z),be(M))if(M.length){const oe=t.exposed||(t.exposed={});M.forEach(te=>{Object.defineProperty(oe,te,{get:()=>n[te],set:ne=>n[te]=ne,enumerable:!0})})}else t.exposed||(t.exposed={});L&&t.render===rs&&(t.render=L),D!=null&&(t.inheritAttrs=D),X&&(t.components=X),F&&(t.directives=F),z&&Wh(t)}function tv(t,e,n=rs){be(t)&&(t=cc(t));for(const s in t){const r=t[s];let i;et(r)?"default"in r?i=Kn(r.from||s,r.default,!0):i=Kn(r.from||s):i=Kn(r),jt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Gu(t,e,n){jn(be(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function zh(t,e,n,s){let r=s.includes(".")?cp(n,s):()=>n[s];if(bt(t)){const i=e[t];Te(i)&&ws(r,i)}else if(Te(t))ws(r,t.bind(n));else if(et(t))if(be(t))t.forEach(i=>zh(i,e,n,s));else{const i=Te(t.handler)?t.handler.bind(n):e[t.handler];Te(i)&&ws(r,i,t)}}function Yh(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(u=>Go(l,u,o,!0)),Go(l,e,o)),et(e)&&i.set(e,l),l}function Go(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Go(t,i,n,!0),r&&r.forEach(o=>Go(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=nv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nv={data:Qu,props:Vu,emits:Vu,methods:Ei,computed:Ei,beforeCreate:en,created:en,beforeMount:en,mounted:en,beforeUpdate:en,updated:en,beforeDestroy:en,beforeUnmount:en,destroyed:en,unmounted:en,activated:en,deactivated:en,errorCaptured:en,serverPrefetch:en,components:Ei,directives:Ei,watch:rv,provide:Qu,inject:sv};function Qu(t,e){return e?t?function(){return Ot(Te(t)?t.call(this,this):t,Te(e)?e.call(this,this):e)}:e:t}function sv(t,e){return Ei(cc(t),cc(e))}function cc(t){if(be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function en(t,e){return t?[...new Set([].concat(t,e))]:e}function Ei(t,e){return t?Ot(Object.create(null),t,e):e}function Vu(t,e){return t?be(t)&&be(e)?[...new Set([...t,...e])]:Ot(Object.create(null),Hu(t),Hu(e??{})):e}function rv(t,e){if(!t)return e;if(!e)return t;const n=Ot(Object.create(null),t);for(const s in e)n[s]=en(t[s],e[s]);return n}function Xh(){return{app:null,config:{isNativeTag:lh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iv=0;function ov(t,e){return function(s,r=null){Te(s)||(s=Ot({},s)),r!=null&&!et(r)&&(r=null);const i=Xh(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:iv++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Gv,get config(){return i.config},set config(d){},use(d,...f){return o.has(d)||(d&&Te(d.install)?(o.add(d),d.install(u,...f)):Te(d)&&(o.add(d),d(u,...f))),u},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),u},component(d,f){return f?(i.components[d]=f,u):i.components[d]},directive(d,f){return f?(i.directives[d]=f,u):i.directives[d]},mount(d,f,h){if(!l){const p=u._ceVNode||Be(s,r);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(p,d,h),l=!0,u._container=d,d.__vue_app__=u,va(p.component)}},onUnmount(d){a.push(d)},unmount(){l&&(jn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,f){return i.provides[d]=f,u},runWithContext(d){const f=Wr;Wr=u;try{return d()}finally{Wr=f}}};return u}}let Wr=null;function Bo(t,e){if(Wt){let n=Wt.provides;const s=Wt.parent&&Wt.parent.provides;s===n&&(n=Wt.provides=Object.create(s)),n[t]=e}}function Kn(t,e,n=!1){const s=gp();if(s||Wr){let r=Wr?Wr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Te(e)?e.call(s&&s.proxy):e}}const Zh={},qh=()=>Object.create(Zh),ep=t=>Object.getPrototypeOf(t)===Zh;function av(t,e,n,s=!1){const r={},i=qh();t.propsDefaults=Object.create(null),tp(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Sh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function lv(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Ke(r),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(ga(t.emitsOptions,h))continue;const p=e[h];if(l)if(Je(i,h))p!==i[h]&&(i[h]=p,u=!0);else{const w=Dn(h);r[w]=uc(l,a,w,p,t,!1)}else p!==i[h]&&(i[h]=p,u=!0)}}}else{tp(t,e,r,i)&&(u=!0);let d;for(const f in a)(!e||!Je(e,f)&&((d=Xs(f))===f||!Je(e,d)))&&(l?n&&(n[f]!==void 0||n[d]!==void 0)&&(r[f]=uc(l,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!Je(e,f))&&(delete i[f],u=!0)}u&&hs(t.attrs,"set","")}function tp(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ii(l))continue;const u=e[l];let d;r&&Je(r,d=Dn(l))?!i||!i.includes(d)?n[d]=u:(a||(a={}))[d]=u:ga(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=Ke(n),u=a||nt;for(let d=0;d<i.length;d++){const f=i[d];n[f]=uc(r,l,f,u[f],t,!Je(u,f))}}return o}function uc(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Je(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Te(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const d=so(r);s=u[n]=l.call(null,e),d()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Xs(n))&&(s=!0))}return s}const cv=new WeakMap;function np(t,e,n=!1){const s=n?cv:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!Te(t)){const d=f=>{l=!0;const[h,p]=np(f,e,!0);Ot(o,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return et(t)&&s.set(t,Gr),Gr;if(be(i))for(let d=0;d<i.length;d++){const f=Dn(i[d]);Ku(f)&&(o[f]=nt)}else if(i)for(const d in i){const f=Dn(d);if(Ku(f)){const h=i[d],p=o[f]=be(h)||Te(h)?{type:h}:Ot({},h),w=p.type;let m=!1,y=!0;if(be(w))for(let v=0;v<w.length;++v){const b=w[v],A=Te(b)&&b.name;if(A==="Boolean"){m=!0;break}else A==="String"&&(y=!1)}else m=Te(w)&&w.name==="Boolean";p[0]=m,p[1]=y,(m||Je(p,"default"))&&a.push(f)}}const u=[o,a];return et(t)&&s.set(t,u),u}function Ku(t){return t[0]!=="$"&&!Ii(t)}const qc=t=>t==="_"||t==="_ctx"||t==="$stable",eu=t=>be(t)?t.map(ts):[ts(t)],uv=(t,e,n)=>{if(e._n)return e;const s=Fh((...r)=>eu(e(...r)),n);return s._c=!1,s},sp=(t,e,n)=>{const s=t._ctx;for(const r in t){if(qc(r))continue;const i=t[r];if(Te(i))e[r]=uv(r,i,s);else if(i!=null){const o=eu(i);e[r]=()=>o}}},rp=(t,e)=>{const n=eu(e);t.slots.default=()=>n},ip=(t,e,n)=>{for(const s in e)(n||!qc(s))&&(t[s]=e[s])},dv=(t,e,n)=>{const s=t.slots=qh();if(t.vnode.shapeFlag&32){const r=e._;r?(ip(s,e,n),n&&fh(s,"_",r,!0)):sp(e,s)}else e&&rp(t,e)},fv=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=nt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:ip(r,e,n):(i=!e.$stable,sp(e,r)),o=e}else e&&(rp(t,e),o={default:1});if(i)for(const a in r)!qc(a)&&o[a]==null&&delete r[a]},wn=Pv;function hv(t){return pv(t)}function pv(t,e){const n=ua();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=rs,insertStaticContent:w}=t,m=(C,E,S,Q=null,R=null,x=null,N=void 0,j=null,ee=!!E.dynamicChildren)=>{if(C===E)return;C&&!cr(C,E)&&(Q=G(C),xe(C,R,x,!0),C=null),E.patchFlag===-2&&(ee=!1,E.dynamicChildren=null);const{type:q,ref:Ae,shapeFlag:ae}=E;switch(q){case ma:y(C,E,S,Q);break;case rn:v(C,E,S,Q);break;case ko:C==null&&b(E,S,Q,N);break;case we:X(C,E,S,Q,R,x,N,j,ee);break;default:ae&1?L(C,E,S,Q,R,x,N,j,ee):ae&6?F(C,E,S,Q,R,x,N,j,ee):(ae&64||ae&128)&&q.process(C,E,S,Q,R,x,N,j,ee,fe)}Ae!=null&&R?ki(Ae,C&&C.ref,x,E||C,!E):Ae==null&&C&&C.ref!=null&&ki(C.ref,null,x,C,!0)},y=(C,E,S,Q)=>{if(C==null)s(E.el=a(E.children),S,Q);else{const R=E.el=C.el;E.children!==C.children&&u(R,E.children)}},v=(C,E,S,Q)=>{C==null?s(E.el=l(E.children||""),S,Q):E.el=C.el},b=(C,E,S,Q)=>{[C.el,C.anchor]=w(C.children,E,S,Q,C.el,C.anchor)},A=({el:C,anchor:E},S,Q)=>{let R;for(;C&&C!==E;)R=h(C),s(C,S,Q),C=R;s(E,S,Q)},_=({el:C,anchor:E})=>{let S;for(;C&&C!==E;)S=h(C),r(C),C=S;r(E)},L=(C,E,S,Q,R,x,N,j,ee)=>{E.type==="svg"?N="svg":E.type==="math"&&(N="mathml"),C==null?H(E,S,Q,R,x,N,j,ee):z(C,E,R,x,N,j,ee)},H=(C,E,S,Q,R,x,N,j)=>{let ee,q;const{props:Ae,shapeFlag:ae,transition:ge,dirs:Ie}=C;if(ee=C.el=o(C.type,x,Ae&&Ae.is,Ae),ae&8?d(ee,C.children):ae&16&&K(C.children,ee,null,Q,R,Il(C,x),N,j),Ie&&tr(C,null,Q,"created"),V(ee,C,C.scopeId,N,Q),Ae){for(const Se in Ae)Se!=="value"&&!Ii(Se)&&i(ee,Se,null,Ae[Se],x,Q);"value"in Ae&&i(ee,"value",null,Ae.value,x),(q=Ae.onVnodeBeforeMount)&&Zn(q,Q,C)}Ie&&tr(C,null,Q,"beforeMount");const Ue=gv(R,ge);Ue&&ge.beforeEnter(ee),s(ee,E,S),((q=Ae&&Ae.onVnodeMounted)||Ue||Ie)&&wn(()=>{q&&Zn(q,Q,C),Ue&&ge.enter(ee),Ie&&tr(C,null,Q,"mounted")},R)},V=(C,E,S,Q,R)=>{if(S&&p(C,S),Q)for(let x=0;x<Q.length;x++)p(C,Q[x]);if(R){let x=R.subTree;if(E===x||dp(x.type)&&(x.ssContent===E||x.ssFallback===E)){const N=R.vnode;V(C,N,N.scopeId,N.slotScopeIds,R.parent)}}},K=(C,E,S,Q,R,x,N,j,ee=0)=>{for(let q=ee;q<C.length;q++){const Ae=C[q]=j?$s(C[q]):ts(C[q]);m(null,Ae,E,S,Q,R,x,N,j)}},z=(C,E,S,Q,R,x,N)=>{const j=E.el=C.el;let{patchFlag:ee,dynamicChildren:q,dirs:Ae}=E;ee|=C.patchFlag&16;const ae=C.props||nt,ge=E.props||nt;let Ie;if(S&&nr(S,!1),(Ie=ge.onVnodeBeforeUpdate)&&Zn(Ie,S,E,C),Ae&&tr(E,C,S,"beforeUpdate"),S&&nr(S,!0),(ae.innerHTML&&ge.innerHTML==null||ae.textContent&&ge.textContent==null)&&d(j,""),q?M(C.dynamicChildren,q,j,S,Q,Il(E,R),x):N||te(C,E,j,null,S,Q,Il(E,R),x,!1),ee>0){if(ee&16)D(j,ae,ge,S,R);else if(ee&2&&ae.class!==ge.class&&i(j,"class",null,ge.class,R),ee&4&&i(j,"style",ae.style,ge.style,R),ee&8){const Ue=E.dynamicProps;for(let Se=0;Se<Ue.length;Se++){const $e=Ue[Se],He=ae[$e],Tt=ge[$e];(Tt!==He||$e==="value")&&i(j,$e,He,Tt,R,S)}}ee&1&&C.children!==E.children&&d(j,E.children)}else!N&&q==null&&D(j,ae,ge,S,R);((Ie=ge.onVnodeUpdated)||Ae)&&wn(()=>{Ie&&Zn(Ie,S,E,C),Ae&&tr(E,C,S,"updated")},Q)},M=(C,E,S,Q,R,x,N)=>{for(let j=0;j<E.length;j++){const ee=C[j],q=E[j],Ae=ee.el&&(ee.type===we||!cr(ee,q)||ee.shapeFlag&198)?f(ee.el):S;m(ee,q,Ae,null,Q,R,x,N,!0)}},D=(C,E,S,Q,R)=>{if(E!==S){if(E!==nt)for(const x in E)!Ii(x)&&!(x in S)&&i(C,x,E[x],null,R,Q);for(const x in S){if(Ii(x))continue;const N=S[x],j=E[x];N!==j&&x!=="value"&&i(C,x,j,N,R,Q)}"value"in S&&i(C,"value",E.value,S.value,R)}},X=(C,E,S,Q,R,x,N,j,ee)=>{const q=E.el=C?C.el:a(""),Ae=E.anchor=C?C.anchor:a("");let{patchFlag:ae,dynamicChildren:ge,slotScopeIds:Ie}=E;Ie&&(j=j?j.concat(Ie):Ie),C==null?(s(q,S,Q),s(Ae,S,Q),K(E.children||[],S,Ae,R,x,N,j,ee)):ae>0&&ae&64&&ge&&C.dynamicChildren?(M(C.dynamicChildren,ge,S,R,x,N,j),(E.key!=null||R&&E===R.subTree)&&op(C,E,!0)):te(C,E,S,Ae,R,x,N,j,ee)},F=(C,E,S,Q,R,x,N,j,ee)=>{E.slotScopeIds=j,C==null?E.shapeFlag&512?R.ctx.activate(E,S,Q,N,ee):O(E,S,Q,R,x,N,ee):T(C,E,ee)},O=(C,E,S,Q,R,x,N)=>{const j=C.component=Lv(C,Q,R);if(ha(C)&&(j.ctx.renderer=fe),Ov(j,!1,N),j.asyncDep){if(R&&R.registerDep(j,W,N),!C.el){const ee=j.subTree=Be(rn);v(null,ee,E,S),C.placeholder=ee.el}}else W(j,C,E,S,R,x,N)},T=(C,E,S)=>{const Q=E.component=C.component;if(xv(C,E,S))if(Q.asyncDep&&!Q.asyncResolved){oe(Q,E,S);return}else Q.next=E,Q.update();else E.el=C.el,Q.vnode=E},W=(C,E,S,Q,R,x,N)=>{const j=()=>{if(C.isMounted){let{next:ae,bu:ge,u:Ie,parent:Ue,vnode:Se}=C;{const Pn=ap(C);if(Pn){ae&&(ae.el=Se.el,oe(C,ae,N)),Pn.asyncDep.then(()=>{C.isUnmounted||j()});return}}let $e=ae,He;nr(C,!1),ae?(ae.el=Se.el,oe(C,ae,N)):ae=Se,ge&&Po(ge),(He=ae.props&&ae.props.onVnodeBeforeUpdate)&&Zn(He,Ue,ae,Se),nr(C,!0);const Tt=ju(C),In=C.subTree;C.subTree=Tt,m(In,Tt,f(In.el),G(In),C,R,x),ae.el=Tt.el,$e===null&&Iv(C,Tt.el),Ie&&wn(Ie,R),(He=ae.props&&ae.props.onVnodeUpdated)&&wn(()=>Zn(He,Ue,ae,Se),R)}else{let ae;const{el:ge,props:Ie}=E,{bm:Ue,m:Se,parent:$e,root:He,type:Tt}=C,In=Si(E);nr(C,!1),Ue&&Po(Ue),!In&&(ae=Ie&&Ie.onVnodeBeforeMount)&&Zn(ae,$e,E),nr(C,!0);{He.ce&&He.ce._def.shadowRoot!==!1&&He.ce._injectChildStyle(Tt);const Pn=C.subTree=ju(C);m(null,Pn,S,Q,C,R,x),E.el=Pn.el}if(Se&&wn(Se,R),!In&&(ae=Ie&&Ie.onVnodeMounted)){const Pn=E;wn(()=>Zn(ae,$e,Pn),R)}(E.shapeFlag&256||$e&&Si($e.vnode)&&$e.vnode.shapeFlag&256)&&C.a&&wn(C.a,R),C.isMounted=!0,E=S=Q=null}};C.scope.on();const ee=C.effect=new mh(j);C.scope.off();const q=C.update=ee.run.bind(ee),Ae=C.job=ee.runIfDirty.bind(ee);Ae.i=C,Ae.id=C.uid,ee.scheduler=()=>Zc(Ae),nr(C,!0),q()},oe=(C,E,S)=>{E.component=C;const Q=C.vnode.props;C.vnode=E,C.next=null,lv(C,E.props,Q,S),fv(C,E.children,S),Es(),Mu(C),_s()},te=(C,E,S,Q,R,x,N,j,ee=!1)=>{const q=C&&C.children,Ae=C?C.shapeFlag:0,ae=E.children,{patchFlag:ge,shapeFlag:Ie}=E;if(ge>0){if(ge&128){Z(q,ae,S,Q,R,x,N,j,ee);return}else if(ge&256){ne(q,ae,S,Q,R,x,N,j,ee);return}}Ie&8?(Ae&16&&tt(q,R,x),ae!==q&&d(S,ae)):Ae&16?Ie&16?Z(q,ae,S,Q,R,x,N,j,ee):tt(q,R,x,!0):(Ae&8&&d(S,""),Ie&16&&K(ae,S,Q,R,x,N,j,ee))},ne=(C,E,S,Q,R,x,N,j,ee)=>{C=C||Gr,E=E||Gr;const q=C.length,Ae=E.length,ae=Math.min(q,Ae);let ge;for(ge=0;ge<ae;ge++){const Ie=E[ge]=ee?$s(E[ge]):ts(E[ge]);m(C[ge],Ie,S,null,R,x,N,j,ee)}q>Ae?tt(C,R,x,!0,!1,ae):K(E,S,Q,R,x,N,j,ee,ae)},Z=(C,E,S,Q,R,x,N,j,ee)=>{let q=0;const Ae=E.length;let ae=C.length-1,ge=Ae-1;for(;q<=ae&&q<=ge;){const Ie=C[q],Ue=E[q]=ee?$s(E[q]):ts(E[q]);if(cr(Ie,Ue))m(Ie,Ue,S,null,R,x,N,j,ee);else break;q++}for(;q<=ae&&q<=ge;){const Ie=C[ae],Ue=E[ge]=ee?$s(E[ge]):ts(E[ge]);if(cr(Ie,Ue))m(Ie,Ue,S,null,R,x,N,j,ee);else break;ae--,ge--}if(q>ae){if(q<=ge){const Ie=ge+1,Ue=Ie<Ae?E[Ie].el:Q;for(;q<=ge;)m(null,E[q]=ee?$s(E[q]):ts(E[q]),S,Ue,R,x,N,j,ee),q++}}else if(q>ge)for(;q<=ae;)xe(C[q],R,x,!0),q++;else{const Ie=q,Ue=q,Se=new Map;for(q=Ue;q<=ge;q++){const Yt=E[q]=ee?$s(E[q]):ts(E[q]);Yt.key!=null&&Se.set(Yt.key,q)}let $e,He=0;const Tt=ge-Ue+1;let In=!1,Pn=0;const Ss=new Array(Tt);for(q=0;q<Tt;q++)Ss[q]=0;for(q=Ie;q<=ae;q++){const Yt=C[q];if(He>=Tt){xe(Yt,R,x,!0);continue}let Bn;if(Yt.key!=null)Bn=Se.get(Yt.key);else for($e=Ue;$e<=ge;$e++)if(Ss[$e-Ue]===0&&cr(Yt,E[$e])){Bn=$e;break}Bn===void 0?xe(Yt,R,x,!0):(Ss[Bn-Ue]=q+1,Bn>=Pn?Pn=Bn:In=!0,m(Yt,E[Bn],S,null,R,x,N,j,ee),He++)}const er=In?mv(Ss):Gr;for($e=er.length-1,q=Tt-1;q>=0;q--){const Yt=Ue+q,Bn=E[Yt],gi=E[Yt+1],At=Yt+1<Ae?gi.el||gi.placeholder:Q;Ss[q]===0?m(null,Bn,S,At,R,x,N,j,ee):In&&($e<0||q!==er[$e]?me(Bn,S,At,2):$e--)}}},me=(C,E,S,Q,R=null)=>{const{el:x,type:N,transition:j,children:ee,shapeFlag:q}=C;if(q&6){me(C.component.subTree,E,S,Q);return}if(q&128){C.suspense.move(E,S,Q);return}if(q&64){N.move(C,E,S,fe);return}if(N===we){s(x,E,S);for(let ae=0;ae<ee.length;ae++)me(ee[ae],E,S,Q);s(C.anchor,E,S);return}if(N===ko){A(C,E,S);return}if(Q!==2&&q&1&&j)if(Q===0)j.beforeEnter(x),s(x,E,S),wn(()=>j.enter(x),R);else{const{leave:ae,delayLeave:ge,afterLeave:Ie}=j,Ue=()=>{C.ctx.isUnmounted?r(x):s(x,E,S)},Se=()=>{x._isLeaving&&x[ds](!0),ae(x,()=>{Ue(),Ie&&Ie()})};ge?ge(x,Ue,Se):Se()}else s(x,E,S)},xe=(C,E,S,Q=!1,R=!1)=>{const{type:x,props:N,ref:j,children:ee,dynamicChildren:q,shapeFlag:Ae,patchFlag:ae,dirs:ge,cacheIndex:Ie}=C;if(ae===-2&&(R=!1),j!=null&&(Es(),ki(j,null,S,C,!0),_s()),Ie!=null&&(E.renderCache[Ie]=void 0),Ae&256){E.ctx.deactivate(C);return}const Ue=Ae&1&&ge,Se=!Si(C);let $e;if(Se&&($e=N&&N.onVnodeBeforeUnmount)&&Zn($e,E,C),Ae&6)lt(C.component,S,Q);else{if(Ae&128){C.suspense.unmount(S,Q);return}Ue&&tr(C,null,E,"beforeUnmount"),Ae&64?C.type.remove(C,E,S,fe,Q):q&&!q.hasOnce&&(x!==we||ae>0&&ae&64)?tt(q,E,S,!1,!0):(x===we&&ae&384||!R&&Ae&16)&&tt(ee,E,S),Q&&ut(C)}(Se&&($e=N&&N.onVnodeUnmounted)||Ue)&&wn(()=>{$e&&Zn($e,E,C),Ue&&tr(C,null,E,"unmounted")},S)},ut=C=>{const{type:E,el:S,anchor:Q,transition:R}=C;if(E===we){at(S,Q);return}if(E===ko){_(C);return}const x=()=>{r(S),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(C.shapeFlag&1&&R&&!R.persisted){const{leave:N,delayLeave:j}=R,ee=()=>N(S,x);j?j(C.el,x,ee):ee()}else x()},at=(C,E)=>{let S;for(;C!==E;)S=h(C),r(C),C=S;r(E)},lt=(C,E,S)=>{const{bum:Q,scope:R,job:x,subTree:N,um:j,m:ee,a:q}=C;Wu(ee),Wu(q),Q&&Po(Q),R.stop(),x&&(x.flags|=8,xe(N,C,E,S)),j&&wn(j,E),wn(()=>{C.isUnmounted=!0},E)},tt=(C,E,S,Q=!1,R=!1,x=0)=>{for(let N=x;N<C.length;N++)xe(C[N],E,S,Q,R)},G=C=>{if(C.shapeFlag&6)return G(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const E=h(C.anchor||C.el),S=E&&E[L0];return S?h(S):E};let le=!1;const se=(C,E,S)=>{C==null?E._vnode&&xe(E._vnode,null,null,!0):m(E._vnode||null,C,E,null,null,null,S),E._vnode=C,le||(le=!0,Mu(),Lh(),le=!1)},fe={p:m,um:xe,m:me,r:ut,mt:O,mc:K,pc:te,pbc:M,n:G,o:t};return{render:se,hydrate:void 0,createApp:ov(se)}}function Il({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function nr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function gv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function op(t,e,n=!1){const s=t.children,r=e.children;if(be(s)&&be(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=$s(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&op(o,a)),a.type===ma&&a.patchFlag!==-1&&(a.el=o.el),a.type===rn&&!a.el&&(a.el=o.el)}}function mv(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function ap(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ap(e)}function Wu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const vv=Symbol.for("v-scx"),Av=()=>Kn(vv);function ws(t,e,n){return lp(t,e,n)}function lp(t,e,n=nt){const{immediate:s,deep:r,flush:i,once:o}=n,a=Ot({},n),l=e&&s||!e&&i!=="post";let u;if(Gi){if(i==="sync"){const p=Av();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=rs,p.resume=rs,p.pause=rs,p}}const d=Wt;a.call=(p,w,m)=>jn(p,d,w,m);let f=!1;i==="post"?a.scheduler=p=>{wn(p,d&&d.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(p,w)=>{w?p():Zc(p)}),a.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const h=T0(t,e,a);return Gi&&(u?u.push(h):l&&h()),h}function yv(t,e,n){const s=this.proxy,r=bt(t)?t.includes(".")?cp(s,t):()=>s[t]:t.bind(s,s);let i;Te(e)?i=e:(i=e.handler,n=e);const o=so(this),a=lp(r,i.bind(s),n);return o(),a}function cp(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const wv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Dn(e)}Modifiers`]||t[`${Xs(e)}Modifiers`];function bv(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||nt;let r=n;const i=e.startsWith("update:"),o=i&&wv(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>bt(d)?d.trim():d)),o.number&&(r=n.map(Oo)));let a,l=s[a=yl(e)]||s[a=yl(Dn(e))];!l&&i&&(l=s[a=yl(Xs(e))]),l&&jn(l,t,6,r);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,jn(u,t,6,r)}}const Cv=new WeakMap;function up(t,e,n=!1){const s=n?Cv:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Te(t)){const l=u=>{const d=up(u,e,!0);d&&(a=!0,Ot(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(et(t)&&s.set(t,null),null):(be(i)?i.forEach(l=>o[l]=null):Ot(o,i),et(t)&&s.set(t,o),o)}function ga(t,e){return!t||!aa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Je(t,e[0].toLowerCase()+e.slice(1))||Je(t,Xs(e))||Je(t,e))}function ju(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:f,data:h,setupState:p,ctx:w,inheritAttrs:m}=t,y=$o(t);let v,b;try{if(n.shapeFlag&4){const _=r||s,L=_;v=ts(u.call(L,_,d,f,p,h,w)),b=a}else{const _=e;v=ts(_.length>1?_(f,{attrs:a,slots:o,emit:l}):_(f,null)),b=e.props?a:Ev(a)}}catch(_){Ni.length=0,fa(_,t,1),v=Be(rn)}let A=v;if(b&&m!==!1){const _=Object.keys(b),{shapeFlag:L}=A;_.length&&L&7&&(i&&_.some($c)&&(b=_v(b,i)),A=js(A,b,!1,!0))}return n.dirs&&(A=js(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&$i(A,n.transition),v=A,$o(y),v}const Ev=t=>{let e;for(const n in t)(n==="class"||n==="style"||aa(n))&&((e||(e={}))[n]=t[n]);return e},_v=(t,e)=>{const n={};for(const s in t)(!$c(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function xv(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Ju(s,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==s[h]&&!ga(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Ju(s,o,u):!0:!!o;return!1}function Ju(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!ga(n,i))return!0}return!1}function Iv({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const dp=t=>t.__isSuspense;function Pv(t,e){e&&e.pendingBranch?be(t)?e.effects.push(...t):e.effects.push(t):D0(t)}const we=Symbol.for("v-fgt"),ma=Symbol.for("v-txt"),rn=Symbol.for("v-cmt"),ko=Symbol.for("v-stc"),Ni=[];let _n=null;function I(t=!1){Ni.push(_n=t?null:[])}function Bv(){Ni.pop(),_n=Ni[Ni.length-1]||null}let Hi=1;function Qo(t,e=!1){Hi+=t,t<0&&_n&&e&&(_n.hasOnce=!0)}function fp(t){return t.dynamicChildren=Hi>0?_n||Gr:null,Bv(),Hi>0&&_n&&_n.push(t),t}function P(t,e,n,s,r,i){return fp(c(t,e,n,s,r,i,!0))}function hp(t,e,n,s,r){return fp(Be(t,e,n,s,r,!0))}function Vo(t){return t?t.__v_isVNode===!0:!1}function cr(t,e){return t.type===e.type&&t.key===e.key}const pp=({key:t})=>t??null,So=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?bt(t)||jt(t)||Te(t)?{i:En,r:t,k:e,f:!!n}:t:null);function c(t,e=null,n=null,s=0,r=null,i=t===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pp(e),ref:e&&So(e),scopeId:Mh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:En};return a?(tu(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=bt(n)?8:16),Hi>0&&!o&&_n&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&_n.push(l),l}const Be=kv;function kv(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===X0)&&(t=rn),Vo(t)){const a=js(t,e,!0);return n&&tu(a,n),Hi>0&&!i&&_n&&(a.shapeFlag&6?_n[_n.indexOf(t)]=a:_n.push(a)),a.patchFlag=-2,a}if(Hv(t)&&(t=t.__vccOpts),e){e=Sv(e);let{class:a,style:l}=e;a&&!bt(a)&&(e.class=Ee(a)),et(l)&&(Yc(l)&&!be(l)&&(l=Ot({},l)),e.style=Ye(l))}const o=bt(t)?1:dp(t)?128:Uh(t)?64:et(t)?4:Te(t)?2:0;return c(t,e,n,s,r,o,i,!0)}function Sv(t){return t?Yc(t)||ep(t)?Ot({},t):t:null}function js(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Nv(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&pp(u),ref:e&&e.ref?n&&i?be(i)?i.concat(So(e)):[i,So(e)]:So(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&js(t.ssContent),ssFallback:t.ssFallback&&js(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&$i(d,l.clone(d)),d}function qr(t=" ",e=0){return Be(ma,null,t,e)}function Tv(t,e){const n=Be(ko,null,t);return n.staticCount=e,n}function re(t="",e=!1){return e?(I(),hp(rn,null,t)):Be(rn,null,t)}function ts(t){return t==null||typeof t=="boolean"?Be(rn):be(t)?Be(we,null,t.slice()):Vo(t)?$s(t):Be(ma,null,String(t))}function $s(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:js(t)}function tu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(be(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),tu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!ep(e)?e._ctx=En:r===3&&En&&(En.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Te(e)?(e={default:e,_ctx:En},n=32):(e=String(e),s&64?(n=16,e=[qr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Nv(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Ee([e.class,s.class]));else if(r==="style")e.style=Ye([e.style,s.style]);else if(aa(r)){const i=e[r],o=s[r];o&&i!==o&&!(be(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Zn(t,e,n,s=null){jn(t,e,7,[n,s])}const Rv=Xh();let Dv=0;function Lv(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Rv,i={uid:Dv++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new r0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:np(s,r),emitsOptions:up(s,r),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:s.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=bv.bind(null,i),t.ce&&t.ce(i),i}let Wt=null;const gp=()=>Wt||En;let Ko,dc;{const t=ua(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Ko=e("__VUE_INSTANCE_SETTERS__",n=>Wt=n),dc=e("__VUE_SSR_SETTERS__",n=>Gi=n)}const so=t=>{const e=Wt;return Ko(t),t.scope.on(),()=>{t.scope.off(),Ko(e)}},zu=()=>{Wt&&Wt.scope.off(),Ko(null)};function mp(t){return t.vnode.shapeFlag&4}let Gi=!1;function Ov(t,e=!1,n=!1){e&&dc(e);const{props:s,children:r}=t.vnode,i=mp(t);av(t,s,i,e),dv(t,r,n||e);const o=i?Mv(t,e):void 0;return e&&dc(!1),o}function Mv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,q0);const{setup:s}=n;if(s){Es();const r=t.setupContext=s.length>1?Uv(t):null,i=so(t),o=no(s,t,0,[t.props,r]),a=ch(o);if(_s(),i(),(a||t.sp)&&!Si(t)&&Wh(t),a){if(o.then(zu,zu),e)return o.then(l=>{Yu(t,l)}).catch(l=>{fa(l,t,0)});t.asyncDep=o}else Yu(t,o)}else vp(t)}function Yu(t,e,n){Te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:et(e)&&(t.setupState=Nh(e)),vp(t)}function vp(t,e,n){const s=t.type;t.render||(t.render=s.render||rs);{const r=so(t);Es();try{ev(t)}finally{_s(),r()}}}const Fv={get(t,e){return Kt(t,"get",""),t[e]}};function Uv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Fv),slots:t.slots,emit:t.emit,expose:e}}function va(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Nh(_0(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ti)return Ti[n](t)},has(e,n){return n in e||n in Ti}})):t.proxy}function $v(t,e=!0){return Te(t)?t.displayName||t.name:t.name||e&&t.__name}function Hv(t){return Te(t)&&"__vccOpts"in t}const ie=(t,e)=>k0(t,e,Gi);function nu(t,e,n){try{Qo(-1);const s=arguments.length;return s===2?et(e)&&!be(e)?Vo(e)?Be(t,null,[e]):Be(t,e):Be(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Vo(n)&&(n=[n]),Be(t,e,n))}finally{Qo(1)}}const Gv="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fc;const Xu=typeof window<"u"&&window.trustedTypes;if(Xu)try{fc=Xu.createPolicy("vue",{createHTML:t=>t})}catch{}const Ap=fc?t=>fc.createHTML(t):t=>t,Qv="http://www.w3.org/2000/svg",Vv="http://www.w3.org/1998/Math/MathML",cs=typeof document<"u"?document:null,Zu=cs&&cs.createElement("template"),Kv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?cs.createElementNS(Qv,t):e==="mathml"?cs.createElementNS(Vv,t):n?cs.createElement(t,{is:n}):cs.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>cs.createTextNode(t),createComment:t=>cs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Zu.innerHTML=Ap(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Zu.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ns="transition",vi="animation",Qi=Symbol("_vtc"),yp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Wv=Ot({},$h,yp),jv=t=>(t.displayName="Transition",t.props=Wv,t),Jv=jv((t,{slots:e})=>nu(F0,zv(t),e)),sr=(t,e=[])=>{be(t)?t.forEach(n=>n(...e)):t&&t(...e)},qu=t=>t?be(t)?t.some(e=>e.length>1):t.length>1:!1;function zv(t){const e={};for(const X in t)X in yp||(e[X]=t[X]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,w=Yv(r),m=w&&w[0],y=w&&w[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:A,onLeave:_,onLeaveCancelled:L,onBeforeAppear:H=v,onAppear:V=b,onAppearCancelled:K=A}=e,z=(X,F,O,T)=>{X._enterCancelled=T,rr(X,F?d:a),rr(X,F?u:o),O&&O()},M=(X,F)=>{X._isLeaving=!1,rr(X,f),rr(X,p),rr(X,h),F&&F()},D=X=>(F,O)=>{const T=X?V:b,W=()=>z(F,X,O);sr(T,[F,W]),ed(()=>{rr(F,X?l:i),as(F,X?d:a),qu(T)||td(F,s,m,W)})};return Ot(e,{onBeforeEnter(X){sr(v,[X]),as(X,i),as(X,o)},onBeforeAppear(X){sr(H,[X]),as(X,l),as(X,u)},onEnter:D(!1),onAppear:D(!0),onLeave(X,F){X._isLeaving=!0;const O=()=>M(X,F);as(X,f),X._enterCancelled?(as(X,h),rd(X)):(rd(X),as(X,h)),ed(()=>{X._isLeaving&&(rr(X,f),as(X,p),qu(_)||td(X,s,y,O))}),sr(_,[X,O])},onEnterCancelled(X){z(X,!1,void 0,!0),sr(A,[X])},onAppearCancelled(X){z(X,!0,void 0,!0),sr(K,[X])},onLeaveCancelled(X){M(X),sr(L,[X])}})}function Yv(t){if(t==null)return null;if(et(t))return[Pl(t.enter),Pl(t.leave)];{const e=Pl(t);return[e,e]}}function Pl(t){return Ym(t)}function as(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Qi]||(t[Qi]=new Set)).add(e)}function rr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Qi];n&&(n.delete(e),n.size||(t[Qi]=void 0))}function ed(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Xv=0;function td(t,e,n,s){const r=t._endId=++Xv,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Zv(t,e);if(!o)return s();const u=o+"end";let d=0;const f=()=>{t.removeEventListener(u,h),i()},h=p=>{p.target===t&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},a+1),t.addEventListener(u,h)}function Zv(t,e){const n=window.getComputedStyle(t),s=w=>(n[w]||"").split(", "),r=s(`${Ns}Delay`),i=s(`${Ns}Duration`),o=nd(r,i),a=s(`${vi}Delay`),l=s(`${vi}Duration`),u=nd(a,l);let d=null,f=0,h=0;e===Ns?o>0&&(d=Ns,f=o,h=i.length):e===vi?u>0&&(d=vi,f=u,h=l.length):(f=Math.max(o,u),d=f>0?o>u?Ns:vi:null,h=d?d===Ns?i.length:l.length:0);const p=d===Ns&&/\b(?:transform|all)(?:,|$)/.test(s(`${Ns}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function nd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>sd(n)+sd(t[s])))}function sd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function rd(t){return(t?t.ownerDocument:document).body.offsetHeight}function qv(t,e,n){const s=t[Qi];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Wo=Symbol("_vod"),wp=Symbol("_vsh"),bp={name:"show",beforeMount(t,{value:e},{transition:n}){t[Wo]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ai(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Ai(t,!0),s.enter(t)):s.leave(t,()=>{Ai(t,!1)}):Ai(t,e))},beforeUnmount(t,{value:e}){Ai(t,e)}};function Ai(t,e){t.style.display=e?t[Wo]:"none",t[wp]=!e}const eA=Symbol(""),tA=/(?:^|;)\s*display\s*:/;function nA(t,e,n){const s=t.style,r=bt(n);let i=!1;if(n&&!r){if(e)if(bt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&To(s,a,"")}else for(const o in e)n[o]==null&&To(s,o,"");for(const o in n)o==="display"&&(i=!0),To(s,o,n[o])}else if(r){if(e!==n){const o=s[eA];o&&(n+=";"+o),s.cssText=n,i=tA.test(n)}}else e&&t.removeAttribute("style");Wo in t&&(t[Wo]=i?s.display:"",t[wp]&&(s.display="none"))}const id=/\s*!important$/;function To(t,e,n){if(be(n))n.forEach(s=>To(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=sA(t,e);id.test(n)?t.setProperty(Xs(s),n.replace(id,""),"important"):t[s]=n}}const od=["Webkit","Moz","ms"],Bl={};function sA(t,e){const n=Bl[e];if(n)return n;let s=Dn(e);if(s!=="filter"&&s in t)return Bl[e]=s;s=ca(s);for(let r=0;r<od.length;r++){const i=od[r]+s;if(i in t)return Bl[e]=i}return e}const ad="http://www.w3.org/1999/xlink";function ld(t,e,n,s,r,i=n0(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(ad,e.slice(6,e.length)):t.setAttributeNS(ad,e,n):n==null||i&&!hh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":is(n)?String(n):n)}function cd(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Ap(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=hh(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function gs(t,e,n,s){t.addEventListener(e,n,s)}function rA(t,e,n,s){t.removeEventListener(e,n,s)}const ud=Symbol("_vei");function iA(t,e,n,s,r=null){const i=t[ud]||(t[ud]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=oA(e);if(s){const u=i[e]=cA(s,r);gs(t,a,u,l)}else o&&(rA(t,a,o,l),i[e]=void 0)}}const dd=/(?:Once|Passive|Capture)$/;function oA(t){let e;if(dd.test(t)){e={};let s;for(;s=t.match(dd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xs(t.slice(2)),e]}let kl=0;const aA=Promise.resolve(),lA=()=>kl||(aA.then(()=>kl=0),kl=Date.now());function cA(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;jn(uA(s,n.value),e,5,[s])};return n.value=t,n.attached=lA(),n}function uA(t,e){if(be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const fd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dA=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?qv(t,s,o):e==="style"?nA(t,n,s):aa(e)?$c(e)||iA(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fA(t,e,s,o))?(cd(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ld(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!bt(s))?cd(t,Dn(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),ld(t,e,s,o))};function fA(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&fd(e)&&Te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return fd(e)&&bt(n)?!1:e in t}const Js=t=>{const e=t.props["onUpdate:modelValue"]||!1;return be(e)?n=>Po(e,n):e};function hA(t){t.target.composing=!0}function hd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Rn=Symbol("_assign"),Wn={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Rn]=Js(r);const i=s||r.props&&r.props.type==="number";gs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Oo(a)),t[Rn](a)}),n&&gs(t,"change",()=>{t.value=t.value.trim()}),e||(gs(t,"compositionstart",hA),gs(t,"compositionend",hd),gs(t,"change",hd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Rn]=Js(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Oo(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},pA={deep:!0,created(t,e,n){t[Rn]=Js(n),gs(t,"change",()=>{const s=t._modelValue,r=ei(t),i=t.checked,o=t[Rn];if(be(s)){const a=Qc(s,r),l=a!==-1;if(i&&!l)o(s.concat(r));else if(!i&&l){const u=[...s];u.splice(a,1),o(u)}}else if(di(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(Cp(t,i))})},mounted:pd,beforeUpdate(t,e,n){t[Rn]=Js(n),pd(t,e,n)}};function pd(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(be(e))r=Qc(e,s.props.value)>-1;else if(di(e))r=e.has(s.props.value);else{if(e===n)return;r=Er(e,Cp(t,!0))}t.checked!==r&&(t.checked=r)}const gA={created(t,{value:e},n){t.checked=Er(e,n.props.value),t[Rn]=Js(n),gs(t,"change",()=>{t[Rn](ei(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[Rn]=Js(s),e!==n&&(t.checked=Er(e,s.props.value))}},Qs={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=di(e);gs(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Oo(ei(o)):ei(o));t[Rn](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Xc(()=>{t._assigning=!1})}),t[Rn]=Js(s)},mounted(t,{value:e}){gd(t,e)},beforeUpdate(t,e,n){t[Rn]=Js(n)},updated(t,{value:e}){t._assigning||gd(t,e)}};function gd(t,e){const n=t.multiple,s=be(e);if(!(n&&!s&&!di(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=ei(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Qc(e,a)>-1}else o.selected=e.has(a);else if(Er(ei(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ei(t){return"_value"in t?t._value:t.value}function Cp(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Ep={created(t,e,n){mo(t,e,n,null,"created")},mounted(t,e,n){mo(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){mo(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){mo(t,e,n,s,"updated")}};function mA(t,e){switch(t){case"SELECT":return Qs;case"TEXTAREA":return Wn;default:switch(e){case"checkbox":return pA;case"radio":return gA;default:return Wn}}}function mo(t,e,n,s,r){const o=mA(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,s)}const vA=["ctrl","shift","alt","meta"],AA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vA.some(n=>t[`${n}Key`]&&!e.includes(n))},hn=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let o=0;o<e.length;o++){const a=AA[e[o]];if(a&&a(r,e))return}return t(r,...i)}))},yA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_p=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=(r=>{if(!("key"in r))return;const i=Xs(r.key);if(e.some(o=>o===i||yA[o]===i))return t(r)}))},wA=Ot({patchProp:dA},Kv);let md;function bA(){return md||(md=hv(wA))}const CA=((...t)=>{const e=bA().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=_A(s);if(!r)return;const i=e._component;!Te(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,EA(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function EA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _A(t){return bt(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.0
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Mr=typeof document<"u";function xp(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function xA(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&xp(t.default)}const je=Object.assign;function Sl(t,e){const n={};for(const s in e){const r=e[s];n[s]=Jn(r)?r.map(t):t(r)}return n}const Ri=()=>{},Jn=Array.isArray;function vd(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const Ip=/#/g,IA=/&/g,PA=/\//g,BA=/=/g,kA=/\?/g,Pp=/\+/g,SA=/%5B/g,TA=/%5D/g,Bp=/%5E/g,NA=/%60/g,kp=/%7B/g,RA=/%7C/g,Sp=/%7D/g,DA=/%20/g;function su(t){return t==null?"":encodeURI(""+t).replace(RA,"|").replace(SA,"[").replace(TA,"]")}function LA(t){return su(t).replace(kp,"{").replace(Sp,"}").replace(Bp,"^")}function hc(t){return su(t).replace(Pp,"%2B").replace(DA,"+").replace(Ip,"%23").replace(IA,"%26").replace(NA,"`").replace(kp,"{").replace(Sp,"}").replace(Bp,"^")}function OA(t){return hc(t).replace(BA,"%3D")}function MA(t){return su(t).replace(Ip,"%23").replace(kA,"%3F")}function FA(t){return MA(t).replace(PA,"%2F")}function Vi(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const UA=/\/$/,$A=t=>t.replace(UA,"");function Tl(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),i=e.slice(l,a>0?a:e.length),r=t(i)),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=VA(s??e,n),{fullPath:s+i+o,path:s,query:r,hash:Vi(o)}}function HA(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ad(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function GA(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&ti(e.matched[s],n.matched[r])&&Tp(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ti(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Tp(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!QA(t[n],e[n]))return!1;return!0}function QA(t,e){return Jn(t)?yd(t,e):Jn(e)?yd(e,t):t===e}function yd(t,e){return Jn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function VA(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Rs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let pc=(function(t){return t.pop="pop",t.push="push",t})({}),Nl=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function KA(t){if(!t)if(Mr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),$A(t)}const WA=/^[^#]+#/;function jA(t,e){return t.replace(WA,"#")+e}function JA(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Aa=()=>({left:window.scrollX,top:window.scrollY});function zA(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=JA(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function wd(t,e){return(history.state?history.state.position-e:-1)+t}const gc=new Map;function YA(t,e){gc.set(t,e)}function XA(t){const e=gc.get(t);return gc.delete(t),e}function ZA(t){return typeof t=="string"||t&&typeof t=="object"}function Np(t){return typeof t=="string"||typeof t=="symbol"}let ht=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Rp=Symbol("");ht.MATCHER_NOT_FOUND+"",ht.NAVIGATION_GUARD_REDIRECT+"",ht.NAVIGATION_ABORTED+"",ht.NAVIGATION_CANCELLED+"",ht.NAVIGATION_DUPLICATED+"";function ni(t,e){return je(new Error,{type:t,[Rp]:!0},e)}function ls(t,e){return t instanceof Error&&Rp in t&&(e==null||!!(t.type&e))}const qA=["params","query","hash"];function ey(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of qA)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function ty(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(Pp," "),i=r.indexOf("="),o=Vi(i<0?r:r.slice(0,i)),a=i<0?null:Vi(r.slice(i+1));if(o in e){let l=e[o];Jn(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function bd(t){let e="";for(let n in t){const s=t[n];if(n=OA(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Jn(s)?s.map(r=>r&&hc(r)):[s&&hc(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function ny(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Jn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const sy=Symbol(""),Cd=Symbol(""),ya=Symbol(""),ru=Symbol(""),mc=Symbol("");function yi(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Hs(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(ni(ht.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?l(h):ZA(h)?l(ni(ht.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&s.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},d=i(()=>t.call(s&&s.instances[r],e,n,u));let f=Promise.resolve(d);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function Rl(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(xp(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Hs(u,n,s,o,a,r))}else{let u=l();i.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=xA(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&Hs(h,n,s,o,a,r)()}))}}return i}function ry(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>ti(u,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ti(u,l))||r.push(l))}return[n,s,r]}/*!
 * vue-router v4.6.0
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let iy=()=>location.protocol+"//"+location.host;function Dp(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let o=r.includes(t.slice(i))?t.slice(i).length:1,a=r.slice(o);return a[0]!=="/"&&(a="/"+a),Ad(a,"")}return Ad(n,t)+s+r}function oy(t,e,n,s){let r=[],i=[],o=null;const a=({state:h})=>{const p=Dp(t,location),w=n.value,m=e.value;let y=0;if(h){if(n.value=p,e.value=h,o&&o===w){o=null;return}y=m?h.position-m.position:0}else s(p);r.forEach(v=>{v(n.value,w,{delta:y,type:pc.pop,direction:y?y>0?Nl.forward:Nl.back:Nl.unknown})})};function l(){o=n.value}function u(h){r.push(h);const p=()=>{const w=r.indexOf(h);w>-1&&r.splice(w,1)};return i.push(p),p}function d(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(je({},h.state,{scroll:Aa()}),"")}}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:u,destroy:f}}function Ed(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Aa():null}}function ay(t){const{history:e,location:n}=window,s={value:Dp(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,d){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:iy()+t+l;try{e[d?"replaceState":"pushState"](u,"",h),r.value=u}catch(p){console.error(p),n[d?"replace":"assign"](h)}}function o(l,u){i(l,je({},e.state,Ed(r.value.back,l,r.value.forward,!0),u,{position:r.value.position}),!0),s.value=l}function a(l,u){const d=je({},r.value,e.state,{forward:l,scroll:Aa()});i(d.current,d,!0),i(l,je({},Ed(s.value,l,null),{position:d.position+1},u),!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function ly(t){t=KA(t);const e=ay(t),n=oy(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=je({location:"",base:t,go:s,createHref:jA.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function cy(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),ly(t)}let pr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var kt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(kt||{});const uy={type:pr.Static,value:""},dy=/[a-zA-Z0-9_]/;function fy(t){if(!t)return[[]];if(t==="/")return[[uy]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=kt.Static,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",d="";function f(){u&&(n===kt.Static?i.push({type:pr.Static,value:u}):n===kt.Param||n===kt.ParamRegExp||n===kt.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:pr.Param,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==kt.ParamRegExp){s=n,n=kt.EscapeNext;continue}switch(n){case kt.Static:l==="/"?(u&&f(),o()):l===":"?(f(),n=kt.Param):h();break;case kt.EscapeNext:h(),n=s;break;case kt.Param:l==="("?n=kt.ParamRegExp:dy.test(l)?h():(f(),n=kt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case kt.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=kt.ParamRegExpEnd:d+=l;break;case kt.ParamRegExpEnd:f(),n=kt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===kt.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}const _d="[^/]+?",hy={sensitive:!1,strict:!1,start:!0,end:!0};var tn=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(tn||{});const py=/[.+*?^${}()[\]/\\]/g;function gy(t,e){const n=je({},hy,e),s=[];let r=n.start?"^":"";const i=[];for(const u of t){const d=u.length?[]:[tn.Root];n.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const h=u[f];let p=tn.Segment+(n.sensitive?tn.BonusCaseSensitive:0);if(h.type===pr.Static)f||(r+="/"),r+=h.value.replace(py,"\\$&"),p+=tn.Static;else if(h.type===pr.Param){const{value:w,repeatable:m,optional:y,regexp:v}=h;i.push({name:w,repeatable:m,optional:y});const b=v||_d;if(b!==_d){p+=tn.BonusCustomRegExp;try{`${b}`}catch(_){throw new Error(`Invalid custom RegExp for param "${w}" (${b}): `+_.message)}}let A=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(A=y&&u.length<2?`(?:/${A})`:"/"+A),y&&(A+="?"),r+=A,p+=tn.Dynamic,y&&(p+=tn.BonusOptional),m&&(p+=tn.BonusRepeatable),b===".*"&&(p+=tn.BonusWildcard)}d.push(p)}s.push(d)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=tn.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const d=u.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",w=i[h-1];f[w.name]=p&&w.repeatable?p.split("/"):p}return f}function l(u){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const p of h)if(p.type===pr.Static)d+=p.value;else if(p.type===pr.Param){const{value:w,repeatable:m,optional:y}=p,v=w in u?u[w]:"";if(Jn(v)&&!m)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const b=Jn(v)?v.join("/"):v;if(!b)if(y)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);d+=b}}return d||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function my(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===tn.Static+tn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===tn.Static+tn.Segment?1:-1:0}function Lp(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=my(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(xd(s))return 1;if(xd(r))return-1}return r.length-s.length}function xd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vy={strict:!1,end:!0,sensitive:!1};function Ay(t,e,n){const s=gy(fy(t.path),n),r=je(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function yy(t,e){const n=[],s=new Map;e=vd(vy,e);function r(f){return s.get(f)}function i(f,h,p){const w=!p,m=Pd(f);m.aliasOf=p&&p.record;const y=vd(e,f),v=[m];if("alias"in f){const _=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of _)v.push(Pd(je({},m,{components:p?p.record.components:m.components,path:L,aliasOf:p?p.record:m})))}let b,A;for(const _ of v){const{path:L}=_;if(h&&L[0]!=="/"){const H=h.record.path,V=H[H.length-1]==="/"?"":"/";_.path=h.record.path+(L&&V+L)}if(b=Ay(_,h,y),p?p.alias.push(b):(A=A||b,A!==b&&A.alias.push(b),w&&f.name&&!Bd(b)&&o(f.name)),Op(b)&&l(b),m.children){const H=m.children;for(let V=0;V<H.length;V++)i(H[V],b,p&&p.children[V])}p=p||b}return A?()=>{o(A)}:Ri}function o(f){if(Np(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const h=Cy(f,n);n.splice(h,0,f),f.record.name&&!Bd(f)&&s.set(f.record.name,f)}function u(f,h){let p,w={},m,y;if("name"in f&&f.name){if(p=s.get(f.name),!p)throw ni(ht.MATCHER_NOT_FOUND,{location:f});y=p.record.name,w=je(Id(h.params,p.keys.filter(A=>!A.optional).concat(p.parent?p.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),f.params&&Id(f.params,p.keys.map(A=>A.name))),m=p.stringify(w)}else if(f.path!=null)m=f.path,p=n.find(A=>A.re.test(m)),p&&(w=p.parse(m),y=p.record.name);else{if(p=h.name?s.get(h.name):n.find(A=>A.re.test(h.path)),!p)throw ni(ht.MATCHER_NOT_FOUND,{location:f,currentLocation:h});y=p.record.name,w=je({},h.params,f.params),m=p.stringify(w)}const v=[];let b=p;for(;b;)v.unshift(b.record),b=b.parent;return{name:y,path:m,params:w,matched:v,meta:by(v)}}t.forEach(f=>i(f));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function Id(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Pd(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:wy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function wy(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Bd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function by(t){return t.reduce((e,n)=>je(e,n.meta),{})}function Cy(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;Lp(t,e[i])<0?s=i:n=i+1}const r=Ey(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function Ey(t){let e=t;for(;e=e.parent;)if(Op(e)&&Lp(t,e)===0)return e}function Op({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function kd(t){const e=Kn(ya),n=Kn(ru),s=ie(()=>{const l=Pe(t.to);return e.resolve(l)}),r=ie(()=>{const{matched:l}=s.value,{length:u}=l,d=l[u-1],f=n.matched;if(!d||!f.length)return-1;const h=f.findIndex(ti.bind(null,d));if(h>-1)return h;const p=Sd(l[u-2]);return u>1&&Sd(d)===p&&f[f.length-1].path!==p?f.findIndex(ti.bind(null,l[u-2])):h}),i=ie(()=>r.value>-1&&By(n.params,s.value.params)),o=ie(()=>r.value>-1&&r.value===n.matched.length-1&&Tp(n.params,s.value.params));function a(l={}){if(Py(l)){const u=e[Pe(t.replace)?"replace":"push"](Pe(t.to)).catch(Ri);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:s,href:ie(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function _y(t){return t.length===1?t[0]:t}const xy=Kh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:kd,setup(t,{slots:e}){const n=to(kd(t)),{options:s}=Kn(ya),r=ie(()=>({[Td(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Td(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&_y(e.default(n));return t.custom?i:nu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Iy=xy;function Py(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function By(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Jn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Sd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Td=(t,e,n)=>t??e??n,ky=Kh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Kn(mc),r=ie(()=>t.route||s.value),i=Kn(Cd,0),o=ie(()=>{let u=Pe(i);const{matched:d}=r.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=ie(()=>r.value.matched[o.value]);Bo(Cd,ie(()=>o.value+1)),Bo(sy,a),Bo(mc,r);const l=k();return ws(()=>[l.value,a.value,t.name],([u,d,f],[h,p,w])=>{d&&(d.instances[f]=u,p&&p!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),u&&d&&(!p||!ti(d,p)||!h)&&(d.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=r.value,d=t.name,f=a.value,h=f&&f.components[d];if(!h)return Nd(n.default,{Component:h,route:u});const p=f.props[d],w=p?p===!0?u.params:typeof p=="function"?p(u):p:null,y=nu(h,je({},w,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return Nd(n.default,{Component:y,route:u})||y}}});function Nd(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Sy=ky;function Ty(t){const e=yy(t.routes,t),n=t.parseQuery||ty,s=t.stringifyQuery||bd,r=t.history,i=yi(),o=yi(),a=yi(),l=x0(Rs);let u=Rs;Mr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Sl.bind(null,G=>""+G),f=Sl.bind(null,FA),h=Sl.bind(null,Vi);function p(G,le){let se,fe;return Np(G)?(se=e.getRecordMatcher(G),fe=le):fe=G,e.addRoute(fe,se)}function w(G){const le=e.getRecordMatcher(G);le&&e.removeRoute(le)}function m(){return e.getRoutes().map(G=>G.record)}function y(G){return!!e.getRecordMatcher(G)}function v(G,le){if(le=je({},le||l.value),typeof G=="string"){const S=Tl(n,G,le.path),Q=e.resolve({path:S.path},le),R=r.createHref(S.fullPath);return je(S,Q,{params:h(Q.params),hash:Vi(S.hash),redirectedFrom:void 0,href:R})}let se;if(G.path!=null)se=je({},G,{path:Tl(n,G.path,le.path).path});else{const S=je({},G.params);for(const Q in S)S[Q]==null&&delete S[Q];se=je({},G,{params:f(S)}),le.params=f(le.params)}const fe=e.resolve(se,le),ke=G.hash||"";fe.params=d(h(fe.params));const C=HA(s,je({},G,{hash:LA(ke),path:fe.path})),E=r.createHref(C);return je({fullPath:C,hash:ke,query:s===bd?ny(G.query):G.query||{}},fe,{redirectedFrom:void 0,href:E})}function b(G){return typeof G=="string"?Tl(n,G,l.value.path):je({},G)}function A(G,le){if(u!==G)return ni(ht.NAVIGATION_CANCELLED,{from:le,to:G})}function _(G){return V(G)}function L(G){return _(je(b(G),{replace:!0}))}function H(G,le){const se=G.matched[G.matched.length-1];if(se&&se.redirect){const{redirect:fe}=se;let ke=typeof fe=="function"?fe(G,le):fe;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=b(ke):{path:ke},ke.params={}),je({query:G.query,hash:G.hash,params:ke.path!=null?{}:G.params},ke)}}function V(G,le){const se=u=v(G),fe=l.value,ke=G.state,C=G.force,E=G.replace===!0,S=H(se,fe);if(S)return V(je(b(S),{state:typeof S=="object"?je({},ke,S.state):ke,force:C,replace:E}),le||se);const Q=se;Q.redirectedFrom=le;let R;return!C&&GA(s,fe,se)&&(R=ni(ht.NAVIGATION_DUPLICATED,{to:Q,from:fe}),me(fe,fe,!0,!1)),(R?Promise.resolve(R):M(Q,fe)).catch(x=>ls(x)?ls(x,ht.NAVIGATION_GUARD_REDIRECT)?x:Z(x):te(x,Q,fe)).then(x=>{if(x){if(ls(x,ht.NAVIGATION_GUARD_REDIRECT))return V(je({replace:E},b(x.to),{state:typeof x.to=="object"?je({},ke,x.to.state):ke,force:C}),le||Q)}else x=X(Q,fe,!0,E,ke);return D(Q,fe,x),x})}function K(G,le){const se=A(G,le);return se?Promise.reject(se):Promise.resolve()}function z(G){const le=at.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(G):G()}function M(G,le){let se;const[fe,ke,C]=ry(G,le);se=Rl(fe.reverse(),"beforeRouteLeave",G,le);for(const S of fe)S.leaveGuards.forEach(Q=>{se.push(Hs(Q,G,le))});const E=K.bind(null,G,le);return se.push(E),tt(se).then(()=>{se=[];for(const S of i.list())se.push(Hs(S,G,le));return se.push(E),tt(se)}).then(()=>{se=Rl(ke,"beforeRouteUpdate",G,le);for(const S of ke)S.updateGuards.forEach(Q=>{se.push(Hs(Q,G,le))});return se.push(E),tt(se)}).then(()=>{se=[];for(const S of C)if(S.beforeEnter)if(Jn(S.beforeEnter))for(const Q of S.beforeEnter)se.push(Hs(Q,G,le));else se.push(Hs(S.beforeEnter,G,le));return se.push(E),tt(se)}).then(()=>(G.matched.forEach(S=>S.enterCallbacks={}),se=Rl(C,"beforeRouteEnter",G,le,z),se.push(E),tt(se))).then(()=>{se=[];for(const S of o.list())se.push(Hs(S,G,le));return se.push(E),tt(se)}).catch(S=>ls(S,ht.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function D(G,le,se){a.list().forEach(fe=>z(()=>fe(G,le,se)))}function X(G,le,se,fe,ke){const C=A(G,le);if(C)return C;const E=le===Rs,S=Mr?history.state:{};se&&(fe||E?r.replace(G.fullPath,je({scroll:E&&S&&S.scroll},ke)):r.push(G.fullPath,ke)),l.value=G,me(G,le,se,E),Z()}let F;function O(){F||(F=r.listen((G,le,se)=>{if(!lt.listening)return;const fe=v(G),ke=H(fe,lt.currentRoute.value);if(ke){V(je(ke,{replace:!0,force:!0}),fe).catch(Ri);return}u=fe;const C=l.value;Mr&&YA(wd(C.fullPath,se.delta),Aa()),M(fe,C).catch(E=>ls(E,ht.NAVIGATION_ABORTED|ht.NAVIGATION_CANCELLED)?E:ls(E,ht.NAVIGATION_GUARD_REDIRECT)?(V(je(b(E.to),{force:!0}),fe).then(S=>{ls(S,ht.NAVIGATION_ABORTED|ht.NAVIGATION_DUPLICATED)&&!se.delta&&se.type===pc.pop&&r.go(-1,!1)}).catch(Ri),Promise.reject()):(se.delta&&r.go(-se.delta,!1),te(E,fe,C))).then(E=>{E=E||X(fe,C,!1),E&&(se.delta&&!ls(E,ht.NAVIGATION_CANCELLED)?r.go(-se.delta,!1):se.type===pc.pop&&ls(E,ht.NAVIGATION_ABORTED|ht.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),D(fe,C,E)}).catch(Ri)}))}let T=yi(),W=yi(),oe;function te(G,le,se){Z(G);const fe=W.list();return fe.length?fe.forEach(ke=>ke(G,le,se)):console.error(G),Promise.reject(G)}function ne(){return oe&&l.value!==Rs?Promise.resolve():new Promise((G,le)=>{T.add([G,le])})}function Z(G){return oe||(oe=!G,O(),T.list().forEach(([le,se])=>G?se(G):le()),T.reset()),G}function me(G,le,se,fe){const{scrollBehavior:ke}=t;if(!Mr||!ke)return Promise.resolve();const C=!se&&XA(wd(G.fullPath,0))||(fe||!se)&&history.state&&history.state.scroll||null;return Xc().then(()=>ke(G,le,C)).then(E=>E&&zA(E)).catch(E=>te(E,G,le))}const xe=G=>r.go(G);let ut;const at=new Set,lt={currentRoute:l,listening:!0,addRoute:p,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:v,options:t,push:_,replace:L,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:W.add,isReady:ne,install(G){G.component("RouterLink",Iy),G.component("RouterView",Sy),G.config.globalProperties.$router=lt,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>Pe(l)}),Mr&&!ut&&l.value===Rs&&(ut=!0,_(r.location).catch(fe=>{}));const le={};for(const fe in Rs)Object.defineProperty(le,fe,{get:()=>l.value[fe],enumerable:!0});G.provide(ya,lt),G.provide(ru,Sh(le)),G.provide(mc,l);const se=G.unmount;at.add(G),G.unmount=function(){at.delete(G),at.size<1&&(u=Rs,F&&F(),F=null,l.value=Rs,ut=!1,oe=!1),se()}}};function tt(G){return G.reduce((le,se)=>le.then(()=>z(se)),Promise.resolve())}return lt}function Ht(){return Kn(ya)}function Ny(t){return Kn(ru)}const Zs=()=>JSON.parse(localStorage.getItem("users")||"[]"),qe=()=>{const t=sessionStorage.getItem("currentUser");return t?JSON.parse(t):null},iu=t=>Zs().find(n=>n.id===t||n.walletAddress===t),Mp=t=>{const e=Zs(),n=iu(t);if(n)return n;const r=(o=>{const a=o.toString().split("").reduce((f,h)=>(f<<5)-f+h.charCodeAt(0),0),l="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let u="",d=Math.abs(a);for(let f=0;f<6;f++)u+=l[d%l.length],d=Math.floor(d/l.length);return u})(t),i={id:t,walletAddress:t,loginType:"wallet",inviteCode:r,createdAt:new Date().toISOString(),referrals:[],gameData:{level:1,coins:0,totalCoin:0,catFragments:50,nftCount:0,miningLevel:1,huntingLevel:1,explorationLevel:1,productionLevel:1,miningCats:[null,null,null,null],huntingCats:[null,null,null,null],explorationCats:[null,null,null,null],productionCats:[null,null,null,null],inventory:[]}};return e.push(i),localStorage.setItem("users",JSON.stringify(e)),i},Ki=async(t,e)=>{const n=qe(),s=Zs(),r=s.findIndex(i=>i.id===t);return r!==-1?(s[r].gameData={...s[r].gameData,...e},localStorage.setItem("users",JSON.stringify(s)),n&&n.id===t&&(n.gameData={...n.gameData,...e},sessionStorage.setItem("currentUser",JSON.stringify(n))),!0):!1},Fp=()=>{sessionStorage.removeItem("currentUser")},Up=()=>{const t=localStorage.getItem("appLanguage");return!t||t===""?(localStorage.setItem("appLanguage","English"),"English"):t},vn=()=>{const t=Up();return{ko:{home:"",game:"",exchange:"",quest:"",inventory:"",factory:"",mining:"",hunting:"",exploration:"",production:"",back:" ",settings:"",notification:"",login:"",signup:"",email:"",password:"",loginButton:"",signupButton:"",walletConnect:" ",createCat:" ",catFragments:" ",coin:"",point:"",energy:"",level:"",complete:"",confirm:"",cancel:"",close:"",success:"",error:"",loading:" ...",insufficient:"",required:"",optional:"",daily:"",weekly:"",monthly:"",quest:"",reward:"",receive:"",received:"",inProgress:" ",completed:"",buy:"",sell:"",shop:"",profile:"",attendance:"",nft:"NFT",inventory:"",factory:"",exchange:"",settings:"",logout:"",language:"",sound:"",vibration:"",totalPoints:" ",totalCoins:" ",createCatSuccess:"  !",newCatAdded:"   !",enterEmail:" ",enterPassword:" ",enterAllFields:"  ",loginError:"   ",invalidCredentials:"    ",walletNotInstalled:"MetaMask   ",installMetaMask:"MetaMask ?",walletConnectFailed:"  ",walletConnectError:"    ",insufficientCoins:" ",insufficientFragments:"  ",insufficientPoints:" ",insufficientEnergy:" ",purchaseSuccess:" !",purchaseFailed:" ",tradeSuccess:" !",tradeFailed:" ",createSuccess:" !",createFailed:" ",rewardReceived:" ",alreadyReceived:"  ",questNotCompleted:"  ",loginRequired:" ",copySuccess:"",saveSuccess:"",saveFailed:" ",common:"",rare:"",epic:"",legendary:"",stars:"",stats:"",exp:"",maxExp:" ",levelUp:"",levelUpCost:" ",select:"",selected:"",filter:"",sort:"",search:"",newest:"",oldest:"",byLevel:"",byStars:"",byRarity:"",byName:"",all:"",miningEfficiency:" ",huntingDamage:" ",explorationReward:" ",productionSpeed:" ",strength:"",health:"",intelligence:"",dexterity:"",courage:"",luck:"",earned:"",pointsEarned:"point !",fragmentsEarned:" ",fragmentsEarnedCount:" !",miningComplete:" !",huntingComplete:" !",explorationComplete:" !",productionComplete:" !",miningCatList:"  ",huntingCatList:"  ",explorationCatList:"  ",productionCatList:"  ",levelUp:"!",progress:"",miningProgress:" ",huntingProgress:" ",explorationProgress:" ",productionProgress:" ",miningSuccess:" !",oreFound:" !",moneyEarned:"!",digMore:" !",monsterKilled:" !",expEarned:" !",goldEarned:" !",newAreaFound:"  !",treasureFound:" !",adventureSuccess:" !",mysteriousDiscovery:" !",craftComplete:" !",itemCreated:" !",skillImproved:" !",perfectWork:" !",success:"!",good:"!",complete:"!",amazing:"!",selectCat:" ",removeCat:" ",ownedPoints:" ",ownedCoins:" ",exchangeRate:"",buyCoinAmount:"  ",sellCoinAmount:"  ",requiredPoints:" ",pointsToReceive:" ",buyButton:"",sellButton:"",exampleAmount:": 1",coinBuy:"Coin ",coinSell:"Coin ",pointUsed:" ",pointReceived:" ",inProgress:"",completed:"",receive:"",rewardReceived:"  !",earnedReward:" .",emptyInventory:"Inventory is empty",totalItems:"Total",items:"items",searchAndFilter:"Search & Filter",searchPlaceholder:"Search by NFT name or ID...",starRating:"Star Rating",levelFilter:"Level",rarityFilter:"Rarity",sortBy:"Sort By",stars:"Stars",levelHighToLow:"Level (High to Low)",starsHighToLow:"Stars (High to Low)",rarityHighToLow:"Rarity (High to Low)",nameOrder:"Name Order",reset:"Reset",apply:"Apply",stats:"Stats",imageId:"Image ID",createdAt:"Created At",levelUpButton:"Level Up",selectButton:"Select",doubleClickDetail:"Double-click for details",noNFTs:"No NFTs",createCatInFactory:"Create cats in the Factory!",selectedCharacter:"Selected Character",cat:"Cat",userSettings:" ",walletConnection:" ",connected:"",address:"",balance:"",depositFromWallet:" ",disconnect:" ",walletNotConnected:"  ",walletConnectDesc:"NFT    ",connecting:" ...",attendance:"",doAttendanceCheck:" ",selectDepositMethod:"  ",selectExchangeToDeposit:"  ",goToPhantomWallet:"  ",goToUpbitExchange:"  ",copyWalletAddressAndDeposit:"    ",copyWalletAddress:"  ",walletConnected:" !",disconnectWalletConfirm:"  ?",walletAddressCopied:"  !",copyFailed:" ",refreshBalance:" ",alreadyCheckedIn:"   !",checkInComplete:" !",wallet:"",energy100:" 100",energy500:" 500",energy1000:" 1000",energy2000:" 2000",energyRecover:"",energyRecovered:"",purchaseComplete:" !",currentEnergy:"",loginRequired:" .",insufficientPoints:" .",insufficientCoins:" .",purchaseFailed:" .  .",buy:"",back:" ",mining:"",miningLevel:" ",miningStart:" ",miningInProgress:" ...",ownedResources:" ",stone:"",iron:"",gold:"",diamond:"",hunting:"",playerInfo:" ",health:"",attack:"",exp:"",monsterSelection:" ",huntingStart:" ",huntingInProgress:" ...",exploration:"",explorationLevel:" ",explorationArea:" ",undiscovered:"",exploring:" ",explorationStart:" ",explorationInProgress:" ...",explorationRewards:" ",production:"",productionLevel:" ",materialInventory:" ",recipe:" ",productionStart:" ",productionInProgress:" ...",notification:"",markAllRead:" ",noNotifications:" .",attendance:"",attendanceCheck:"",day:"Day",attendanceComplete:" !",pointsEarned:" !",alreadyCheckedToday:"   !   .",alreadyChecked:"  .",nextOrderOnly:"   .",marketplace:"",inviteFriends:" ",inviteCode:" ",copyInviteCode:"  ",shareKakao:" ",inviteDescription:"   !",inviteReward:" ",inviteRewardDesc:" 1   100 ",newUserReward:"  : 50 ",totalInvites:" ",invites:"",codeCopied:"  !",shareSuccess:"  !",shareFailed:"  .",inviteStats:" ",shareLink:" ",copyLink:" ",linkCopied:" !",shareNative:"",myNFTs:" NFT",myListings:" ",onSale:" ",totalVolume:" ",itemsCount:"",noNFTsInWallet:"NFT ",allRarity:" ",allPrice:" ",under1000Coins:"1,000  ",midPriceRange:"1,000 - 5,000 ",over5000Coins:"5,000  ",oldest:"",priceLow:" ",priceHigh:" ",levelHigh:" ",starsHigh:"  ",price:"",buy:"",noNFTsOnSale:"  NFT ",myNFTsCount:" NFT",ownedCoins:" ",sell:"",noNFTsAvailableForSale:"  NFT ",mySalesList:"  ",salePrice:" ",cancelSale:" ",noNFTsOnSaleList:"  NFT ",confirmCancelSale:"  ?",enterValidPrice:"  .",loginRequired:" .",nftListedOnMarketplace:"NFT  !",saleCancelled:" .",insufficientCoinsForPurchase:" .",nftPurchased:"NFT !",coinsPaid:" ",sellNFT:"NFT ",starsRating:"",sellPriceLabel:"  ()",enterPrice:" ",currentOwnedCoins:"  ",cancel:"",registerSale:" ",buyNFT:"NFT ",insufficientCoinsWarning:" !",imageId:" ID",send:"",sendFeatureComingSoon:"   .",buyFeatureComingSoon:"   .",receive:"",receiveFeatureComingSoon:"   .",searchNFT:"",searchPlaceholderNFT:"NFT   ID ...",reset:"",apply:""},en:{home:"Home",game:"Game",exchange:"Exchange",quest:"Quest",inventory:"Inventory",factory:"Factory",mining:"Mining",hunting:"Hunting",exploration:"Exploration",production:"Production",back:" Back",settings:"Settings",notification:"Notification",login:"Login",signup:"Sign Up",email:"Email",password:"Password",loginButton:"Login",signupButton:"Sign Up",walletConnect:"Connect Wallet",createCat:"Create Cat",catFragments:"Cat Fragments",coin:"Coin",point:"Point",energy:"Energy",level:"Level",complete:"Complete",confirm:"Confirm",cancel:"Cancel",close:"Close",success:"Success",error:"Error",loading:"Loading...",insufficient:"Insufficient",required:"Required",optional:"Optional",daily:"Daily",weekly:"Weekly",monthly:"Monthly",quest:"Quest",reward:"Reward",receive:"Receive",received:"Received",inProgress:"In Progress",completed:"Completed",buy:"Buy",sell:"Sell",shop:"Shop",profile:"Profile",attendance:"Attendance",nft:"NFT",inventory:"Inventory",factory:"Factory",exchange:"Exchange",settings:"Settings",logout:"Logout",language:"Language",sound:"Sound",vibration:"Vibration",totalPoints:"Total Points",totalCoins:"Total Coins",createCatSuccess:"Cat Created Successfully!",newCatAdded:"A new cat has been added to your inventory!",enterEmail:"Please enter your email",enterPassword:"Please enter your password",enterAllFields:"Please enter all fields",loginError:"An error occurred during login",invalidCredentials:"Email or password is incorrect",walletNotInstalled:"MetaMask is not installed",installMetaMask:"Would you like to install MetaMask?",walletConnectFailed:"Failed to connect wallet",walletConnectError:"An error occurred while connecting wallet",insufficientCoins:"Insufficient coins",insufficientFragments:"Insufficient cat fragments",insufficientPoints:"Insufficient points",insufficientEnergy:"Insufficient energy",purchaseSuccess:"Purchase successful!",purchaseFailed:"Purchase failed",tradeSuccess:"Trade successful!",tradeFailed:"Trade failed",createSuccess:"Creation successful!",createFailed:"Creation failed",rewardReceived:"Reward received",alreadyReceived:"Reward already received",questNotCompleted:"Quest not completed",loginRequired:"Login required",copySuccess:"Copied successfully",saveSuccess:"Saved successfully",saveFailed:"Failed to save",common:"Common",rare:"Rare",epic:"Epic",legendary:"Legendary",stars:"Stars",stats:"Stats",exp:"EXP",maxExp:"Max EXP",levelUp:"Level Up",levelUpCost:"Level Up Cost",select:"Select",selected:"Selected",filter:"Filter",sort:"Sort",search:"Search",newest:"Newest",oldest:"Oldest",byLevel:"By Level",byStars:"By Stars",byRarity:"By Rarity",byName:"By Name",all:"All",miningEfficiency:"Mining Efficiency",huntingDamage:"Hunting Damage",explorationReward:"Exploration Reward",productionSpeed:"Production Speed",strength:"Strength",health:"Health",intelligence:"Intelligence",dexterity:"Dexterity",courage:"Courage",luck:"Luck",earned:"Earned",pointsEarned:"points earned!",fragmentsEarned:"Cat Fragments",fragmentsEarnedCount:"earned!",miningComplete:"Mining Complete!",huntingComplete:"Hunting Complete!",explorationComplete:"Exploration Complete!",productionComplete:"Production Complete!",miningCatList:"Mining Cats",huntingCatList:"Hunting Cats",explorationCatList:"Exploration Cats",productionCatList:"Production Cats",levelUp:"Level Up!",progress:"Progress",miningProgress:"Mining Progress",huntingProgress:"Hunting Progress",explorationProgress:"Exploration Progress",productionProgress:"Production Progress",miningSuccess:"Mining Success!",oreFound:"Ore Found!",moneyEarned:"Money Earned!",digMore:"Dig More!",monsterKilled:"Monster Killed!",expEarned:"EXP Earned!",goldEarned:"Gold Earned!",newAreaFound:"New Area Found!",treasureFound:"Treasure Found!",adventureSuccess:"Adventure Success!",mysteriousDiscovery:"Mysterious Discovery!",craftComplete:"Craft Complete!",itemCreated:"Item Created!",skillImproved:"Skill Improved!",perfectWork:"Perfect Work!",success:"Success!",good:"Good!",complete:"Complete!",amazing:"Amazing!",selectCat:"Select Cat",removeCat:"Remove Cat",ownedPoints:"Owned Points",ownedCoins:"Owned Coins",exchangeRate:"Exchange Rate",buyCoinAmount:"Amount of Coins to Buy",sellCoinAmount:"Amount of Coins to Sell",requiredPoints:"Required Points",pointsToReceive:"Points to Receive",buyButton:"Buy",sellButton:"Sell",exampleAmount:"Ex: 1",coinBuy:"Buy Coin",coinSell:"Sell Coin",pointUsed:"Points Used",pointReceived:"Points Received",inProgress:"In Progress",completed:"Completed",receive:"Claim Reward",rewardReceived:"Reward Received!",earnedReward:"earned.",emptyInventory:"Inventory is empty",totalItems:"Total",items:"items",searchAndFilter:"Search & Filter",searchPlaceholder:"Search by NFT name or ID...",starRating:"Star Rating",levelFilter:"Level",rarityFilter:"Rarity",sortBy:"Sort By",stars:"Stars",levelHighToLow:"Level (High to Low)",starsHighToLow:"Stars (High to Low)",rarityHighToLow:"Rarity (High to Low)",nameOrder:"Name Order",reset:"Reset",apply:"Apply",stats:"Stats",imageId:"Image ID",createdAt:"Created At",levelUpButton:"Level Up",selectButton:"Select",doubleClickDetail:"Double-click for details",noNFTs:"No NFTs",createCatInFactory:"Create cats in the Factory!",selectedCharacter:"Selected Character",cat:"Cat",userSettings:"User Settings",walletConnection:"Wallet Connection",connected:"Connected",address:"Address",balance:"Balance",depositFromWallet:"Deposit from Wallet",disconnect:"Disconnect",walletNotConnected:"Wallet is not connected",walletConnectDesc:"Please connect your wallet to enjoy NFT games",connecting:"Connecting...",attendance:"Attendance Check",doAttendanceCheck:"Do Attendance Check",selectDepositMethod:"Select Deposit Method",selectExchangeToDeposit:"Please select an exchange to deposit",goToPhantomWallet:"Go to Phantom Wallet",goToUpbitExchange:"Go to Upbit Exchange",copyWalletAddressAndDeposit:"Copy wallet address and deposit at exchange",copyWalletAddress:"Copy Wallet Address",walletConnected:"Wallet connected!",disconnectWalletConfirm:"Are you sure you want to disconnect your wallet?",walletAddressCopied:"Wallet address copied!",copyFailed:"Copy failed",refreshBalance:"Refresh Balance",alreadyCheckedIn:"You have already checked in today!",checkInComplete:"Check-in complete! You received",wallet:"Wallet",marketplace:"Marketplace",myNFTs:"My NFTs",myListings:"My Sales",onSale:"On Sale",totalVolume:"Total Volume",itemsCount:"items",noNFTsInWallet:"No NFTs",allRarity:"All Rarity",allPrice:"All Price",under1000Coins:"Under 1,000 Coins",midPriceRange:"1,000 - 5,000 Coins",over5000Coins:"Over 5,000 Coins",oldest:"Oldest",priceLow:"Price Low",priceHigh:"Price High",levelHigh:"Level High",starsHigh:"Stars High",price:"Price",buy:"Buy",noNFTsOnSale:"No NFTs on sale",myNFTsCount:"My NFTs",ownedCoins:"Owned Coins",sell:"Sell",noNFTsAvailableForSale:"No NFTs available for sale",mySalesList:"My Sales List",salePrice:"Sale Price",cancelSale:"Cancel Sale",noNFTsOnSaleList:"No NFTs on sale",confirmCancelSale:"Are you sure you want to cancel the sale?",enterValidPrice:"Please enter a valid price.",loginRequired:"Login required.",nftListedOnMarketplace:"NFT listed on marketplace!",saleCancelled:"Sale cancelled.",insufficientCoinsForPurchase:"Insufficient coins.",nftPurchased:"NFT purchased!",coinsPaid:"coins paid",sellNFT:"Sell NFT",starsRating:"Stars",sellPriceLabel:"Sale Price (Coins)",enterPrice:"Enter price",currentOwnedCoins:"Current Owned Coins",cancel:"Cancel",registerSale:"Register Sale",buyNFT:"Buy NFT",insufficientCoinsWarning:"Insufficient coins!",imageId:"Image ID",send:"Send",sendFeatureComingSoon:"Send feature is coming soon.",buyFeatureComingSoon:"Buy feature is coming soon.",receive:"Receive",receiveFeatureComingSoon:"Receive feature is coming soon.",searchNFT:"Search",searchPlaceholderNFT:"Search by NFT name or ID...",reset:"Reset",apply:"Apply",energy100:"Energy 100",energy500:"Energy 500",energy1000:"Energy 1000",energy2000:"Energy 2000",energyRecover:"Recovers",energyRecovered:"energy recovered",purchaseComplete:"Purchase complete!",currentEnergy:"Current",loginRequired:"Login required.",insufficientPoints:"Insufficient points.",insufficientCoins:"Insufficient coins.",purchaseFailed:"Purchase failed. Please try again.",buy:"Buy",back:" Back",mining:"Mining",miningLevel:"Mining Level",miningStart:"Start Mining",miningInProgress:"Mining...",ownedResources:"Owned Resources",stone:"Stone",iron:"Iron",gold:"Gold",diamond:"Diamond",hunting:"Hunting",playerInfo:"Player Info",health:"Health",attack:"Attack",exp:"EXP",monsterSelection:"Monster Selection",huntingStart:"Start Hunting",huntingInProgress:"Hunting...",exploration:"Exploration",explorationLevel:"Exploration Level",explorationArea:"Exploration Area",undiscovered:"Undiscovered",exploring:"Exploring",explorationStart:"Start Exploration",explorationInProgress:"Exploring...",explorationRewards:"Exploration Rewards",production:"Production",productionLevel:"Production Level",materialInventory:"Material Inventory",recipe:"Recipe",productionStart:"Start Production",productionInProgress:"Producing...",notification:"Notification",markAllRead:"Mark All Read",noNotifications:"No notifications.",attendance:"Attendance",attendanceCheck:"Attendance Check",day:"Day",attendanceComplete:"Attendance complete!",pointsEarned:"points earned!",alreadyCheckedToday:"Already checked in today! Please try again tomorrow.",alreadyChecked:"Already checked.",nextOrderOnly:"Only the next order can be checked.",inviteFriends:"Invite Friends",inviteCode:"Invite Code",copyInviteCode:"Copy Invite Code",shareKakao:"Share via KakaoTalk",inviteDescription:"Invite friends and get rewards!",inviteReward:"Invite Reward",inviteRewardDesc:"100 Points per friend invited",newUserReward:"New User Reward: 50 Points",totalInvites:"Total Invites",invites:"friends",codeCopied:"Invite code copied!",shareSuccess:"Shared via KakaoTalk successfully!",shareFailed:"Failed to share via KakaoTalk.",inviteStats:"Invite Statistics",shareLink:"Share Link",copyLink:"Copy Link",linkCopied:"Link copied!",shareNative:"Share"}}[t===""?"ko":"en"]},Ry=Object.freeze(Object.defineProperty({__proto__:null,createWalletUser:Mp,getAllUsers:Zs,getCurrentLanguage:Up,getCurrentUser:qe,getI18nTexts:vn,getUserByWalletAddress:iu,logoutUser:Fp,updateUserGameData:Ki},Symbol.toStringTag,{value:"Module"})),Dy="6.15.0";function Ly(t,e,n){const s=e.split("|").map(i=>i.trim());for(let i=0;i<s.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const r=new Error(`invalid value for type ${e}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${n}`,r.value=t,r}async function nn(t){const e=Object.keys(t);return(await Promise.all(e.map(s=>Promise.resolve(t[s])))).reduce((s,r,i)=>(s[e[i]]=r,s),{})}function _e(t,e,n){for(let s in e){let r=e[s];const i=n?n[s]:null;i&&Ly(r,i,s),Object.defineProperty(t,s,{enumerable:!0,value:r,writable:!1})}}function Ur(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Ur(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let s="0x";for(let r=0;r<t.length;r++)s+=n[t[r]>>4],s+=n[t[r]&15];return s}if(typeof t=="object"&&typeof t.toJSON=="function")return Ur(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(s=>`${Ur(s,e)}: ${Ur(t[s],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function $t(t,e){return t&&t.code===e}function ou(t){return $t(t,"CALL_EXCEPTION")}function dt(t,e,n){let s=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Ur(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];i.push(o+"="+Ur(a))}}i.push(`code=${e}`),i.push(`version=${Dy}`),i.length&&(t+=" ("+i.join(", ")+")")}let r;switch(e){case"INVALID_ARGUMENT":r=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(t);break;default:r=new Error(t)}return _e(r,{code:e}),n&&Object.assign(r,n),r.shortMessage==null&&_e(r,{shortMessage:s}),r}function Y(t,e,n,s){if(!t)throw dt(e,n,s)}function B(t,e,n,s){Y(t,e,"INVALID_ARGUMENT",{argument:n,value:s})}function $p(t,e,n){n==null&&(n=""),n&&(n=": "+n),Y(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Y(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function ro(t,e,n){if(n==null&&(n=""),t!==e){let s=n,r="new";n&&(s+=".",r+=" "+n),Y(!1,`private constructor; use ${s}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function Hp(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const s=new Uint8Array((t.length-2)/2);let r=2;for(let i=0;i<s.length;i++)s[i]=parseInt(t.substring(r,r+2),16),r+=2;return s}B(!1,"invalid BytesLike value",e||"value",t)}function Fe(t,e){return Hp(t,e,!1)}function on(t,e){return Hp(t,e,!0)}function ot(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function au(t){return ot(t,!0)||t instanceof Uint8Array}const Rd="0123456789abcdef";function ce(t){const e=Fe(t);let n="0x";for(let s=0;s<e.length;s++){const r=e[s];n+=Rd[(r&240)>>4]+Rd[r&15]}return n}function vt(t){return"0x"+t.map(e=>ce(e).substring(2)).join("")}function jr(t){return ot(t,!0)?(t.length-2)/2:Fe(t).length}function pt(t,e,n){const s=Fe(t);return n!=null&&n>s.length&&Y(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:n}),ce(s.slice(e??0,n??s.length))}function Gp(t,e,n){const s=Fe(t);Y(e>=s.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(s),length:e,offset:e+1});const r=new Uint8Array(e);return r.fill(0),n?r.set(s,e-s.length):r.set(s,0),ce(r)}function xs(t,e){return Gp(t,e,!0)}function Oy(t,e){return Gp(t,e,!1)}const wa=BigInt(0),Qn=BigInt(1),$r=9007199254740991;function jo(t,e){const n=ba(t,"value"),s=BigInt(Me(e,"width"));if(Y(n>>s===wa,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>s-Qn){const r=(Qn<<s)-Qn;return-((~n&r)+Qn)}return n}function Qp(t,e){let n=pe(t,"value");const s=BigInt(Me(e,"width")),r=Qn<<s-Qn;if(n<wa){n=-n,Y(n<=r,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Qn<<s)-Qn;return(~n&i)+Qn}else Y(n<r,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function gr(t,e){const n=ba(t,"value"),s=BigInt(Me(e,"bits"));return n&(Qn<<s)-Qn}function pe(t,e){switch(typeof t){case"bigint":return t;case"number":return B(Number.isInteger(t),"underflow",e||"value",t),B(t>=-$r&&t<=$r,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){B(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}B(!1,"invalid BigNumberish value",e||"value",t)}function ba(t,e){const n=pe(t,e);return Y(n>=wa,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Dd="0123456789abcdef";function Ca(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Dd[n>>4],e+=Dd[n&15];return BigInt(e)}return pe(t)}function Me(t,e){switch(typeof t){case"bigint":return B(t>=-$r&&t<=$r,"overflow",e||"value",t),Number(t);case"number":return B(Number.isInteger(t),"underflow",e||"value",t),B(t>=-$r&&t<=$r,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Me(BigInt(t),e)}catch(n){B(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}B(!1,"invalid numeric value",e||"value",t)}function My(t){return Me(Ca(t))}function zs(t,e){let s=ba(t,"value").toString(16);if(e==null)s.length%2&&(s="0"+s);else{const r=Me(e,"width");for(Y(r*2>=s.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});s.length<r*2;)s="0"+s}return"0x"+s}function St(t){const e=ba(t,"value");if(e===wa)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const s=new Uint8Array(n.length/2);for(let r=0;r<s.length;r++){const i=r*2;s[r]=parseInt(n.substring(i,i+2),16)}return s}function Gn(t){let e=ce(au(t)?t:St(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Ld="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Od=BigInt(58);function Fy(t){const e=Fe(t);let n=Ca(e),s="";for(;n;)s=Ld[Number(n%Od)]+s,n/=Od;for(let r=0;r<e.length&&!e[r];r++)s=Ld[0]+s;return s}function Uy(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Fe(e)}function $y(t){const e=Fe(t);let n="";for(let s=0;s<e.length;s++)n+=String.fromCharCode(e[s]);return btoa(n)}class Vp{filter;emitter;#e;constructor(e,n,s){this.#e=n,_e(this,{emitter:e,filter:s})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function Hy(t,e,n,s,r){B(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function Kp(t,e,n,s,r){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function Gy(t,e,n,s,r){return t==="OVERLONG"?(B(typeof r=="number","invalid bad code point for replacement","badCodepoint",r),s.push(r),0):(s.push(65533),Kp(t,e,n))}const Qy=Object.freeze({error:Hy,ignore:Kp,replace:Gy});function Vy(t,e){e==null&&(e=Qy.error);const n=Fe(t,"bytes"),s=[];let r=0;for(;r<n.length;){const i=n[r++];if(i>>7===0){s.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?r+=e("UNEXPECTED_CONTINUE",r-1,n,s):r+=e("BAD_PREFIX",r-1,n,s);continue}if(r-1+o>=n.length){r+=e("OVERRUN",r-1,n,s);continue}let l=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let d=n[r];if((d&192)!=128){r+=e("MISSING_CONTINUE",r,n,s),l=null;break}l=l<<6|d&63,r++}if(l!==null){if(l>1114111){r+=e("OUT_OF_RANGE",r-1-o,n,s,l);continue}if(l>=55296&&l<=57343){r+=e("UTF16_SURROGATE",r-1-o,n,s,l);continue}if(l<=a){r+=e("OVERLONG",r-1-o,n,s,l);continue}s.push(l)}}return s}function bs(t,e){B(typeof t=="string","invalid string value","str",t);let n=[];for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(r&63|128);else if((r&64512)==55296){s++;const i=t.charCodeAt(s);B(s<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((r&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(r&63|128)}return new Uint8Array(n)}function Ky(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Jo(t,e){return Ky(Vy(t,e))}function Wp(t){async function e(n,s){Y(s==null||!s.cancelled,"request cancelled before sending","CANCELLED");const r=n.url.split(":")[0].toLowerCase();Y(r==="http"||r==="https",`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Y(r==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=dt("request timeout","TIMEOUT"),o.abort()},n.timeout);s&&s.addListener(()=>{i=dt("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let u;try{u=await fetch(n.url,l)}catch(p){throw clearTimeout(a),i||p}clearTimeout(a);const d={};u.headers.forEach((p,w)=>{d[w.toLowerCase()]=p});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return e}const Wy=12,jy=250;let Md=Wp();const Jy=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),zy=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Dl=!1;async function jp(t,e){try{const n=t.match(Jy);if(!n)throw new Error("invalid data");return new Ks(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?Uy(n[3]):Xy(n[3]))}catch{return new Ks(599,"BAD REQUEST (invalid data: URI)",{},null,new Is(t))}}function Jp(t){async function e(n,s){try{const r=n.match(zy);if(!r)throw new Error("invalid link");return new Is(`${t}${r[2]}`)}catch{return new Ks(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Is(n))}}return e}const vo={data:jp,ipfs:Jp("https://gateway.ipfs.io/ipfs/")},zp=new WeakMap;class Yy{#e;#t;constructor(e){this.#e=[],this.#t=!1,zp.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){Y(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){Y(!this.cancelled,"cancelled","CANCELLED",{})}}function Ao(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class Is{#e;#t;#n;#s;#r;#o;#i;#a;#d;#c;#p;#g;#l;#u;#f;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(e){if(e==null)this.#i=void 0,this.#a=void 0;else if(typeof e=="string")this.#i=bs(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#i=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#i=bs(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#s?this.#s:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#s=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#d&&(e.authorization=`Basic ${$y(bs(this.#d))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let s=0;return{next:()=>{if(s<n.length){const r=n[s++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(e,n){B(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#r}set timeout(e){B(e>=0,"timeout must be non-zero","timeout",e),this.#r=e}get preflightFunc(){return this.#c||null}set preflightFunc(e){this.#c=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#g||null}set retryFunc(e){this.#g=e}get getUrlFunc(){return this.#f||Md}set getUrlFunc(e){this.#f=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#s="",this.#r=3e5,this.#u={slotInterval:jy,maxAttempts:Wy},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?ce(this.#i):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#h(e,n,s,r,i){if(e>=this.#u.maxAttempts)return i.makeServerError("exceeded maximum retry limit");Y(Fd()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),s>0&&await Zy(s);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in vo){const d=await vo[a](o.url,Ao(r.#l));if(d instanceof Ks){let f=d;if(this.processFunc){Ao(r.#l);try{f=await this.processFunc(o,f)}catch(h){(h.throttle==null||typeof h.stall!="number")&&f.makeServerError("error in post-processing function",h).assertOk()}}return f}o=d}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,Ao(r.#l));let u=new Ks(l.statusCode,l.statusMessage,l.headers,l.body,r);if(u.statusCode===301||u.statusCode===302){try{const d=u.headers.location||"";return o.redirect(d).#h(e+1,n,0,r,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const d=u.headers["retry-after"];let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof d=="string"&&d.match(/^[1-9][0-9]*$/)&&(f=parseInt(d)),o.clone().#h(e+1,n,f,r,u)}if(this.processFunc){Ao(r.#l);try{u=await this.processFunc(o,u)}catch(d){(d.throttle==null||typeof d.stall!="number")&&u.makeServerError("error in post-processing function",d).assertOk();let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return d.stall>=0&&(f=d.stall),o.clone().#h(e+1,n,f,r,u)}}return u}send(){return Y(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new Yy(this),this.#h(0,Fd()+this.timeout,0,this,new Ks(0,"",{},null,this))}cancel(){Y(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=zp.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),s=e.split(":")[0].toLowerCase();Y(this.method==="GET"&&(n!=="https"||s!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new Is(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#n=Object.assign({},this.#n),this.#i&&(r.#i=new Uint8Array(this.#i)),r.#a=this.#a,r}clone(){const e=new Is(this.url);return e.#s=this.#s,this.#i&&(e.#i=this.#i),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#d=this.#d,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#c=this.#c,e.#p=this.#p,e.#g=this.#g,e.#u=Object.assign({},this.#u),e.#f=this.#f,e}static lockConfig(){Dl=!0}static getGateway(e){return vo[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Dl)throw new Error("gateways locked");vo[e]=n}static registerGetUrl(e){if(Dl)throw new Error("gateways locked");Md=e}static createGetUrlFunc(e){return Wp(e)}static createDataGateway(){return jp}static createIpfsGatewayFunc(e){return Jp(e)}}class Ks{#e;#t;#n;#s;#r;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#s?ce(this.#s):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}get bodyText(){try{return this.#s==null?"":Jo(this.#s)}catch{Y(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Y(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let s=0;return{next:()=>{if(s<n.length){const r=n[s++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,s,r,i){this.#e=e,this.#t=n,this.#n=Object.keys(s).reduce((o,a)=>(o[a.toLowerCase()]=String(s[a]),o),{}),this.#s=r==null?null:new Uint8Array(r),this.#r=i||null,this.#o={message:""}}makeServerError(e,n){let s;e?s=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,s=`CLIENT ESCALATED SERVER ERROR (${e})`);const r=new Ks(599,s,this.headers,this.body,this.#r||void 0);return r.#o={message:e,error:n},r}throwThrottleError(e,n){n==null?n=-1:B(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const s=new Error(e||"throttling requests");throw _e(s,{stall:n,throttle:!0}),s}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#s!=null}get request(){return this.#r}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let s=null;this.request&&(s=this.request.url);let r=null;try{this.#s&&(r=Jo(this.#s))}catch{}Y(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:s,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Fd(){return new Date().getTime()}function Xy(t){return bs(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Zy(t){return new Promise(e=>setTimeout(e,t))}const qy=BigInt(-1),Un=BigInt(0),Hr=BigInt(1),ew=BigInt(5),Rr={};let Jr="0000";for(;Jr.length<80;)Jr+=Jr;function ir(t){let e=Jr;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function wi(t,e,n){const s=BigInt(e.width);if(e.signed){const r=Hr<<s-Hr;Y(n==null||t>=-r&&t<r,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Un?t=jo(gr(t,s),s):t=-jo(gr(-t,s),s)}else{const r=Hr<<s;Y(n==null||t>=0&&t<r,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%r+r)%r&r-Hr}return t}function Ll(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,s=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);B(i,"invalid fixed format","format",t),e=i[1]!=="u",n=parseInt(i[2]),s=parseInt(i[3])}}else if(t){const i=t,o=(a,l,u)=>i[a]==null?u:(B(typeof i[a]===l,"invalid fixed format ("+a+" not "+l+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),n=o("width","number",n),s=o("decimals","number",s)}B(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),B(s<=80,"invalid FixedNumber decimals (too large)","format.decimals",s);const r=(e?"":"u")+"fixed"+String(n)+"x"+String(s);return{signed:e,width:n,decimals:s,name:r}}function tw(t,e){let n="";t<Un&&(n="-",t*=qy);let s=t.toString();if(e===0)return n+s;for(;s.length<=e;)s=Jr+s;const r=s.length-e;for(s=s.substring(0,r)+"."+s.substring(r);s[0]==="0"&&s[1]!==".";)s=s.substring(1);for(;s[s.length-1]==="0"&&s[s.length-2]!==".";)s=s.substring(0,s.length-1);return n+s}class Gs{format;#e;#t;#n;_value;constructor(e,n,s){ro(e,Rr,"FixedNumber"),this.#t=n,this.#e=s;const r=tw(n,s.decimals);_e(this,{format:s.name,_value:r}),this.#n=ir(s.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#s(e){B(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#r(e,n){return e=wi(e,this.#e,n),new Gs(Rr,e,this.#e)}#o(e,n){return this.#s(e),this.#r(this.#t+e.#t,n)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#i(e,n){return this.#s(e),this.#r(this.#t-e.#t,n)}subUnsafe(e){return this.#i(e)}sub(e){return this.#i(e,"sub")}#a(e,n){return this.#s(e),this.#r(this.#t*e.#t/this.#n,n)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#s(e);const n=this.#t*e.#t;return Y(n%this.#n===Un,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#r(n/this.#n,"mulSignal")}#d(e,n){return Y(e.#t!==Un,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#s(e),this.#r(this.#t*this.#n/e.#t,n)}divUnsafe(e){return this.#d(e)}div(e){return this.#d(e,"div")}divSignal(e){Y(e.#t!==Un,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#s(e);const n=this.#t*this.#n;return Y(n%e.#t===Un,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#r(n/e.#t,"divSignal")}cmp(e){let n=this.value,s=e.value;const r=this.decimals-e.decimals;return r>0?s*=ir(r):r<0&&(n*=ir(-r)),n<s?-1:n>s?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<Un&&(e-=this.#n-Hr),e=this.#t/this.#n*this.#n,this.#r(e,"floor")}ceiling(){let e=this.#t;return this.#t>Un&&(e+=this.#n-Hr),e=this.#t/this.#n*this.#n,this.#r(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,s=ew*ir(n-1);let r=this.value+s;const i=ir(n);return r=r/i*i,wi(r,this.#e,"round"),new Gs(Rr,r,this.#e)}isZero(){return this.#t===Un}isNegative(){return this.#t<Un}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Gs.fromString(this.toString(),e)}static fromValue(e,n,s){const r=n==null?0:Me(n),i=Ll(s);let o=pe(e,"value");const a=r-i.decimals;if(a>0){const l=ir(a);Y(o%l===Un,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=l}else a<0&&(o*=ir(-a));return wi(o,i,"fromValue"),new Gs(Rr,o,i)}static fromString(e,n){const s=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);B(s&&s[2].length+s[3].length>0,"invalid FixedNumber string value","value",e);const r=Ll(n);let i=s[2]||"0",o=s[3]||"";for(;o.length<r.decimals;)o+=Jr;Y(o.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,r.decimals);const a=BigInt(s[1]+i+o);return wi(a,r,"fromString"),new Gs(Rr,a,r)}static fromBytes(e,n){let s=Ca(Fe(e,"value"));const r=Ll(n);return r.signed&&(s=jo(s,r.width)),wi(s,r,"fromBytes"),new Gs(Rr,s,r)}}function nw(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Ud(t,e,n){let s=0;for(let r=0;r<n;r++)s=s*256+t[e+r];return s}function $d(t,e,n,s){const r=[];for(;n<e+1+s;){const i=Yp(t,n);r.push(i.result),n+=i.consumed,Y(n<=e+1+s,"child data too short","BUFFER_OVERRUN",{buffer:t,length:s,offset:e})}return{consumed:1+s,result:r}}function Yp(t,e){Y(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=s=>{Y(s<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:s})};if(t[e]>=248){const s=t[e]-247;n(e+1+s);const r=Ud(t,e+1,s);return n(e+1+s+r),$d(t,e,e+1+s,s+r)}else if(t[e]>=192){const s=t[e]-192;return n(e+1+s),$d(t,e,e+1,s)}else if(t[e]>=184){const s=t[e]-183;n(e+1+s);const r=Ud(t,e+1,s);n(e+1+s+r);const i=ce(t.slice(e+1+s,e+1+s+r));return{consumed:1+s+r,result:i}}else if(t[e]>=128){const s=t[e]-128;n(e+1+s);const r=ce(t.slice(e+1,e+1+s));return{consumed:1+s,result:r}}return{consumed:1,result:nw(t[e])}}function io(t){const e=Fe(t,"data"),n=Yp(e,0);return B(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function Hd(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Xp(t){if(Array.isArray(t)){let s=[];if(t.forEach(function(i){s=s.concat(Xp(i))}),s.length<=55)return s.unshift(192+s.length),s;const r=Hd(s.length);return r.unshift(247+r.length),r.concat(s)}const e=Array.prototype.slice.call(Fe(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=Hd(e.length);return n.unshift(183+n.length),n.concat(e)}const Gd="0123456789abcdef";function Ys(t){let e="0x";for(const n of Xp(t))e+=Gd[n>>4],e+=Gd[n&15];return e}function sw(t,e){let n=18;return n=Me(e,"unit"),Gs.fromValue(t,n,{decimals:n,width:512}).toString()}function Zp(t){return sw(t,18)}const an=32,vc=new Uint8Array(an),rw=["then"],yo={},qp=new WeakMap;function ur(t){return qp.get(t)}function Qd(t,e){qp.set(t,e)}function bi(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function Ac(t,e,n){return t.indexOf(null)>=0?e.map((s,r)=>s instanceof As?Ac(ur(s),s,n):s):t.reduce((s,r,i)=>{let o=e.getValue(r);return r in s||(n&&o instanceof As&&(o=Ac(ur(o),o,n)),s[r]=o),s},{})}class As extends Array{#e;constructor(...e){const n=e[0];let s=e[1],r=(e[2]||[]).slice(),i=!0;n!==yo&&(s=e,r=[],i=!1),super(s.length),s.forEach((l,u)=>{this[u]=l});const o=r.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(Qd(this,Object.freeze(s.map((l,u)=>{const d=r[u];return d!=null&&o.get(d)===1?d:null}))),this.#e=[],this.#e==null&&this.#e,!i)return;Object.freeze(this);const a=new Proxy(this,{get:(l,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const h=Me(u,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=l[h];return p instanceof Error&&bi(`index ${h}`,p),p}if(rw.indexOf(u)>=0)return Reflect.get(l,u,d);const f=l[u];if(f instanceof Function)return function(...h){return f.apply(this===d?l:this,h)};if(!(u in l))return l.getValue.apply(this===d?l:this,[u])}return Reflect.get(l,u,d)}});return Qd(a,ur(this)),a}toArray(e){const n=[];return this.forEach((s,r)=>{s instanceof Error&&bi(`index ${r}`,s),e&&s instanceof As&&(s=s.toArray(e)),n.push(s)}),n}toObject(e){const n=ur(this);return n.reduce((s,r,i)=>(Y(r!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Ac(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=ur(this),r=[],i=[];for(let o=e;o<n;o++)r.push(this[o]),i.push(s[o]);return new As(yo,r,i)}filter(e,n){const s=ur(this),r=[],i=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&bi(`index ${o}`,a),e.call(n,a,o,this)&&(r.push(a),i.push(s[o]))}return new As(yo,r,i)}map(e,n){const s=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&bi(`index ${r}`,i),s.push(e.call(n,i,r,this))}return s}getValue(e){const n=ur(this).indexOf(e);if(n===-1)return;const s=this[n];return s instanceof Error&&bi(`property ${JSON.stringify(e)}`,s.error),s}static fromItems(e,n){return new As(yo,e,n)}}function Vd(t){let e=St(t);return Y(e.length<=an,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:an,offset:e.length}),e.length!==an&&(e=on(vt([vc.slice(e.length%an),e]))),e}class ks{name;type;localName;dynamic;constructor(e,n,s,r){_e(this,{name:e,type:n,localName:s,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){B(!1,e,this.localName,n)}}class yc{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return vt(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(on(e.data))}writeBytes(e){let n=on(e);const s=n.length%an;return s&&(n=on(vt([n,vc.slice(s)]))),this.#n(n)}writeValue(e){return this.#n(Vd(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(vc),this.#t+=an,n=>{this.#e[e]=Vd(n)}}}class lu{allowLoose;#e;#t;#n;#s;#r;constructor(e,n,s){_e(this,{allowLoose:!!n}),this.#e=on(e),this.#n=0,this.#s=null,this.#r=s??1024,this.#t=0}get data(){return ce(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#s)return this.#s.#o(e);this.#n+=e,Y(this.#r<1||this.#n<=this.#r*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#r} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:on(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#i(e,n,s){let r=Math.ceil(n/an)*an;return this.#t+r>this.#e.length&&(this.allowLoose&&s&&this.#t+n<=this.#e.length?r=n:Y(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:on(this.#e),length:this.#e.length,offset:this.#t+r})),this.#e.slice(this.#t,this.#t+r)}subReader(e){const n=new lu(this.#e.slice(this.#t+e),this.allowLoose,this.#r);return n.#s=this,n}readBytes(e,n){let s=this.#i(0,e,!!n);return this.#o(e),this.#t+=s.length,s.slice(0,e)}readValue(){return Ca(this.readBytes(an))}readIndex(){return My(this.readBytes(an))}}function zo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function cu(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function iw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zo(t.outputLen),zo(t.blockLen)}function si(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eg(t,e){cu(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ol=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tg=t=>t instanceof Uint8Array,ow=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Ml=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),qn=(t,e)=>t<<32-e|t>>>e,aw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!aw)throw new Error("Non little-endian hardware is not supported");function lw(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ea(t){if(typeof t=="string"&&(t=lw(t)),!tg(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function cw(...t){const e=new Uint8Array(t.reduce((s,r)=>s+r.length,0));let n=0;return t.forEach(s=>{if(!tg(s))throw new Error("Uint8Array expected");e.set(s,n),n+=s.length}),e}class uu{clone(){return this._cloneInto()}}function du(t){const e=s=>t().update(Ea(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function uw(t=32){if(Ol&&typeof Ol.getRandomValues=="function")return Ol.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class ng extends uu{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,iw(e);const s=Ea(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(s.length>r?e.create().update(s).digest():s);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return si(this),this.iHash.update(e),this}digestInto(e){si(this),cu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=s._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sg=(t,e,n)=>new ng(t,e).update(n).digest();sg.create=(t,e)=>new ng(t,e);function dw(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const r=BigInt(32),i=BigInt(4294967295),o=Number(n>>r&i),a=Number(n&i),l=s?4:0,u=s?0:4;t.setUint32(e+l,o,s),t.setUint32(e+u,a,s)}class rg extends uu{constructor(e,n,s,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ml(this.buffer)}update(e){si(this);const{view:n,buffer:s,blockLen:r}=this;e=Ea(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a===r){const l=Ml(e);for(;r<=i-o;o+=r)this.process(l,o);continue}s.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){si(this),eg(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(s,0),o=0);for(let f=o;f<r;f++)n[f]=0;dw(s,r-8,BigInt(this.length*8),i),this.process(s,0);const a=Ml(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%n&&e.buffer.set(s),e}}const fw=(t,e,n)=>t&e^~t&n,hw=(t,e,n)=>t&e^t&n^e&n,pw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ds=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ls=new Uint32Array(64);class gw extends rg{constructor(){super(64,32,8,!1),this.A=Ds[0]|0,this.B=Ds[1]|0,this.C=Ds[2]|0,this.D=Ds[3]|0,this.E=Ds[4]|0,this.F=Ds[5]|0,this.G=Ds[6]|0,this.H=Ds[7]|0}get(){const{A:e,B:n,C:s,D:r,E:i,F:o,G:a,H:l}=this;return[e,n,s,r,i,o,a,l]}set(e,n,s,r,i,o,a,l){this.A=e|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)Ls[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Ls[f-15],p=Ls[f-2],w=qn(h,7)^qn(h,18)^h>>>3,m=qn(p,17)^qn(p,19)^p>>>10;Ls[f]=m+Ls[f-7]+w+Ls[f-16]|0}let{A:s,B:r,C:i,D:o,E:a,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const h=qn(a,6)^qn(a,11)^qn(a,25),p=d+h+fw(a,l,u)+pw[f]+Ls[f]|0,m=(qn(s,2)^qn(s,13)^qn(s,22))+hw(s,r,i)|0;d=u,u=l,l=a,a=o+p|0,o=i,i=r,r=s,s=p+m|0}s=s+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(s,r,i,o,a,l,u,d)}roundClean(){Ls.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ig=du(()=>new gw),wo=BigInt(2**32-1),wc=BigInt(32);function og(t,e=!1){return e?{h:Number(t&wo),l:Number(t>>wc&wo)}:{h:Number(t>>wc&wo)|0,l:Number(t&wo)|0}}function ag(t,e=!1){let n=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let r=0;r<t.length;r++){const{h:i,l:o}=og(t[r],e);[n[r],s[r]]=[i,o]}return[n,s]}const mw=(t,e)=>BigInt(t>>>0)<<wc|BigInt(e>>>0),vw=(t,e,n)=>t>>>n,Aw=(t,e,n)=>t<<32-n|e>>>n,yw=(t,e,n)=>t>>>n|e<<32-n,ww=(t,e,n)=>t<<32-n|e>>>n,bw=(t,e,n)=>t<<64-n|e>>>n-32,Cw=(t,e,n)=>t>>>n-32|e<<64-n,Ew=(t,e)=>e,_w=(t,e)=>t,lg=(t,e,n)=>t<<n|e>>>32-n,cg=(t,e,n)=>e<<n|t>>>32-n,ug=(t,e,n)=>e<<n-32|t>>>64-n,dg=(t,e,n)=>t<<n-32|e>>>64-n;function xw(t,e,n,s){const r=(e>>>0)+(s>>>0);return{h:t+n+(r/2**32|0)|0,l:r|0}}const Iw=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Pw=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,Bw=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),kw=(t,e,n,s,r)=>e+n+s+r+(t/2**32|0)|0,Sw=(t,e,n,s,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(r>>>0),Tw=(t,e,n,s,r,i)=>e+n+s+r+i+(t/2**32|0)|0,Oe={fromBig:og,split:ag,toBig:mw,shrSH:vw,shrSL:Aw,rotrSH:yw,rotrSL:ww,rotrBH:bw,rotrBL:Cw,rotr32H:Ew,rotr32L:_w,rotlSH:lg,rotlSL:cg,rotlBH:ug,rotlBL:dg,add:xw,add3L:Iw,add3H:Pw,add4L:Bw,add4H:kw,add5H:Tw,add5L:Sw},[Nw,Rw]=Oe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Os=new Uint32Array(80),Ms=new Uint32Array(80);class Dw extends rg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:s,Bl:r,Ch:i,Cl:o,Dh:a,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:w,Hh:m,Hl:y}=this;return[e,n,s,r,i,o,a,l,u,d,f,h,p,w,m,y]}set(e,n,s,r,i,o,a,l,u,d,f,h,p,w,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=s|0,this.Bl=r|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=w|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let A=0;A<16;A++,n+=4)Os[A]=e.getUint32(n),Ms[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const _=Os[A-15]|0,L=Ms[A-15]|0,H=Oe.rotrSH(_,L,1)^Oe.rotrSH(_,L,8)^Oe.shrSH(_,L,7),V=Oe.rotrSL(_,L,1)^Oe.rotrSL(_,L,8)^Oe.shrSL(_,L,7),K=Os[A-2]|0,z=Ms[A-2]|0,M=Oe.rotrSH(K,z,19)^Oe.rotrBH(K,z,61)^Oe.shrSH(K,z,6),D=Oe.rotrSL(K,z,19)^Oe.rotrBL(K,z,61)^Oe.shrSL(K,z,6),X=Oe.add4L(V,D,Ms[A-7],Ms[A-16]),F=Oe.add4H(X,H,M,Os[A-7],Os[A-16]);Os[A]=F|0,Ms[A]=X|0}let{Ah:s,Al:r,Bh:i,Bl:o,Ch:a,Cl:l,Dh:u,Dl:d,Eh:f,El:h,Fh:p,Fl:w,Gh:m,Gl:y,Hh:v,Hl:b}=this;for(let A=0;A<80;A++){const _=Oe.rotrSH(f,h,14)^Oe.rotrSH(f,h,18)^Oe.rotrBH(f,h,41),L=Oe.rotrSL(f,h,14)^Oe.rotrSL(f,h,18)^Oe.rotrBL(f,h,41),H=f&p^~f&m,V=h&w^~h&y,K=Oe.add5L(b,L,V,Rw[A],Ms[A]),z=Oe.add5H(K,v,_,H,Nw[A],Os[A]),M=K|0,D=Oe.rotrSH(s,r,28)^Oe.rotrBH(s,r,34)^Oe.rotrBH(s,r,39),X=Oe.rotrSL(s,r,28)^Oe.rotrBL(s,r,34)^Oe.rotrBL(s,r,39),F=s&i^s&a^i&a,O=r&o^r&l^o&l;v=m|0,b=y|0,m=p|0,y=w|0,p=f|0,w=h|0,{h:f,l:h}=Oe.add(u|0,d|0,z|0,M|0),u=a|0,d=l|0,a=i|0,l=o|0,i=s|0,o=r|0;const T=Oe.add3L(M,X,O);s=Oe.add3H(T,z,D,F),r=T|0}({h:s,l:r}=Oe.add(this.Ah|0,this.Al|0,s|0,r|0)),{h:i,l:o}=Oe.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=Oe.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:d}=Oe.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=Oe.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:w}=Oe.add(this.Fh|0,this.Fl|0,p|0,w|0),{h:m,l:y}=Oe.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:v,l:b}=Oe.add(this.Hh|0,this.Hl|0,v|0,b|0),this.set(s,r,i,o,a,l,u,d,f,h,p,w,m,y,v,b)}roundClean(){Os.fill(0),Ms.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Lw=du(()=>new Dw);function Ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Kd=Ow();Kd.crypto||Kd.msCrypto;function Mw(t){switch(t){case"sha256":return ig.create();case"sha512":return Lw.create()}B(!1,"invalid hashing algorithm name","algorithm",t)}const[fg,hg,pg]=[[],[],[]],Fw=BigInt(0),Ci=BigInt(1),Uw=BigInt(2),$w=BigInt(7),Hw=BigInt(256),Gw=BigInt(113);for(let t=0,e=Ci,n=1,s=0;t<24;t++){[n,s]=[s,(2*n+3*s)%5],fg.push(2*(5*s+n)),hg.push((t+1)*(t+2)/2%64);let r=Fw;for(let i=0;i<7;i++)e=(e<<Ci^(e>>$w)*Gw)%Hw,e&Uw&&(r^=Ci<<(Ci<<BigInt(i))-Ci);pg.push(r)}const[Qw,Vw]=ag(pg,!0),Wd=(t,e,n)=>n>32?ug(t,e,n):lg(t,e,n),jd=(t,e,n)=>n>32?dg(t,e,n):cg(t,e,n);function Kw(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,u=n[l],d=n[l+1],f=Wd(u,d,1)^n[a],h=jd(u,d,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=h}let r=t[2],i=t[3];for(let o=0;o<24;o++){const a=hg[o],l=Wd(r,i,a),u=jd(r,i,a),d=fg[o];r=t[d],i=t[d+1],t[d]=l,t[d+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Qw[s],t[1]^=Vw[s]}n.fill(0)}class fu extends uu{constructor(e,n,s,r=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=s,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,zo(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ow(this.state)}keccak(){Kw(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){si(this);const{blockLen:n,state:s}=this;e=Ea(e);const r=e.length;for(let i=0;i<r;){const o=Math.min(n-this.pos,r-i);for(let a=0;a<o;a++)s[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:s,blockLen:r}=this;e[s]^=n,(n&128)!==0&&s===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){si(this,!1),cu(e),this.finish();const n=this.state,{blockLen:s}=this;for(let r=0,i=e.length;r<i;){this.posOut>=s&&this.keccak();const o=Math.min(s-this.posOut,i-r);e.set(n.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eg(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:s,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new fu(n,s,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=s,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Ww=(t,e,n)=>du(()=>new fu(e,t,n)),jw=Ww(1,136,256/8);let gg=!1;const mg=function(t){return jw(t)};let vg=mg;function Pt(t){const e=Fe(t,"data");return ce(vg(e))}Pt._=mg;Pt.lock=function(){gg=!0};Pt.register=function(t){if(gg)throw new TypeError("keccak256 is locked");vg=t};Object.freeze(Pt);const Ag=function(t){return Mw("sha256").update(t).digest()};let yg=Ag,wg=!1;function fi(t){const e=Fe(t,"data");return ce(yg(e))}fi._=Ag;fi.lock=function(){wg=!0};fi.register=function(t){if(wg)throw new Error("sha256 is locked");yg=t};Object.freeze(fi);Object.freeze(fi);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bg=BigInt(0),_a=BigInt(1),Jw=BigInt(2),xa=t=>t instanceof Uint8Array,zw=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ri(t){if(!xa(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=zw[t[n]];return e}function Cg(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ii(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let s=0;s<n.length;s++){const r=s*2,i=t.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[s]=o}return n}function wr(t){return hu(ri(t))}function pu(t){if(!xa(t))throw new Error("Uint8Array expected");return hu(ri(Uint8Array.from(t).reverse()))}function oi(t,e){return ii(t.toString(16).padStart(e*2,"0"))}function gu(t,e){return oi(t,e).reverse()}function Yw(t){return ii(Cg(t))}function $n(t,e,n){let s;if(typeof e=="string")try{s=ii(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(xa(e))s=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(`${t} expected ${n} bytes, got ${r}`);return s}function Wi(...t){const e=new Uint8Array(t.reduce((s,r)=>s+r.length,0));let n=0;return t.forEach(s=>{if(!xa(s))throw new Error("Uint8Array expected");e.set(s,n),n+=s.length}),e}function Xw(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Zw(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qw(t){let e;for(e=0;t>bg;t>>=_a,e+=1);return e}function e1(t,e){return t>>BigInt(e)&_a}const t1=(t,e,n)=>t|(n?_a:bg)<<BigInt(e),mu=t=>(Jw<<BigInt(t-1))-_a,Fl=t=>new Uint8Array(t),Jd=t=>Uint8Array.from(t);function Eg(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=Fl(t),r=Fl(t),i=0;const o=()=>{s.fill(1),r.fill(0),i=0},a=(...f)=>n(r,s,...f),l=(f=Fl())=>{r=a(Jd([0]),f),s=a(),f.length!==0&&(r=a(Jd([1]),f),s=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){s=a();const p=s.slice();h.push(p),f+=s.length}return Wi(...h)};return(f,h)=>{o(),l(f);let p;for(;!(p=h(u()));)l();return o(),p}}const n1={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function oo(t,e,n={}){const s=(r,i,o)=>{const a=n1[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[r];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${i}`)};for(const[r,i]of Object.entries(e))s(r,i,!1);for(const[r,i]of Object.entries(n))s(r,i,!0);return t}const s1=Object.freeze(Object.defineProperty({__proto__:null,bitGet:e1,bitLen:qw,bitMask:mu,bitSet:t1,bytesToHex:ri,bytesToNumberBE:wr,bytesToNumberLE:pu,concatBytes:Wi,createHmacDrbg:Eg,ensureBytes:$n,equalBytes:Xw,hexToBytes:ii,hexToNumber:hu,numberToBytesBE:oi,numberToBytesLE:gu,numberToHexUnpadded:Cg,numberToVarBytesBE:Yw,utf8ToBytes:Zw,validateObject:oo},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lt=BigInt(0),wt=BigInt(1),dr=BigInt(2),r1=BigInt(3),bc=BigInt(4),zd=BigInt(5),Yd=BigInt(8);BigInt(9);BigInt(16);function pn(t,e){const n=t%e;return n>=Lt?n:e+n}function i1(t,e,n){if(n<=Lt||e<Lt)throw new Error("Expected power/modulo > 0");if(n===wt)return Lt;let s=wt;for(;e>Lt;)e&wt&&(s=s*t%n),t=t*t%n,e>>=wt;return s}function Sn(t,e,n){let s=t;for(;e-- >Lt;)s*=s,s%=n;return s}function Cc(t,e){if(t===Lt||e<=Lt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=pn(t,e),s=e,r=Lt,i=wt;for(;n!==Lt;){const a=s/n,l=s%n,u=r-i*a;s=n,n=l,r=i,i=u}if(s!==wt)throw new Error("invert: does not exist");return pn(r,e)}function o1(t){const e=(t-wt)/dr;let n,s,r;for(n=t-wt,s=0;n%dr===Lt;n/=dr,s++);for(r=dr;r<t&&i1(r,e,t)!==t-wt;r++);if(s===1){const o=(t+wt)/bc;return function(l,u){const d=l.pow(u,o);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const i=(n+wt)/dr;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=s,d=a.pow(a.mul(a.ONE,r),n),f=a.pow(l,i),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(h);p<u&&!a.eql(m,a.ONE);p++)m=a.sqr(m);const w=a.pow(d,wt<<BigInt(u-p-1));d=a.sqr(w),f=a.mul(f,w),h=a.mul(h,d),u=p}return f}}function a1(t){if(t%bc===r1){const e=(t+wt)/bc;return function(s,r){const i=s.pow(r,e);if(!s.eql(s.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%Yd===zd){const e=(t-zd)/Yd;return function(s,r){const i=s.mul(r,dr),o=s.pow(i,e),a=s.mul(r,o),l=s.mul(s.mul(a,dr),o),u=s.mul(a,s.sub(l,s.ONE));if(!s.eql(s.sqr(u),r))throw new Error("Cannot find square root");return u}}return o1(t)}const l1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function c1(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=l1.reduce((s,r)=>(s[r]="function",s),e);return oo(t,n)}function u1(t,e,n){if(n<Lt)throw new Error("Expected power > 0");if(n===Lt)return t.ONE;if(n===wt)return e;let s=t.ONE,r=e;for(;n>Lt;)n&wt&&(s=t.mul(s,r)),r=t.sqr(r),n>>=wt;return s}function d1(t,e){const n=new Array(e.length),s=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),r=t.inv(s);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),r),n}function _g(t,e){const n=e!==void 0?e:t.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function f1(t,e,n=!1,s={}){if(t<=Lt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:r,nByteLength:i}=_g(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=a1(t),a=Object.freeze({ORDER:t,BITS:r,BYTES:i,MASK:mu(r),ZERO:Lt,ONE:wt,create:l=>pn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Lt<=l&&l<t},is0:l=>l===Lt,isOdd:l=>(l&wt)===wt,neg:l=>pn(-l,t),eql:(l,u)=>l===u,sqr:l=>pn(l*l,t),add:(l,u)=>pn(l+u,t),sub:(l,u)=>pn(l-u,t),mul:(l,u)=>pn(l*u,t),pow:(l,u)=>u1(a,l,u),div:(l,u)=>pn(l*Cc(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Cc(l,t),sqrt:s.sqrt||(l=>o(a,l)),invertBatch:l=>d1(a,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?gu(l,i):oi(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return n?pu(l):wr(l)}});return Object.freeze(a)}function xg(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Ig(t){const e=xg(t);return e+Math.ceil(e/2)}function h1(t,e,n=!1){const s=t.length,r=xg(e),i=Ig(e);if(s<16||s<i||s>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${s}`);const o=n?wr(t):pu(t),a=pn(o,e-wt)+wt;return n?gu(a,r):oi(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p1=BigInt(0),Ul=BigInt(1);function g1(t,e){const n=(r,i)=>{const o=i.negate();return r?o:i},s=r=>{const i=Math.ceil(e/r)+1,o=2**(r-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(r,i){let o=t.ZERO,a=r;for(;i>p1;)i&Ul&&(o=o.add(a)),a=a.double(),i>>=Ul;return o},precomputeWindow(r,i){const{windows:o,windowSize:a}=s(i),l=[];let u=r,d=u;for(let f=0;f<o;f++){d=u,l.push(d);for(let h=1;h<a;h++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(r,i,o){const{windows:a,windowSize:l}=s(r);let u=t.ZERO,d=t.BASE;const f=BigInt(2**r-1),h=2**r,p=BigInt(r);for(let w=0;w<a;w++){const m=w*l;let y=Number(o&f);o>>=p,y>l&&(y-=h,o+=Ul);const v=m,b=m+Math.abs(y)-1,A=w%2!==0,_=y<0;y===0?d=d.add(n(A,i[v])):u=u.add(n(_,i[b]))}return{p:u,f:d}},wNAFCached(r,i,o,a){const l=r._WINDOW_SIZE||1;let u=i.get(r);return u||(u=this.precomputeWindow(r,l),l!==1&&i.set(r,a(u))),this.wNAF(l,u,o)}}}function Pg(t){return c1(t.Fp),oo(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._g(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function m1(t){const e=Pg(t);oo(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:r}=e;if(n){if(!s.eql(r,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:v1,hexToBytes:A1}=s1,mr={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=mr;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],s=t.subarray(2,n+2);if(!n||s.length!==n)throw new e("Invalid signature integer: wrong length");if(s[0]&128)throw new e("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:v1(s),l:t.subarray(n+2)}},toSig(t){const{Err:e}=mr,n=typeof t=="string"?A1(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==s-2)throw new e("Invalid signature: incorrect length");const{d:r,l:i}=mr._parseInt(n.subarray(2)),{d:o,l:a}=mr._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},s=e(n(t.s)),r=e(n(t.r)),i=s.length/2,o=r.length/2,a=n(i),l=n(o);return`30${n(o+i+4)}02${l}${r}02${a}${s}`}},ms=BigInt(0),Tn=BigInt(1);BigInt(2);const Xd=BigInt(3);BigInt(4);function y1(t){const e=m1(t),{Fp:n}=e,s=e.toBytes||((w,m,y)=>{const v=m.toAffine();return Wi(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),r=e.fromBytes||(w=>{const m=w.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),v=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:v}});function i(w){const{a:m,b:y}=e,v=n.sqr(w),b=n.mul(v,w);return n.add(n.add(b,n.mul(w,m)),y)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(w){return typeof w=="bigint"&&ms<w&&w<e.n}function a(w){if(!o(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(w){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:v,n:b}=e;if(m&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=ri(w)),typeof w!="string"||!m.includes(w.length))throw new Error("Invalid key");w=w.padStart(y*2,"0")}let A;try{A=typeof w=="bigint"?w:wr($n("private key",w,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof w}`)}return v&&(A=pn(A,b)),a(A),A}const u=new Map;function d(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,y,v){if(this.px=m,this.py=y,this.pz=v,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required")}static fromAffine(m){const{x:y,y:v}=m||{};if(!m||!n.isValid(y)||!n.isValid(v))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");const b=A=>n.eql(A,n.ZERO);return b(y)&&b(v)?f.ZERO:new f(y,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(v=>v.pz));return m.map((v,b)=>v.toAffine(y[b])).map(f.fromAffine)}static fromHex(m){const y=f.fromAffine(r($n("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return f.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const v=n.sqr(y),b=i(m);if(!n.eql(v,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){d(m);const{px:y,py:v,pz:b}=this,{px:A,py:_,pz:L}=m,H=n.eql(n.mul(y,L),n.mul(A,b)),V=n.eql(n.mul(v,L),n.mul(_,b));return H&&V}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,v=n.mul(y,Xd),{px:b,py:A,pz:_}=this;let L=n.ZERO,H=n.ZERO,V=n.ZERO,K=n.mul(b,b),z=n.mul(A,A),M=n.mul(_,_),D=n.mul(b,A);return D=n.add(D,D),V=n.mul(b,_),V=n.add(V,V),L=n.mul(m,V),H=n.mul(v,M),H=n.add(L,H),L=n.sub(z,H),H=n.add(z,H),H=n.mul(L,H),L=n.mul(D,L),V=n.mul(v,V),M=n.mul(m,M),D=n.sub(K,M),D=n.mul(m,D),D=n.add(D,V),V=n.add(K,K),K=n.add(V,K),K=n.add(K,M),K=n.mul(K,D),H=n.add(H,K),M=n.mul(A,_),M=n.add(M,M),K=n.mul(M,D),L=n.sub(L,K),V=n.mul(M,z),V=n.add(V,V),V=n.add(V,V),new f(L,H,V)}add(m){d(m);const{px:y,py:v,pz:b}=this,{px:A,py:_,pz:L}=m;let H=n.ZERO,V=n.ZERO,K=n.ZERO;const z=e.a,M=n.mul(e.b,Xd);let D=n.mul(y,A),X=n.mul(v,_),F=n.mul(b,L),O=n.add(y,v),T=n.add(A,_);O=n.mul(O,T),T=n.add(D,X),O=n.sub(O,T),T=n.add(y,b);let W=n.add(A,L);return T=n.mul(T,W),W=n.add(D,F),T=n.sub(T,W),W=n.add(v,b),H=n.add(_,L),W=n.mul(W,H),H=n.add(X,F),W=n.sub(W,H),K=n.mul(z,T),H=n.mul(M,F),K=n.add(H,K),H=n.sub(X,K),K=n.add(X,K),V=n.mul(H,K),X=n.add(D,D),X=n.add(X,D),F=n.mul(z,F),T=n.mul(M,T),X=n.add(X,F),F=n.sub(D,F),F=n.mul(z,F),T=n.add(T,F),D=n.mul(X,T),V=n.add(V,D),D=n.mul(W,T),H=n.mul(O,H),H=n.sub(H,D),D=n.mul(O,X),K=n.mul(W,K),K=n.add(K,D),new f(H,V,K)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,u,m,y=>{const v=n.invertBatch(y.map(b=>b.pz));return y.map((b,A)=>b.toAffine(v[A])).map(f.fromAffine)})}multiplyUnsafe(m){const y=f.ZERO;if(m===ms)return y;if(a(m),m===Tn)return this;const{endo:v}=e;if(!v)return p.unsafeLadder(this,m);let{k1neg:b,k1:A,k2neg:_,k2:L}=v.splitScalar(m),H=y,V=y,K=this;for(;A>ms||L>ms;)A&Tn&&(H=H.add(K)),L&Tn&&(V=V.add(K)),K=K.double(),A>>=Tn,L>>=Tn;return b&&(H=H.negate()),_&&(V=V.negate()),V=new f(n.mul(V.px,v.beta),V.py,V.pz),H.add(V)}multiply(m){a(m);let y=m,v,b;const{endo:A}=e;if(A){const{k1neg:_,k1:L,k2neg:H,k2:V}=A.splitScalar(y);let{p:K,f:z}=this.wNAF(L),{p:M,f:D}=this.wNAF(V);K=p.constTimeNegate(_,K),M=p.constTimeNegate(H,M),M=new f(n.mul(M.px,A.beta),M.py,M.pz),v=K.add(M),b=z.add(D)}else{const{p:_,f:L}=this.wNAF(y);v=_,b=L}return f.normalizeZ([v,b])[0]}multiplyAndAddUnsafe(m,y,v){const b=f.BASE,A=(L,H)=>H===ms||H===Tn||!L.equals(b)?L.multiplyUnsafe(H):L.multiply(H),_=A(this,y).add(A(m,v));return _.is0()?void 0:_}toAffine(m){const{px:y,py:v,pz:b}=this,A=this.is0();m==null&&(m=A?n.ONE:n.inv(b));const _=n.mul(y,m),L=n.mul(v,m),H=n.mul(b,m);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:_,y:L}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===Tn)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===Tn?this:y?y(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),s(f,this,m)}toHex(m=!0){return ri(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,p=g1(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function w1(t){const e=Pg(t);return oo(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function b1(t){const e=w1(t),{Fp:n,n:s}=e,r=n.BYTES+1,i=2*n.BYTES+1;function o(T){return ms<T&&T<n.ORDER}function a(T){return pn(T,s)}function l(T){return Cc(T,s)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=y1({...e,toBytes(T,W,oe){const te=W.toAffine(),ne=n.toBytes(te.x),Z=Wi;return oe?Z(Uint8Array.from([W.hasEvenY()?2:3]),ne):Z(Uint8Array.from([4]),ne,n.toBytes(te.y))},fromBytes(T){const W=T.length,oe=T[0],te=T.subarray(1);if(W===r&&(oe===2||oe===3)){const ne=wr(te);if(!o(ne))throw new Error("Point is not on curve");const Z=f(ne);let me=n.sqrt(Z);const xe=(me&Tn)===Tn;return(oe&1)===1!==xe&&(me=n.neg(me)),{x:ne,y:me}}else if(W===i&&oe===4){const ne=n.fromBytes(te.subarray(0,n.BYTES)),Z=n.fromBytes(te.subarray(n.BYTES,2*n.BYTES));return{x:ne,y:Z}}else throw new Error(`Point of length ${W} was invalid. Expected ${r} compressed bytes or ${i} uncompressed bytes`)}}),p=T=>ri(oi(T,e.nByteLength));function w(T){const W=s>>Tn;return T>W}function m(T){return w(T)?a(-T):T}const y=(T,W,oe)=>wr(T.slice(W,oe));class v{constructor(W,oe,te){this.r=W,this.s=oe,this.recovery=te,this.assertValidity()}static fromCompact(W){const oe=e.nByteLength;return W=$n("compactSignature",W,oe*2),new v(y(W,0,oe),y(W,oe,2*oe))}static fromDER(W){const{r:oe,s:te}=mr.toSig($n("DER",W));return new v(oe,te)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(W){return new v(this.r,this.s,W)}recoverPublicKey(W){const{r:oe,s:te,recovery:ne}=this,Z=V($n("msgHash",W));if(ne==null||![0,1,2,3].includes(ne))throw new Error("recovery id invalid");const me=ne===2||ne===3?oe+e.n:oe;if(me>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const xe=(ne&1)===0?"02":"03",ut=u.fromHex(xe+p(me)),at=l(me),lt=a(-Z*at),tt=a(te*at),G=u.BASE.multiplyAndAddUnsafe(ut,lt,tt);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ii(this.toDERHex())}toDERHex(){return mr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ii(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const b={isValidPrivateKey(T){try{return d(T),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const T=Ig(e.n);return h1(e.randomBytes(T),e.n)},precompute(T=8,W=u.BASE){return W._setWindowSize(T),W.multiply(BigInt(3)),W}};function A(T,W=!0){return u.fromPrivateKey(T).toRawBytes(W)}function _(T){const W=T instanceof Uint8Array,oe=typeof T=="string",te=(W||oe)&&T.length;return W?te===r||te===i:oe?te===2*r||te===2*i:T instanceof u}function L(T,W,oe=!0){if(_(T))throw new Error("first arg must be private key");if(!_(W))throw new Error("second arg must be public key");return u.fromHex(W).multiply(d(T)).toRawBytes(oe)}const H=e.bits2int||function(T){const W=wr(T),oe=T.length*8-e.nBitLength;return oe>0?W>>BigInt(oe):W},V=e.bits2int_modN||function(T){return a(H(T))},K=mu(e.nBitLength);function z(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(ms<=T&&T<K))throw new Error(`bigint expected < 2^${e.nBitLength}`);return oi(T,e.nByteLength)}function M(T,W,oe=D){if(["recovered","canonical"].some(se=>se in oe))throw new Error("sign() legacy options not supported");const{hash:te,randomBytes:ne}=e;let{lowS:Z,prehash:me,extraEntropy:xe}=oe;Z==null&&(Z=!0),T=$n("msgHash",T),me&&(T=$n("prehashed msgHash",te(T)));const ut=V(T),at=d(W),lt=[z(at),z(ut)];if(xe!=null){const se=xe===!0?ne(n.BYTES):xe;lt.push($n("extraEntropy",se))}const tt=Wi(...lt),G=ut;function le(se){const fe=H(se);if(!h(fe))return;const ke=l(fe),C=u.BASE.multiply(fe).toAffine(),E=a(C.x);if(E===ms)return;const S=a(ke*a(G+E*at));if(S===ms)return;let Q=(C.x===E?0:2)|Number(C.y&Tn),R=S;return Z&&w(S)&&(R=m(S),Q^=1),new v(E,R,Q)}return{seed:tt,k2sig:le}}const D={lowS:e.lowS,prehash:!1},X={lowS:e.lowS,prehash:!1};function F(T,W,oe=D){const{seed:te,k2sig:ne}=M(T,W,oe),Z=e;return Eg(Z.hash.outputLen,Z.nByteLength,Z.hmac)(te,ne)}u.BASE._setWindowSize(8);function O(T,W,oe,te=X){const ne=T;if(W=$n("msgHash",W),oe=$n("publicKey",oe),"strict"in te)throw new Error("options.strict was renamed to lowS");const{lowS:Z,prehash:me}=te;let xe,ut;try{if(typeof ne=="string"||ne instanceof Uint8Array)try{xe=v.fromDER(ne)}catch(C){if(!(C instanceof mr.Err))throw C;xe=v.fromCompact(ne)}else if(typeof ne=="object"&&typeof ne.r=="bigint"&&typeof ne.s=="bigint"){const{r:C,s:E}=ne;xe=new v(C,E)}else throw new Error("PARSE");ut=u.fromHex(oe)}catch(C){if(C.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Z&&xe.hasHighS())return!1;me&&(W=e.hash(W));const{r:at,s:lt}=xe,tt=V(W),G=l(lt),le=a(tt*G),se=a(at*G),fe=u.BASE.multiplyAndAddUnsafe(ut,le,se)?.toAffine();return fe?a(fe.x)===at:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:L,sign:F,verify:O,ProjectivePoint:u,Signature:v,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function C1(t){return{hash:t,hmac:(e,...n)=>sg(t,e,cw(...n)),randomBytes:uw}}function E1(t,e){const n=s=>b1({...t,...C1(s)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bg=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Zd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1=BigInt(1),Ec=BigInt(2),qd=(t,e)=>(t+e/Ec)/e;function x1(t){const e=Bg,n=BigInt(3),s=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=Sn(d,n,e)*d%e,h=Sn(f,n,e)*d%e,p=Sn(h,Ec,e)*u%e,w=Sn(p,r,e)*p%e,m=Sn(w,i,e)*w%e,y=Sn(m,a,e)*m%e,v=Sn(y,l,e)*y%e,b=Sn(v,a,e)*m%e,A=Sn(b,n,e)*d%e,_=Sn(A,o,e)*w%e,L=Sn(_,s,e)*u%e,H=Sn(L,Ec,e);if(!_c.eql(_c.sqr(H),t))throw new Error("Cannot find square root");return H}const _c=f1(Bg,void 0,void 0,{sqrt:x1}),Fs=E1({a:BigInt(0),b:BigInt(7),Fp:_c,n:Zd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Zd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-_1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=qd(i*t,e),l=qd(-s*t,e);let u=pn(t-a*n-l*r,e),d=pn(-a*s-l*i,e);const f=u>o,h=d>o;if(f&&(u=e-u),h&&(d=e-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},ig);BigInt(0);Fs.ProjectivePoint;const ji="0x0000000000000000000000000000000000000000",ef="0x0000000000000000000000000000000000000000000000000000000000000000",tf=BigInt(0),nf=BigInt(1),sf=BigInt(2),rf=BigInt(27),of=BigInt(28),bo=BigInt(35),Dr={};function af(t){return xs(St(t),32)}class gt{#e;#t;#n;#s;get r(){return this.#e}set r(e){B(jr(e)===32,"invalid r","value",e),this.#e=ce(e)}get s(){return B(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){B(jr(e)===32,"invalid s","value",e),this.#t=ce(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){const n=Me(e,"value");B(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#s}get legacyChainId(){const e=this.networkV;return e==null?null:gt.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Fe(this.s);return this.yParity&&(e[0]|=128),ce(e)}get compactSerialized(){return vt([this.r,this.yParityAndS])}get serialized(){return vt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,s,r){ro(e,Dr,"Signature"),this.#e=n,this.#t=s,this.#n=r,this.#s=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new gt(Dr,this.r,this._s,this.v);return this.networkV&&(e.#s=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=pe(e,"v");return n==rf||n==of?tf:(B(n>=bo,"invalid EIP-155 v","v",e),(n-bo)/sf)}static getChainIdV(e,n){return pe(e)*sf+BigInt(35+n-27)}static getNormalizedV(e){const n=pe(e);return n===tf||n===rf?27:n===nf||n===of?28:(B(n>=bo,"invalid v","v",e),n&nf?27:28)}static from(e){function n(u,d){B(u,d,"signature",e)}if(e==null)return new gt(Dr,ef,ef,27);if(typeof e=="string"){const u=Fe(e,"signature");if(u.length===64){const d=ce(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new gt(Dr,d,ce(f),h)}if(u.length===65){const d=ce(u.slice(0,32)),f=ce(u.slice(32,64)),h=gt.getNormalizedV(u[64]);return new gt(Dr,d,f,h)}n(!1,"invalid raw signature length")}if(e instanceof gt)return e.clone();const s=e.r;n(s!=null,"missing r");const r=af(s),i=(function(u,d){if(u!=null)return af(u);if(d!=null){n(ot(d,32),"invalid yParityAndS");const f=Fe(d);return f[0]&=127,ce(f)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(u,d,f){if(u!=null){const h=pe(u);return{networkV:h>=bo?h:void 0,v:gt.getNormalizedV(h)}}if(d!=null)return n(ot(d,32),"invalid yParityAndS"),{v:Fe(d)[0]&128?28:27};if(f!=null){switch(Me(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),l=new gt(Dr,r,i,a);return o&&(l.#s=o),n(e.yParity==null||Me(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}class vs{#e;constructor(e){B(jr(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=ce(e)}get privateKey(){return this.#e}get publicKey(){return vs.computePublicKey(this.#e)}get compressedPublicKey(){return vs.computePublicKey(this.#e,!0)}sign(e){B(jr(e)===32,"invalid digest length","digest",e);const n=Fs.sign(on(e),on(this.#e),{lowS:!0});return gt.from({r:zs(n.r,32),s:zs(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=vs.computePublicKey(e);return ce(Fs.getSharedSecret(on(this.#e),Fe(n),!1))}static computePublicKey(e,n){let s=Fe(e,"key");if(s.length===32){const i=Fs.getPublicKey(s,!!n);return ce(i)}if(s.length===64){const i=new Uint8Array(65);i[0]=4,i.set(s,1),s=i}const r=Fs.ProjectivePoint.fromHex(s);return ce(r.toRawBytes(n))}static recoverPublicKey(e,n){B(jr(e)===32,"invalid digest length","digest",e);const s=gt.from(n);let r=Fs.Signature.fromCompact(on(vt([s.r,s.s])));r=r.addRecoveryBit(s.yParity);const i=r.recoverPublicKey(on(e));return B(i!=null,"invalid signature for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,s){const r=Fs.ProjectivePoint.fromHex(vs.computePublicKey(e).substring(2)),i=Fs.ProjectivePoint.fromHex(vs.computePublicKey(n).substring(2));return"0x"+r.add(i).toHex(!!s)}}const I1=BigInt(0),P1=BigInt(36);function lf(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let r=0;r<40;r++)n[r]=e[r].charCodeAt(0);const s=Fe(Pt(n));for(let r=0;r<40;r+=2)s[r>>1]>>4>=8&&(e[r]=e[r].toUpperCase()),(s[r>>1]&15)>=8&&(e[r+1]=e[r+1].toUpperCase());return"0x"+e.join("")}const vu={};for(let t=0;t<10;t++)vu[String(t)]=String(t);for(let t=0;t<26;t++)vu[String.fromCharCode(65+t)]=String(10+t);const cf=15;function B1(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(s=>vu[s]).join("");for(;e.length>=cf;){let s=e.substring(0,cf);e=parseInt(s,10)%97+e.substring(s.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const k1=(function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})();function S1(t){t=t.toLowerCase();let e=I1;for(let n=0;n<t.length;n++)e=e*P1+k1[t[n]];return e}function ze(t){if(B(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=lf(t);return B(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){B(t.substring(2,4)===B1(t),"bad icap checksum","address",t);let e=S1(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return lf("0x"+e)}B(!1,"invalid address","address",t)}function T1(t){const e=ze(t.from);let s=pe(t.nonce,"tx.nonce").toString(16);return s==="0"?s="0x":s.length%2?s="0x0"+s:s="0x"+s,ze(pt(Pt(Ys([e,s])),12))}function kg(t){return t&&typeof t.getAddress=="function"}async function $l(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Y(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),B(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ze(n)}function ln(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ze(t):(Y(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),$l(t,e.resolveName(t)));if(kg(t))return $l(t,t.getAddress());if(t&&typeof t.then=="function")return $l(t,t);B(!1,"unsupported addressable value","target",t)}const us={};function he(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new mt(us,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Ve(t,e){return new mt(us,`bytes${e||""}`,t,{size:e})}const uf=Symbol.for("_ethers_typed");class mt{type;value;#e;_typedSymbol;constructor(e,n,s,r){r==null&&(r=null),ro(us,e,"Typed"),_e(this,{_typedSymbol:uf,type:n,value:s}),this.#e=r,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new mt(us,e,n)}static uint8(e){return he(e,8)}static uint16(e){return he(e,16)}static uint24(e){return he(e,24)}static uint32(e){return he(e,32)}static uint40(e){return he(e,40)}static uint48(e){return he(e,48)}static uint56(e){return he(e,56)}static uint64(e){return he(e,64)}static uint72(e){return he(e,72)}static uint80(e){return he(e,80)}static uint88(e){return he(e,88)}static uint96(e){return he(e,96)}static uint104(e){return he(e,104)}static uint112(e){return he(e,112)}static uint120(e){return he(e,120)}static uint128(e){return he(e,128)}static uint136(e){return he(e,136)}static uint144(e){return he(e,144)}static uint152(e){return he(e,152)}static uint160(e){return he(e,160)}static uint168(e){return he(e,168)}static uint176(e){return he(e,176)}static uint184(e){return he(e,184)}static uint192(e){return he(e,192)}static uint200(e){return he(e,200)}static uint208(e){return he(e,208)}static uint216(e){return he(e,216)}static uint224(e){return he(e,224)}static uint232(e){return he(e,232)}static uint240(e){return he(e,240)}static uint248(e){return he(e,248)}static uint256(e){return he(e,256)}static uint(e){return he(e,256)}static int8(e){return he(e,-8)}static int16(e){return he(e,-16)}static int24(e){return he(e,-24)}static int32(e){return he(e,-32)}static int40(e){return he(e,-40)}static int48(e){return he(e,-48)}static int56(e){return he(e,-56)}static int64(e){return he(e,-64)}static int72(e){return he(e,-72)}static int80(e){return he(e,-80)}static int88(e){return he(e,-88)}static int96(e){return he(e,-96)}static int104(e){return he(e,-104)}static int112(e){return he(e,-112)}static int120(e){return he(e,-120)}static int128(e){return he(e,-128)}static int136(e){return he(e,-136)}static int144(e){return he(e,-144)}static int152(e){return he(e,-152)}static int160(e){return he(e,-160)}static int168(e){return he(e,-168)}static int176(e){return he(e,-176)}static int184(e){return he(e,-184)}static int192(e){return he(e,-192)}static int200(e){return he(e,-200)}static int208(e){return he(e,-208)}static int216(e){return he(e,-216)}static int224(e){return he(e,-224)}static int232(e){return he(e,-232)}static int240(e){return he(e,-240)}static int248(e){return he(e,-248)}static int256(e){return he(e,-256)}static int(e){return he(e,-256)}static bytes1(e){return Ve(e,1)}static bytes2(e){return Ve(e,2)}static bytes3(e){return Ve(e,3)}static bytes4(e){return Ve(e,4)}static bytes5(e){return Ve(e,5)}static bytes6(e){return Ve(e,6)}static bytes7(e){return Ve(e,7)}static bytes8(e){return Ve(e,8)}static bytes9(e){return Ve(e,9)}static bytes10(e){return Ve(e,10)}static bytes11(e){return Ve(e,11)}static bytes12(e){return Ve(e,12)}static bytes13(e){return Ve(e,13)}static bytes14(e){return Ve(e,14)}static bytes15(e){return Ve(e,15)}static bytes16(e){return Ve(e,16)}static bytes17(e){return Ve(e,17)}static bytes18(e){return Ve(e,18)}static bytes19(e){return Ve(e,19)}static bytes20(e){return Ve(e,20)}static bytes21(e){return Ve(e,21)}static bytes22(e){return Ve(e,22)}static bytes23(e){return Ve(e,23)}static bytes24(e){return Ve(e,24)}static bytes25(e){return Ve(e,25)}static bytes26(e){return Ve(e,26)}static bytes27(e){return Ve(e,27)}static bytes28(e){return Ve(e,28)}static bytes29(e){return Ve(e,29)}static bytes30(e){return Ve(e,30)}static bytes31(e){return Ve(e,31)}static bytes32(e){return Ve(e,32)}static address(e){return new mt(us,"address",e)}static bool(e){return new mt(us,"bool",!!e)}static bytes(e){return new mt(us,"bytes",e)}static string(e){return new mt(us,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new mt(us,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===uf}static dereference(e,n){if(mt.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class N1 extends ks{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let s=mt.dereference(n,"string");try{s=ze(s)}catch(r){return this._throwError(r.message,n)}return e.writeValue(s)}decode(e){return ze(zs(e.readValue(),20))}}class R1 extends ks{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function Sg(t,e,n){let s=[];if(Array.isArray(n))s=n;else if(n&&typeof n=="object"){let l={};s=e.map(u=>{const d=u.localName;return Y(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),Y(!l[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),l[d]=!0,n[d]})}else B(!1,"invalid tuple value","tuple",n);B(e.length===s.length,"types/value length mismatch","tuple",n);let r=new yc,i=new yc,o=[];e.forEach((l,u)=>{let d=s[u];if(l.dynamic){let f=i.length;l.encode(i,d);let h=r.writeUpdatableValue();o.push(p=>{h(p+f)})}else l.encode(r,d)}),o.forEach(l=>{l(r.length)});let a=t.appendWriter(r);return a+=t.appendWriter(i),a}function Tg(t,e){let n=[],s=[],r=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),l=r.subReader(a);try{o=i.decode(l)}catch(u){if($t(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if($t(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");n.push(o),s.push(i.localName||null)}),As.fromItems(n,s)}class D1 extends ks{coder;length;constructor(e,n,s){const r=e.type+"["+(n>=0?n:"")+"]",i=n===-1||e.dynamic;super("array",r,s,i),_e(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(e);return n}encode(e,n){const s=mt.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let r=this.length;r===-1&&(r=s.length,e.writeValue(s.length)),$p(s.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<s.length;o++)i.push(this.coder);return Sg(e,i,s)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),Y(n*an<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*an,length:e.dataLength}));let s=[];for(let r=0;r<n;r++)s.push(new R1(this.coder));return Tg(e,s)}}class L1 extends ks{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const s=mt.dereference(n,"bool");return e.writeValue(s?1:0)}decode(e){return!!e.readValue()}}class Ng extends ks{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=on(n);let s=e.writeValue(n.length);return s+=e.writeBytes(n),s}decode(e){return e.readBytes(e.readIndex(),!0)}}class O1 extends Ng{constructor(e){super("bytes",e)}decode(e){return ce(super.decode(e))}}class M1 extends ks{size;constructor(e,n){let s="bytes"+String(e);super(s,s,n,!1),_e(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let s=on(mt.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(s)}decode(e){return ce(e.readBytes(this.size))}}const F1=new Uint8Array([]);class U1 extends ks{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(F1)}decode(e){return e.readBytes(0),null}}const $1=BigInt(0),H1=BigInt(1),G1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Q1 extends ks{size;signed;constructor(e,n,s){const r=(n?"int":"uint")+e*8;super(r,r,s,!1),_e(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let s=pe(mt.dereference(n,this.type)),r=gr(G1,an*8);if(this.signed){let i=gr(r,this.size*8-1);(s>i||s<-(i+H1))&&this._throwError("value out-of-bounds",n),s=Qp(s,8*an)}else(s<$1||s>gr(r,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(s)}decode(e){let n=gr(e.readValue(),this.size*8);return this.signed&&(n=jo(n,this.size*8)),n}}class V1 extends Ng{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,bs(mt.dereference(n,"string")))}decode(e){return Jo(super.decode(e))}}class Co extends ks{coders;constructor(e,n){let s=!1;const r=[];e.forEach(o=>{o.dynamic&&(s=!0),r.push(o.type)});const i="tuple("+r.join(",")+")";super("tuple",i,n,s),_e(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(s=>{e.push(s.defaultValue())});const n=this.coders.reduce((s,r)=>{const i=r.localName;return i&&(s[i]||(s[i]=0),s[i]++),s},{});return this.coders.forEach((s,r)=>{let i=s.localName;!i||n[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[r]))}),Object.freeze(e)}encode(e,n){const s=mt.dereference(n,"tuple");return Sg(e,this.coders,s)}decode(e){return Tg(e,this.coders)}}function Hl(t,e){return{address:ze(t),storageKeys:e.map((n,s)=>(B(ot(n,32),"invalid slot",`storageKeys[${s}]`,n),n.toLowerCase()))}}function Br(t){if(Array.isArray(t))return t.map((n,s)=>Array.isArray(n)?(B(n.length===2,"invalid slot set",`value[${s}]`,n),Hl(n[0],n[1])):(B(n!=null&&typeof n=="object","invalid address-slot set","value",t),Hl(n.address,n.storageKeys)));B(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const s=t[n].reduce((r,i)=>(r[i]=!0,r),{});return Hl(n,Object.keys(s).sort())});return e.sort((n,s)=>n.address.localeCompare(s.address)),e}function Rg(t){return{address:ze(t.address),nonce:pe(t.nonce!=null?t.nonce:0),chainId:pe(t.chainId!=null?t.chainId:0),signature:gt.from(t.signature)}}function K1(t){let e;return typeof t=="string"?e=vs.computePublicKey(t,!1):e=t.publicKey,ze(Pt("0x"+e.substring(4)).substring(26))}function W1(t,e){return K1(vs.recoverPublicKey(t,e))}const Dt=BigInt(0),j1=BigInt(2),J1=BigInt(27),z1=BigInt(28),Y1=BigInt(35),X1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Gl=4096*32;function Z1(t){return{blobToKzgCommitment:s=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Fe(t.blobToKzgCommitment(ce(s)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Fe(t.blobToKzgCommitment(s));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Fe(t.blobToKZGCommitment(ce(s)));B(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(s,r)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Fe(t.computeBlobProof(ce(s),ce(r)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(s,r);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Fe(t.computeBlobKZGProof(ce(s),ce(r)));B(!1,"unsupported KZG library","kzg",t)}}}function df(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=fi(e).substring(4),"0x"+n}function hi(t){return t==="0x"?null:ze(t)}function Ia(t,e){try{return Br(t)}catch(n){B(!1,n.message,e,t)}}function q1(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let s=0;s<t.length;s++){const r=t[s];if(!Array.isArray(r))throw new Error(`authorization[${s}]: invalid array`);if(r.length!==6)throw new Error(`authorization[${s}]: wrong length`);if(!r[1])throw new Error(`authorization[${s}]: null address`);n.push({address:hi(r[1]),nonce:Ze(r[2],"nonce"),chainId:Ze(r[0],"chainId"),signature:gt.from({yParity:kr(r[3],"yParity"),r:xs(r[4],32),s:xs(r[5],32)})})}return n}catch(n){B(!1,n.message,e,t)}}function kr(t,e){return t==="0x"?0:Me(t,e)}function Ze(t,e){if(t==="0x")return Dt;const n=pe(t,e);return B(n<=X1,"value exceeds uint size",e,n),n}function Qe(t,e){const n=pe(t,"value"),s=St(n);return B(s.length<=32,"value too large",`tx.${e}`,n),s}function Pa(t){return Br(t).map(e=>[e.address,e.storageKeys])}function eb(t){return t.map(e=>[Qe(e.chainId,"chainId"),e.address,Qe(e.nonce,"nonce"),Qe(e.signature.yParity,"yParity"),St(e.signature.r),St(e.signature.s)])}function tb(t,e){B(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)B(ot(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function nb(t){const e=io(t);B(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:kr(e[0],"nonce"),gasPrice:Ze(e[1],"gasPrice"),gasLimit:Ze(e[2],"gasLimit"),to:hi(e[3]),value:Ze(e[4],"value"),data:ce(e[5]),chainId:Dt};if(e.length===6)return n;const s=Ze(e[6],"v"),r=Ze(e[7],"r"),i=Ze(e[8],"s");if(r===Dt&&i===Dt)n.chainId=s;else{let o=(s-Y1)/j1;o<Dt&&(o=Dt),n.chainId=o,B(o!==Dt||s===J1||s===z1,"non-canonical legacy v","v",e[6]),n.signature=gt.from({r:xs(e[7],32),s:xs(e[8],32),v:s})}return n}function sb(t,e){const n=[Qe(t.nonce,"nonce"),Qe(t.gasPrice||0,"gasPrice"),Qe(t.gasLimit,"gasLimit"),t.to||"0x",Qe(t.value,"value"),t.data];let s=Dt;if(t.chainId!=Dt)s=pe(t.chainId,"tx.chainId"),B(!e||e.networkV==null||e.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(s=i)}if(!e)return s!==Dt&&(n.push(St(s)),n.push("0x"),n.push("0x")),Ys(n);let r=BigInt(27+e.yParity);return s!==Dt?r=gt.getChainIdV(s,e.v):BigInt(e.v)!==r&&B(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(St(r)),n.push(St(e.r)),n.push(St(e.s)),Ys(n)}function Ba(t,e){let n;try{if(n=kr(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{B(!1,"invalid yParity","yParity",e[0])}const s=xs(e[1],32),r=xs(e[2],32),i=gt.from({r:s,s:r,yParity:n});t.signature=i}function rb(t){const e=io(Fe(t).slice(1));B(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ce(t));const n={type:2,chainId:Ze(e[0],"chainId"),nonce:kr(e[1],"nonce"),maxPriorityFeePerGas:Ze(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ze(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ze(e[4],"gasLimit"),to:hi(e[5]),value:Ze(e[6],"value"),data:ce(e[7]),accessList:Ia(e[8],"accessList")};return e.length===9||Ba(n,e.slice(9)),n}function ib(t,e){const n=[Qe(t.chainId,"chainId"),Qe(t.nonce,"nonce"),Qe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Qe(t.maxFeePerGas||0,"maxFeePerGas"),Qe(t.gasLimit,"gasLimit"),t.to||"0x",Qe(t.value,"value"),t.data,Pa(t.accessList||[])];return e&&(n.push(Qe(e.yParity,"yParity")),n.push(St(e.r)),n.push(St(e.s))),vt(["0x02",Ys(n)])}function ob(t){const e=io(Fe(t).slice(1));B(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ce(t));const n={type:1,chainId:Ze(e[0],"chainId"),nonce:kr(e[1],"nonce"),gasPrice:Ze(e[2],"gasPrice"),gasLimit:Ze(e[3],"gasLimit"),to:hi(e[4]),value:Ze(e[5],"value"),data:ce(e[6]),accessList:Ia(e[7],"accessList")};return e.length===8||Ba(n,e.slice(8)),n}function ab(t,e){const n=[Qe(t.chainId,"chainId"),Qe(t.nonce,"nonce"),Qe(t.gasPrice||0,"gasPrice"),Qe(t.gasLimit,"gasLimit"),t.to||"0x",Qe(t.value,"value"),t.data,Pa(t.accessList||[])];return e&&(n.push(Qe(e.yParity,"recoveryParam")),n.push(St(e.r)),n.push(St(e.s))),vt(["0x01",Ys(n)])}function lb(t){let e=io(Fe(t).slice(1)),n="3",s=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const i=e[1],o=e[2],a=e[3];B(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),B(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),B(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),B(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),B(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<e[1].length;l++)s.push({data:i[l],commitment:o[l],proof:a[l]});e=e[0]}B(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",ce(t));const r={type:3,chainId:Ze(e[0],"chainId"),nonce:kr(e[1],"nonce"),maxPriorityFeePerGas:Ze(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ze(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ze(e[4],"gasLimit"),to:hi(e[5]),value:Ze(e[6],"value"),data:ce(e[7]),accessList:Ia(e[8],"accessList"),maxFeePerBlobGas:Ze(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};s&&(r.blobs=s),B(r.to!=null,`invalid address for transaction type: ${n}`,"data",t),B(Array.isArray(r.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<r.blobVersionedHashes.length;i++)B(ot(r.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||Ba(r,e.slice(11)),r}function cb(t,e,n){const s=[Qe(t.chainId,"chainId"),Qe(t.nonce,"nonce"),Qe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Qe(t.maxFeePerGas||0,"maxFeePerGas"),Qe(t.gasLimit,"gasLimit"),t.to||ji,Qe(t.value,"value"),t.data,Pa(t.accessList||[]),Qe(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),tb(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(s.push(Qe(e.yParity,"yParity")),s.push(St(e.r)),s.push(St(e.s)),n)?vt(["0x03",Ys([s,n.map(r=>r.data),n.map(r=>r.commitment),n.map(r=>r.proof)])]):vt(["0x03",Ys(s)])}function ub(t){const e=io(Fe(t).slice(1));B(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ce(t));const n={type:4,chainId:Ze(e[0],"chainId"),nonce:kr(e[1],"nonce"),maxPriorityFeePerGas:Ze(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ze(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ze(e[4],"gasLimit"),to:hi(e[5]),value:Ze(e[6],"value"),data:ce(e[7]),accessList:Ia(e[8],"accessList"),authorizationList:q1(e[9],"authorizationList")};return e.length===10||Ba(n,e.slice(10)),n}function db(t,e){const n=[Qe(t.chainId,"chainId"),Qe(t.nonce,"nonce"),Qe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Qe(t.maxFeePerGas||0,"maxFeePerGas"),Qe(t.gasLimit,"gasLimit"),t.to||"0x",Qe(t.value,"value"),t.data,Pa(t.accessList||[]),eb(t.authorizationList||[])];return e&&(n.push(Qe(e.yParity,"yParity")),n.push(St(e.r)),n.push(St(e.s))),vt(["0x04",Ys(n)])}class Hn{#e;#t;#n;#s;#r;#o;#i;#a;#d;#c;#p;#g;#l;#u;#f;#h;#v;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:B(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?ji:e}set to(e){this.#t=e==null?null:ze(e)}get nonce(){return this.#s}set nonce(e){this.#s=Me(e,"value")}get gasLimit(){return this.#r}set gasLimit(e){this.#r=pe(e)}get gasPrice(){const e=this.#o;return e==null&&(this.type===0||this.type===1)?Dt:e}set gasPrice(e){this.#o=e==null?null:pe(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#i;return e??(this.type===2||this.type===3?Dt:null)}set maxPriorityFeePerGas(e){this.#i=e==null?null:pe(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?Dt:null)}set maxFeePerGas(e){this.#a=e==null?null:pe(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=ce(e)}get value(){return this.#d}set value(e){this.#d=pe(e,"value")}get chainId(){return this.#c}set chainId(e){this.#c=pe(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:gt.from(e)}get accessList(){const e=this.#g||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#g=e==null?null:Br(e)}get authorizationList(){const e=this.#v||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#v=e==null?null:e.map(n=>Rg(n))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?Dt:e}set maxFeePerBlobGas(e){this.#l=e==null?null:pe(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){B(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)B(ot(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#u=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}const n=[],s=[];for(let r=0;r<e.length;r++){const i=e[r];if(au(i)){Y(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Fe(i);if(B(o.length<=Gl,"blob is too large",`blobs[${r}]`,i),o.length!==Gl){const u=new Uint8Array(Gl);u.set(o),o=u}const a=this.#f.blobToKzgCommitment(o),l=ce(this.#f.computeBlobKzgProof(o,a));n.push({data:ce(o),commitment:ce(a),proof:l}),s.push(df(1,a))}else{const o=ce(i.commitment);n.push({data:ce(i.data),commitment:o,proof:ce(i.proof)}),s.push(df(1,o))}}this.#h=n,this.#u=s}get kzg(){return this.#f}set kzg(e){e==null?this.#f=null:this.#f=Z1(e)}constructor(){this.#e=null,this.#t=null,this.#s=0,this.#r=Dt,this.#o=null,this.#i=null,this.#a=null,this.#n="0x",this.#d=Dt,this.#c=Dt,this.#p=null,this.#g=null,this.#l=null,this.#u=null,this.#f=null,this.#h=null,this.#v=null}get hash(){return this.signature==null?null:Pt(this.#m(!0,!1))}get unsignedHash(){return Pt(this.unsignedSerialized)}get from(){return this.signature==null?null:W1(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:vs.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m(e,n){Y(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const s=e?this.signature:null;switch(this.inferType()){case 0:return sb(this,s);case 1:return ab(this,s);case 2:return ib(this,s);case 3:return cb(this,s,n?this.blobs:null);case 4:return db(this,s)}Y(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,s=this.accessList!=null,r=this.#l!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Y(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Y(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Y(this.type!==0||!s,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):n?i.push(2):e?(i.push(1),s||i.push(0)):s?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Hn.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Hn;if(typeof e=="string"){const s=Fe(e);if(s[0]>=127)return Hn.from(nb(s));switch(s[0]){case 1:return Hn.from(ob(s));case 2:return Hn.from(rb(s));case 3:return Hn.from(lb(s));case 4:return Hn.from(ub(s))}Y(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Hn;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=gt.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(B(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),B(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(B(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),B(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function _r(t){return Pt(bs(t))}var fb="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";const ff=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),hf=4;function hb(t){let e=0;function n(){return t[e++]<<8|t[e++]}let s=n(),r=1,i=[0,1];for(let L=1;L<s;L++)i.push(r+=n());let o=n(),a=e;e+=o;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const f=31,h=2**f,p=h>>>1,w=p>>1,m=h-1;let y=0;for(let L=0;L<f;L++)y=y<<1|d();let v=[],b=0,A=h;for(;;){let L=Math.floor(((y-b+1)*r-1)/A),H=0,V=s;for(;V-H>1;){let M=H+V>>>1;L<i[M]?V=M:H=M}if(H==0)break;v.push(H);let K=b+Math.floor(A*i[H]/r),z=b+Math.floor(A*i[H+1]/r)-1;for(;((K^z)&p)==0;)y=y<<1&m|d(),K=K<<1&m,z=z<<1&m|1;for(;K&~z&w;)y=y&p|y<<1&m>>>1|d(),K=K<<1^p,z=(z^p)<<1|p|1;b=K,A=1+z-K}let _=s-4;return v.map(L=>{switch(L-_){case 3:return _+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return _+256+(t[a++]<<8|t[a++]);case 1:return _+t[a++];default:return L-1}})}function pb(t){let e=0;return()=>t[e++]}function Dg(t){return pb(hb(gb(t)))}function gb(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((r,i)=>e[r.charCodeAt(0)]=i);let n=t.length,s=new Uint8Array(6*n>>3);for(let r=0,i=0,o=0,a=0;r<n;r++)a=a<<6|e[t.charCodeAt(r)],o+=6,o>=8&&(s[i++]=a>>(o-=8));return s}function mb(t){return t&1?~t>>1:t>>1}function vb(t,e){let n=Array(t);for(let s=0,r=0;s<t;s++)n[s]=r+=mb(e());return n}function Ji(t,e=0){let n=[];for(;;){let s=t(),r=t();if(!r)break;e+=s;for(let i=0;i<r;i++)n.push(e+i);e+=r+1}return n}function Lg(t){return zi(()=>{let e=Ji(t);if(e.length)return e})}function Og(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Ab(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(yb(n,t))}return e.flat()}function zi(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function Mg(t,e,n){let s=Array(t).fill().map(()=>[]);for(let r=0;r<e;r++)vb(t,n).forEach((i,o)=>s[o].push(i));return s}function Ab(t,e){let n=1+e(),s=e(),r=zi(e);return Mg(r.length,1+t,e).flatMap((o,a)=>{let[l,...u]=o;return Array(r[a]).fill().map((d,f)=>{let h=f*s;return[l+f*n,u.map(p=>p+h)]})})}function yb(t,e){let n=1+e();return Mg(n,1+t,e).map(r=>[r[0],r.slice(1)])}function wb(t){let e=[],n=Ji(t);return r(s([]),[]),e;function s(i){let o=t(),a=zi(()=>{let l=Ji(t).map(u=>n[u]);if(l.length)return s(l)});return{S:o,B:a,Q:i}}function r({S:i,B:o},a,l){if(!(i&4&&l===a[a.length-1])){i&2&&(l=a[a.length-1]),i&1&&e.push(a);for(let u of o)for(let d of u.Q)r(u,[...a,d],l)}}}function bb(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Fg(t){return`{${bb(t)}}`}function Cb(t){let e=[];for(let n=0,s=t.length;n<s;){let r=t.codePointAt(n);n+=r<65536?1:2,e.push(r)}return e}function ai(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let s=[];for(let r=0;r<n;)s.push(String.fromCodePoint(...t.slice(r,r+=4096)));return s.join("")}function Eb(t,e){let n=t.length,s=n-e.length;for(let r=0;s==0&&r<n;r++)s=t[r]-e[r];return s}var _b="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";const Yi=44032,Yo=4352,Xo=4449,Zo=4519,Ug=19,$g=21,li=28,qo=$g*li,xb=Ug*qo,Ib=Yi+xb,Pb=Yo+Ug,Bb=Xo+$g,kb=Zo+li;function _i(t){return t>>24&255}function Hg(t){return t&16777215}let xc,pf,Ic,No;function Sb(){let t=Dg(_b);xc=new Map(Lg(t).flatMap((e,n)=>e.map(s=>[s,n+1<<24]))),pf=new Set(Ji(t)),Ic=new Map,No=new Map;for(let[e,n]of Og(t)){if(!pf.has(e)&&n.length==2){let[s,r]=n,i=No.get(s);i||(i=new Map,No.set(s,i)),i.set(r,e)}Ic.set(e,n.reverse())}}function Gg(t){return t>=Yi&&t<Ib}function Tb(t,e){if(t>=Yo&&t<Pb&&e>=Xo&&e<Bb)return Yi+(t-Yo)*qo+(e-Xo)*li;if(Gg(t)&&e>Zo&&e<kb&&(t-Yi)%li==0)return t+(e-Zo);{let n=No.get(t);return n&&(n=n.get(e),n)?n:-1}}function Qg(t){xc||Sb();let e=[],n=[],s=!1;function r(i){let o=xc.get(i);o&&(s=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(Gg(i)){let o=i-Yi,a=o/qo|0,l=o%qo/li|0,u=o%li;r(Yo+a),r(Xo+l),u>0&&r(Zo+u)}else{let o=Ic.get(i);o?n.push(...o):r(i)}if(!n.length)break;i=n.pop()}if(s&&e.length>1){let i=_i(e[0]);for(let o=1;o<e.length;o++){let a=_i(e[o]);if(a==0||i<=a){i=a;continue}let l=o-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(i=_i(e[--l]),i<=a))break}i=_i(e[o])}}return e}function Nb(t){let e=[],n=[],s=-1,r=0;for(let i of t){let o=_i(i),a=Hg(i);if(s==-1)o==0?s=a:e.push(a);else if(r>0&&r>=o)o==0?(e.push(s,...n),n.length=0,s=a):n.push(a),r=o;else{let l=Tb(s,a);l>=0?s=l:r==0&&o==0?(e.push(s),s=a):(n.push(a),r=o)}}return s>=0&&e.push(s,...n),e}function Vg(t){return Qg(t).map(Hg)}function Rb(t){return Nb(Qg(t))}const gf=45,Kg=".",Wg=65039,jg=1,ea=t=>Array.from(t);function Xi(t,e){return t.P.has(e)||t.Q.has(e)}class Db extends Array{get is_emoji(){return!0}}let Pc,Jg,vr,Bc,zg,zr,Ql,Fr,lr,mf,kc;function Au(){if(Pc)return;let t=Dg(fb);const e=()=>Ji(t),n=()=>new Set(e()),s=(d,f)=>f.forEach(h=>d.add(h));Pc=new Map(Og(t)),Jg=n(),vr=e(),Bc=new Set(e().map(d=>vr[d])),vr=new Set(vr),zg=n(),n();let r=Lg(t),i=t();const o=()=>{let d=new Set;return e().forEach(f=>s(d,r[f])),s(d,e()),d};zr=zi(d=>{let f=zi(t).map(h=>h+96);if(f.length){let h=d>=i;f[0]-=32,f=ai(f),h&&(f=`Restricted[${f}]`);let p=o(),w=o(),m=!t();return{N:f,P:p,Q:w,M:m,R:h}}}),Ql=n(),Fr=new Map;let a=e().concat(ea(Ql)).sort((d,f)=>d-f);a.forEach((d,f)=>{let h=t(),p=a[f]=h?a[f-h]:{V:[],M:new Map};p.V.push(d),Ql.has(d)||Fr.set(d,p)});for(let{V:d,M:f}of new Set(Fr.values())){let h=[];for(let w of d){let m=zr.filter(v=>Xi(v,w)),y=h.find(({G:v})=>m.some(b=>v.has(b)));y||(y={G:new Set,V:[]},h.push(y)),y.V.push(w),s(y.G,m)}let p=h.flatMap(w=>ea(w.G));for(let{G:w,V:m}of h){let y=new Set(p.filter(v=>!w.has(v)));for(let v of m)f.set(v,y)}}lr=new Set;let l=new Set;const u=d=>lr.has(d)?l.add(d):lr.add(d);for(let d of zr){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of lr)!Fr.has(d)&&!l.has(d)&&Fr.set(d,jg);s(lr,Vg(lr)),mf=wb(t).map(d=>Db.from(d)).sort(Eb),kc=new Map;for(let d of mf){let f=[kc];for(let h of d){let p=f.map(w=>{let m=w.get(h);return m||(m=new Map,w.set(h,m)),m});h===Wg?f.push(...p):f=p}for(let h of f)h.V=d}}function yu(t){return(Yg(t)?"":`${wu(ka([t]))} `)+Fg(t)}function wu(t){return`"${t}"`}function Lb(t){if(t.length>=4&&t[2]==gf&&t[3]==gf)throw new Error(`invalid label extension: "${ai(t.slice(0,4))}"`)}function Ob(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Mb(t){let e=t[0],n=ff.get(e);if(n)throw Di(`leading ${n}`);let s=t.length,r=-1;for(let i=1;i<s;i++){e=t[i];let o=ff.get(e);if(o){if(r==i)throw Di(`${n} + ${o}`);r=i+1,n=o}}if(r==s)throw Di(`trailing ${n}`)}function ka(t,e=1/0,n=Fg){let s=[];Fb(t[0])&&s.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let r=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];Yg(a)&&(s.push(ai(t.slice(r,o))),s.push(n(a)),r=o+1)}return s.push(ai(t.slice(r,i))),s.join("")}function Fb(t){return Au(),vr.has(t)}function Yg(t){return Au(),zg.has(t)}function Ub(t){return Qb($b(t,Rb,Wb))}function $b(t,e,n){if(!t)return[];Au();let s=0;return t.split(Kg).map(r=>{let i=Cb(r),o={input:i,offset:s};s+=i.length+1;try{let a=o.tokens=Kb(i,e,n),l=a.length,u;if(!l)throw new Error("empty label");let d=o.output=a.flat();if(Ob(d),!(o.emoji=l>1||a[0].is_emoji)&&d.every(h=>h<128))Lb(d),u="ASCII";else{let h=a.flatMap(p=>p.is_emoji?[]:p);if(!h.length)u="Emoji";else{if(vr.has(d[0]))throw Di("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&vr.has(y[0]))throw Di(`emoji + combining mark: "${ai(a[m-1])} + ${ka([y[0]])}"`)}Mb(d);let p=ea(new Set(h)),[w]=Gb(p);Vb(w,h),Hb(w,p),u=w.N}}o.type=u}catch(a){o.error=a}return o})}function Hb(t,e){let n,s=[];for(let r of e){let i=Fr.get(r);if(i===jg)return;if(i){let o=i.M.get(r);if(n=n?n.filter(a=>o.has(a)):ea(o),!n.length)return}else s.push(r)}if(n){for(let r of n)if(s.every(i=>Xi(r,i)))throw new Error(`whole-script confusable: ${t.N}/${r.N}`)}}function Gb(t){let e=zr;for(let n of t){let s=e.filter(r=>Xi(r,n));if(!s.length)throw zr.some(r=>Xi(r,n))?Zg(e[0],n):Xg(n);if(e=s,s.length==1)break}return e}function Qb(t){return t.map(({input:e,error:n,output:s})=>{if(n){let r=n.message;throw new Error(t.length==1?r:`Invalid label ${wu(ka(e,63))}: ${r}`)}return ai(s)}).join(Kg)}function Xg(t){return new Error(`disallowed character: ${yu(t)}`)}function Zg(t,e){let n=yu(e),s=zr.find(r=>r.P.has(e));return s&&(n=`${s.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Di(t){return new Error(`illegal placement: ${t}`)}function Vb(t,e){for(let n of e)if(!Xi(t,n))throw Zg(t,n);if(t.M){let n=Vg(e);for(let s=1,r=n.length;s<r;s++)if(Bc.has(n[s])){let i=s+1;for(let o;i<r&&Bc.has(o=n[i]);i++)for(let a=s;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${yu(o)}`);if(i-s>hf)throw new Error(`excessive non-spacing marks: ${wu(ka(n.slice(s-1,i)))} (${i-s}/${hf})`);s=i}}}function Kb(t,e,n){let s=[],r=[];for(t=t.slice().reverse();t.length;){let i=jb(t);if(i)r.length&&(s.push(e(r)),r=[]),s.push(n(i));else{let o=t.pop();if(lr.has(o))r.push(o);else{let a=Pc.get(o);if(a)r.push(...a);else if(!Jg.has(o))throw Xg(o)}}}return r.length&&s.push(e(r)),s}function Wb(t){return t.filter(e=>e!=Wg)}function jb(t,e){let n=kc,s,r=t.length;for(;r&&(n=n.get(t[--r]),!!n);){let{V:i}=n;i&&(s=i,t.length=r)}return s}const qg=new Uint8Array(32);qg.fill(0);function vf(t){return B(t.length!==0,"invalid ENS name; empty component","comp",t),t}function em(t){const e=bs(Jb(t)),n=[];if(t.length===0)return n;let s=0;for(let r=0;r<e.length;r++)e[r]===46&&(n.push(vf(e.slice(s,r))),s=r+1);return B(s<e.length,"invalid ENS name; empty component","name",t),n.push(vf(e.slice(s))),n}function Jb(t){try{if(t.length===0)throw new Error("empty label");return Ub(t)}catch(e){B(!1,`invalid ENS name (${e.message})`,"name",t)}}function Sc(t){B(typeof t=="string","invalid ENS name; not a string","name",t),B(t.length,"invalid ENS name (empty label)","name",t);let e=qg;const n=em(t);for(;n.length;)e=Pt(vt([e,Pt(n.pop())]));return ce(e)}function zb(t,e){const n=e;return B(n<=255,"DNS encoded label cannot exceed 255","length",n),ce(vt(em(t).map(s=>{B(s.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const r=new Uint8Array(s.length+1);return r.set(s,1),r[0]=r.length-1,r})))+"00"}const tm=new Uint8Array(32);tm.fill(0);const Yb=BigInt(-1),nm=BigInt(0),sm=BigInt(1),Xb=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Zb(t){const e=Fe(t),n=e.length%32;return n?vt([e,tm.slice(n)]):ce(e)}const qb=zs(sm,32),eC=zs(nm,32),Af={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Vl=["name","version","chainId","verifyingContract","salt"];function yf(t){return function(e){return B(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const tC={name:yf("name"),version:yf("version"),chainId:function(t){const e=pe(t,"domain.chainId");return B(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Gn(e)},verifyingContract:function(t){try{return ze(t).toLowerCase()}catch{}B(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Fe(t,"domain.salt");return B(e.length===32,'invalid domain value "salt"',"domain.salt",t),ce(e)}};function Kl(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",s=parseInt(e[2]);B(s%8===0&&s!==0&&s<=256&&e[2]===String(s),"invalid numeric width","type",t);const r=gr(Xb,n?s-1:s),i=n?(r+sm)*Yb:nm;return function(o){const a=pe(o,"value");return B(a>=i&&a<=r,`value out-of-bounds for ${t}`,"value",a),zs(n?Qp(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return B(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(s){const r=Fe(s);return B(r.length===n,`invalid length for ${t}`,"value",s),Zb(s)}}}switch(t){case"address":return function(e){return xs(ze(e),32)};case"bool":return function(e){return e?qb:eC};case"bytes":return function(e){return Pt(e)};case"string":return function(e){return _r(e)}}return null}function wf(t,e){return`${t}(${e.map(({name:n,type:s})=>s+" "+n).join(",")})`}function Eo(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class bn{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,s=new Map,r=new Map,i={};Object.keys(e).forEach(l=>{i[l]=e[l].map(({name:u,type:d})=>{let{base:f,index:h}=Eo(d);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),n.set(l,new Set),s.set(l,[]),r.set(l,new Set)}),this.#e=JSON.stringify(i);for(const l in i){const u=new Set;for(const d of i[l]){B(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(l)}`,"types",e),u.add(d.name);const f=Eo(d.type).base;B(f!==l,`circular type reference to ${JSON.stringify(f)}`,"types",e),!Kl(f)&&(B(s.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),s.get(f).push(l),n.get(l).add(f))}}const o=Array.from(s.keys()).filter(l=>s.get(l).length===0);B(o.length!==0,"missing primary type","types",e),B(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),_e(this,{primaryType:o[0]});function a(l,u){B(!u.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),u.add(l);for(const d of n.get(l))if(s.has(d)){a(d,u);for(const f of u)r.get(f).add(d)}u.delete(l)}a(this.primaryType,new Set);for(const[l,u]of r){const d=Array.from(u);d.sort(),this.#t.set(l,wf(l,i[l])+d.map(f=>wf(f,i[f])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#s(e),this.#n.set(e,n)),n}#s(e){{const r=Kl(e);if(r)return r}const n=Eo(e).array;if(n){const r=n.prefix,i=this.getEncoder(r);return o=>{B(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(i);return this.#t.has(r)&&(a=a.map(Pt)),Pt(vt(a))}}const s=this.types[e];if(s){const r=_r(this.#t.get(e));return i=>{const o=s.map(({name:a,type:l})=>{const u=this.getEncoder(l)(i[a]);return this.#t.has(l)?Pt(u):u});return o.unshift(r),vt(o)}}B(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return B(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Pt(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,s){if(Kl(e))return s(e,n);const r=Eo(e).array;if(r)return B(r.count===-1||r.count===n.length,`array length mismatch; expected length ${r.count}`,"value",n),n.map(o=>this._visit(r.prefix,o,s));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],s),o),{});B(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new bn(e)}static getPrimaryType(e){return bn.from(e).primaryType}static hashStruct(e,n,s){return bn.from(n).hashStruct(e,s)}static hashDomain(e){const n=[];for(const s in e){if(e[s]==null)continue;const r=Af[s];B(r,`invalid typed-data domain key: ${JSON.stringify(s)}`,"domain",e),n.push({name:s,type:r})}return n.sort((s,r)=>Vl.indexOf(s.name)-Vl.indexOf(r.name)),bn.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,s){return vt(["0x1901",bn.hashDomain(e),bn.from(n).hash(s)])}static hash(e,n,s){return Pt(bn.encode(e,n,s))}static async resolveNames(e,n,s,r){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!ot(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=bn.from(n);o.visit(s,(a,l)=>(a==="address"&&!ot(l,20)&&(i[l]="0x"),l));for(const a in i)i[a]=await r(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),s=o.visit(s,(a,l)=>a==="address"&&i[l]?i[l]:l),{domain:e,value:s}}static getPayload(e,n,s){bn.hashDomain(e);const r={},i=[];Vl.forEach(l=>{const u=e[l];u!=null&&(r[l]=tC[l](u),i.push({name:l,type:Af[l]}))});const o=bn.from(n);n=o.types;const a=Object.assign({},n);return B(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=i,o.encode(s),{types:a,domain:r,primaryType:o.primaryType,message:o.visit(s,(l,u)=>{if(l.match(/^bytes(\d*)/))return ce(Fe(u));if(l.match(/^u?int/))return pe(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return B(typeof u=="string","invalid string","value",u),u}B(!1,"unsupported type","type",l)})}}}function cn(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const nC="external public payable override",sC=cn(nC.split(" ")),rm="constant external internal payable private public pure view override",rC=cn(rm.split(" ")),im="constructor error event fallback function receive struct",om=cn(im.split(" ")),am="calldata memory storage payable indexed",iC=cn(am.split(" ")),oC="tuple returns",aC=[im,am,oC,rm].join(" "),lC=cn(aC.split(" ")),cC={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},uC=new RegExp("^(\\s*)"),dC=new RegExp("^([0-9]+)"),fC=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),lm=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),cm=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Ln{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Ln(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new Ln(this.#t.slice(e,n).map(s=>Object.freeze(Object.assign({},s,{match:s.match-e,linkBack:s.linkBack-e,linkNext:s.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const s=this.peek().linkNext;n.push(this.#n(this.#e+1,s)),this.#e=s}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const s=this.#t[n];e.push(`${s.type}:${s.text}`)}return`<TokenString ${e.join(" ")}>`}}function qs(t){const e=[],n=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let s=[],r=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(uC);a&&(i+=a[1].length,o=t.substring(i));const l={depth:s.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(l);let u=cC[o[0]]||"";if(u){if(l.type=u,l.text=o[0],i++,u==="OPEN_PAREN")s.push(e.length-1),r.push(e.length-1);else if(u=="CLOSE_PAREN")s.length===0&&n("no matching open bracket"),l.match=s.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=r.pop(),e[l.linkBack].linkNext=e.length-1;else if(u==="COMMA")l.linkBack=r.pop(),e[l.linkBack].linkNext=e.length-1,r.push(e.length-1);else if(u==="OPEN_BRACKET")l.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=Me(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(a=o.match(fC),a){if(l.text=a[1],i+=l.text.length,lC.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(cm)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(dC),a){l.text=a[1],l.type="NUMBER",i+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Ln(e.map(o=>Object.freeze(o)))}function bf(t,e){let n=[];for(const s in e.keys())t.has(s)&&n.push(s);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Sa(t,e){if(e.peekKeyword(om)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ps(t,e){const n=new Set;for(;;){const s=t.peekType("KEYWORD");if(s==null||e&&!e.has(s))break;if(t.pop(),n.has(s))throw new Error(`duplicate keywords: ${JSON.stringify(s)}`);n.add(s)}return Object.freeze(n)}function um(t){let e=Ps(t,rC);return bf(e,cn("constant payable nonpayable".split(" "))),bf(e,cn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Cs(t,e){return t.popParams().map(n=>it.from(n,e))}function dm(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return pe(t.pop().text);throw new Error("invalid gas")}return null}function xr(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const hC=new RegExp(/^(.*)\[([0-9]*)\]$/);function Cf(t){const e=t.match(cm);if(B(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);B(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);B(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const ft={},mn=Symbol.for("_ethers_internal"),Ef="_ParamTypeInternal",_f="_ErrorInternal",xf="_EventInternal",If="_ConstructorInternal",Pf="_FallbackInternal",Bf="_FunctionInternal",kf="_StructInternal";class it{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,s,r,i,o,a,l){if(ro(e,ft,"ParamType"),Object.defineProperty(this,mn,{value:Ef}),o&&(o=Object.freeze(o.slice())),r==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(r==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");_e(this,{name:n,type:s,baseType:r,indexed:i,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const s=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=s,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const r={type:this.baseType==="tuple"?"tuple":this.type,name:s};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(r)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(s=>s.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const s=this;return e.map(r=>s.arrayChildren.walk(r,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const s=this;return e.map((r,i)=>s.components[i].walk(r,n))}return n(this.type,e)}#e(e,n,s,r){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((l,u)=>{o.#e(e,l,s,d=>{a[u]=d})}),r(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,u)=>{o[u].#e(e,l,s,d=>{a[u]=d})}),r(a);return}const i=s(this.type,n);i.then?e.push((async function(){r(await i)})()):r(i)}async walkAsync(e,n){const s=[],r=[e];return this.#e(s,e,n,i=>{r[0]=i}),s.length&&await Promise.all(s),r[0]}static from(e,n){if(it.isParamType(e))return e;if(typeof e=="string")try{return it.from(qs(e),n)}catch{B(!1,"invalid param type","obj",e)}else if(e instanceof Ln){let a="",l="",u=null;Ps(e,cn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",u=e.popParams().map(m=>it.from(m)),a=`tuple(${u.map(m=>m.format()).join(",")})`):(a=Cf(e.popType("TYPE")),l=a);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();d=new it(ft,"",a,l,null,u,f,d),f=m.value,a+=m.text,l="array",u=null}let h=null;if(Ps(e,iC).has("indexed")){if(!n)throw new Error("");h=!0}const w=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new it(ft,w,a,l,h,u,f,d)}const s=e.name;B(!s||typeof s=="string"&&s.match(lm),"invalid name","obj.name",s);let r=e.indexed;r!=null&&(B(n,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,o=i.match(hC);if(o){const a=parseInt(o[2]||"-1"),l=it.from({type:o[1],components:e.components});return new it(ft,s||"",i,"array",r,null,a,l)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(u=>it.from(u)):null;return new it(ft,s||"",i,"tuple",r,a,null,null)}return i=Cf(e.type),new it(ft,s||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[mn]===Ef}}class Ir{type;inputs;constructor(e,n,s){ro(e,ft,"Fragment"),s=Object.freeze(s.slice()),_e(this,{type:n,inputs:s})}static from(e){if(typeof e=="string"){try{Ir.from(JSON.parse(e))}catch{}return Ir.from(qs(e))}if(e instanceof Ln)switch(e.peekKeyword(om)){case"constructor":return ys.from(e);case"error":return gn.from(e);case"event":return ns.from(e);case"fallback":case"receive":return fs.from(e);case"function":return ss.from(e);case"struct":return br.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return ys.from(e);case"error":return gn.from(e);case"event":return ns.from(e);case"fallback":case"receive":return fs.from(e);case"function":return ss.from(e);case"struct":return br.from(e)}Y(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}B(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ys.isFragment(e)}static isError(e){return gn.isFragment(e)}static isEvent(e){return ns.isFragment(e)}static isFunction(e){return ss.isFragment(e)}static isStruct(e){return br.isFragment(e)}}class Ta extends Ir{name;constructor(e,n,s,r){super(e,n,r),B(typeof s=="string"&&s.match(lm),"invalid identifier","name",s),r=Object.freeze(r.slice()),_e(this,{name:s})}}function Zi(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class gn extends Ta{constructor(e,n,s){super(e,"error",n,s),Object.defineProperty(this,mn,{value:_f})}get selector(){return _r(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Zi(e,this.inputs)),n.join(" ")}static from(e){if(gn.isFragment(e))return e;if(typeof e=="string")return gn.from(qs(e));if(e instanceof Ln){const n=Sa("error",e),s=Cs(e);return xr(e),new gn(ft,n,s)}return new gn(ft,e.name,e.inputs?e.inputs.map(it.from):[])}static isFragment(e){return e&&e[mn]===_f}}class ns extends Ta{anonymous;constructor(e,n,s,r){super(e,"event",n,s),Object.defineProperty(this,mn,{value:xf}),_e(this,{anonymous:r})}get topicHash(){return _r(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+Zi(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(r=>it.from(r)),new ns(ft,e,n,!1).topicHash}static from(e){if(ns.isFragment(e))return e;if(typeof e=="string")try{return ns.from(qs(e))}catch{B(!1,"invalid event fragment","obj",e)}else if(e instanceof Ln){const n=Sa("event",e),s=Cs(e,!0),r=!!Ps(e,cn(["anonymous"])).has("anonymous");return xr(e),new ns(ft,n,s,r)}return new ns(ft,e.name,e.inputs?e.inputs.map(n=>it.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[mn]===xf}}class ys extends Ir{payable;gas;constructor(e,n,s,r,i){super(e,n,s),Object.defineProperty(this,mn,{value:If}),_e(this,{payable:r,gas:i})}format(e){if(Y(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});const n=[`constructor${Zi(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(ys.isFragment(e))return e;if(typeof e=="string")try{return ys.from(qs(e))}catch{B(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Ln){Ps(e,cn(["constructor"]));const n=Cs(e),s=!!Ps(e,sC).has("payable"),r=dm(e);return xr(e),new ys(ft,"constructor",n,s,r)}return new ys(ft,"constructor",e.inputs?e.inputs.map(it.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[mn]===If}}class fs extends Ir{payable;constructor(e,n,s){super(e,"fallback",n),Object.defineProperty(this,mn,{value:Pf}),_e(this,{payable:s})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(e){if(fs.isFragment(e))return e;if(typeof e=="string")try{return fs.from(qs(e))}catch{B(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Ln){const n=e.toString(),s=e.peekKeyword(cn(["fallback","receive"]));if(B(s,"type must be fallback or receive","obj",n),e.popKeyword(cn(["fallback","receive"]))==="receive"){const a=Cs(e);return B(a.length===0,"receive cannot have arguments","obj.inputs",a),Ps(e,cn(["payable"])),xr(e),new fs(ft,[],!0)}let i=Cs(e);i.length?B(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(a=>a.format("minimal")).join(", ")):i=[it.from("bytes")];const o=um(e);if(B(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Ps(e,cn(["returns"])).has("returns")){const a=Cs(e);B(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(l=>l.format("minimal")).join(", "))}return xr(e),new fs(ft,i,o==="payable")}if(e.type==="receive")return new fs(ft,[],!0);if(e.type==="fallback"){const n=[it.from("bytes")],s=e.stateMutability==="payable";return new fs(ft,n,s)}B(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[mn]===Pf}}class ss extends Ta{constant;outputs;stateMutability;payable;gas;constructor(e,n,s,r,i,o){super(e,"function",n,r),Object.defineProperty(this,mn,{value:Bf}),i=Object.freeze(i.slice()),_e(this,{constant:s==="view"||s==="pure",gas:o,outputs:i,payable:s==="payable",stateMutability:s})}get selector(){return _r(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e))),outputs:this.outputs.map(s=>JSON.parse(s.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+Zi(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Zi(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(r=>it.from(r)),new ss(ft,e,"view",n,[],null).selector}static from(e){if(ss.isFragment(e))return e;if(typeof e=="string")try{return ss.from(qs(e))}catch{B(!1,"invalid function fragment","obj",e)}else if(e instanceof Ln){const s=Sa("function",e),r=Cs(e),i=um(e);let o=[];Ps(e,cn(["returns"])).has("returns")&&(o=Cs(e));const a=dm(e);return xr(e),new ss(ft,s,i,r,o,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new ss(ft,e.name,n,e.inputs?e.inputs.map(it.from):[],e.outputs?e.outputs.map(it.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[mn]===Bf}}class br extends Ta{constructor(e,n,s){super(e,"struct",n,s),Object.defineProperty(this,mn,{value:kf})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return br.from(qs(e))}catch{B(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ln){const n=Sa("struct",e),s=Cs(e);return xr(e),new br(ft,n,s)}return new br(ft,e.name,e.inputs?e.inputs.map(it.from):[])}static isFragment(e){return e&&e[mn]===kf}}const zn=new Map;zn.set(0,"GENERIC_PANIC");zn.set(1,"ASSERT_FALSE");zn.set(17,"OVERFLOW");zn.set(18,"DIVIDE_BY_ZERO");zn.set(33,"ENUM_RANGE_ERROR");zn.set(34,"BAD_STORAGE_DATA");zn.set(49,"STACK_UNDERFLOW");zn.set(50,"ARRAY_RANGE_ERROR");zn.set(65,"OUT_OF_MEMORY");zn.set(81,"UNINITIALIZED_FUNCTION_CALL");const pC=new RegExp(/^bytes([0-9]*)$/),gC=new RegExp(/^(u?int)([0-9]*)$/);let Wl=null,Sf=1024;function mC(t,e,n,s){let r="missing revert data",i=null;const o=null;let a=null;if(n){r="execution reverted";const u=Fe(n);if(n=ce(n),u.length===0)r+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)r+=" (could not decode reason; invalid data length)";else if(ce(u.slice(0,4))==="0x08c379a0")try{i=s.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},r+=`: ${JSON.stringify(i)}`}catch{r+=" (could not decode reason; invalid string data)"}else if(ce(u.slice(0,4))==="0x4e487b71")try{const d=Number(s.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[d]},i=`Panic due to ${zn.get(d)||"UNKNOWN"}(${d})`,r+=`: ${i}`}catch{r+=" (could not decode panic code)"}else r+=" (unknown custom error)"}const l={to:e.to?ze(e.to):null,data:e.data||"0x"};return e.from&&(l.from=ze(e.from)),dt(r,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:l,invocation:o,revert:a})}class ci{#e(e){if(e.isArray())return new D1(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Co(e.components.map(s=>this.#e(s)),e.name);switch(e.baseType){case"address":return new N1(e.name);case"bool":return new L1(e.name);case"string":return new V1(e.name);case"bytes":return new O1(e.name);case"":return new U1(e.name)}let n=e.type.match(gC);if(n){let s=parseInt(n[2]||"256");return B(s!==0&&s<=256&&s%8===0,"invalid "+n[1]+" bit length","param",e),new Q1(s/8,n[1]==="int",e.name)}if(n=e.type.match(pC),n){let s=parseInt(n[1]);return B(s!==0&&s<=32,"invalid bytes length","param",e),new M1(s,e.name)}B(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(r=>this.#e(it.from(r)));return new Co(n,"_").defaultValue()}encode(e,n){$p(n.length,e.length,"types/values length mismatch");const s=e.map(o=>this.#e(it.from(o))),r=new Co(s,"_"),i=new yc;return r.encode(i,n),i.data}decode(e,n,s){const r=e.map(o=>this.#e(it.from(o)));return new Co(r,"_").decode(new lu(n,s,Sf))}static _setDefaultMaxInflation(e){B(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Sf=e}static defaultAbiCoder(){return Wl==null&&(Wl=new ci),Wl}static getBuiltinCallException(e,n,s){return mC(e,n,s,ci.defaultAbiCoder())}}class vC{fragment;name;signature;topic;args;constructor(e,n,s){const r=e.name,i=e.format();_e(this,{fragment:e,name:r,signature:i,topic:n,args:s})}}class AC{fragment;name;args;signature;selector;value;constructor(e,n,s,r){const i=e.name,o=e.format();_e(this,{fragment:e,name:i,args:s,signature:o,selector:n,value:r})}}class yC{fragment;name;args;signature;selector;constructor(e,n,s){const r=e.name,i=e.format();_e(this,{fragment:e,name:r,args:s,signature:i,selector:n})}}class Tf{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){_e(this,{hash:e,_isIndexed:!0})}}const Nf={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Rf={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Nf[t.toString()]&&(e=Nf[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class fr{fragments;deploy;fallback;receive;#e;#t;#n;#s;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const s=[];for(const o of n)try{s.push(Ir.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}_e(this,{fragments:Object.freeze(s)});let r=null,i=!1;this.#s=this.getAbiCoder(),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}_e(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(B(!r||o.payable!==r.payable,"conflicting fallback fragments",`fragments[${a}]`,o),r=o,i=r.payable);return;case"function":l=this.#n;break;case"event":l=this.#t;break;case"error":l=this.#e;break;default:return}const u=o.format();l.has(u)||l.set(u,o)}),this.deploy||_e(this,{deploy:ys.from("constructor()")}),_e(this,{fallback:r,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(r=>r.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return ci.defaultAbiCoder()}#r(e,n,s){if(ot(e)){const i=e.toLowerCase();for(const o of this.#n.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of this.#n)o.split("(")[0]===e&&i.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;mt.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let u=i.length-1;u>=0;u--){const d=i[u].inputs.length;d!==a&&(!l||d!==a-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const d=i[u].inputs;for(let f=0;f<n.length;f++)if(mt.isTyped(n[f])){if(f>=d.length){if(n[f].type==="overrides")continue;i.splice(u,1);break}if(n[f].type!==d[f].baseType){i.splice(u,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&s){const o=i.map(a=>JSON.stringify(a.format())).join(", ");B(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const r=this.#n.get(ss.from(e).format());return r||null}getFunctionName(e){const n=this.#r(e,null,!1);return B(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#r(e,null,!1)}getFunction(e,n){return this.#r(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((s,r)=>s.localeCompare(r));for(let s=0;s<n.length;s++){const r=n[s];e(this.#n.get(r),s)}}#o(e,n,s){if(ot(e)){const i=e.toLowerCase();for(const o of this.#t.values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of this.#t)o.split("(")[0]===e&&i.push(a);if(n){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<n.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let l=0;l<n.length;l++)if(mt.isTyped(n[l])&&n[l].type!==a[l].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&s){const o=i.map(a=>JSON.stringify(a.format())).join(", ");B(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const r=this.#t.get(ns.from(e).format());return r||null}getEventName(e){const n=this.#o(e,null,!1);return B(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,n){return this.#o(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((s,r)=>s.localeCompare(r));for(let s=0;s<n.length;s++){const r=n[s];e(this.#t.get(r),s)}}getError(e,n){if(ot(e)){const r=e.toLowerCase();if(Rf[r])return gn.from(Rf[r].signature);for(const i of this.#e.values())if(r===i.selector)return i;return null}if(e.indexOf("(")===-1){const r=[];for(const[i,o]of this.#e)i.split("(")[0]===e&&r.push(o);if(r.length===0)return e==="Error"?gn.from("error Error(string)"):e==="Panic"?gn.from("error Panic(uint256)"):null;if(r.length>1){const i=r.map(o=>JSON.stringify(o.format())).join(", ");B(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return r[0]}if(e=gn.from(e).format(),e==="Error(string)")return gn.from("error Error(string)");if(e==="Panic(uint256)")return gn.from("error Panic(uint256)");const s=this.#e.get(e);return s||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((s,r)=>s.localeCompare(r));for(let s=0;s<n.length;s++){const r=n[s];e(this.#e.get(r),s)}}_decodeParams(e,n){return this.#s.decode(e,n)}_encodeParams(e,n){return this.#s.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const s=this.getError(e);B(s,"unknown error","fragment",e),e=s}return B(pt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,pt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const s=this.getError(e);B(s,"unknown error","fragment",e),e=s}return vt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const s=this.getFunction(e);B(s,"unknown function","fragment",e),e=s}return B(pt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,pt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const s=this.getFunction(e);B(s,"unknown function","fragment",e),e=s}return vt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);B(i,"unknown function","fragment",e),e=i}let s="invalid length for result data";const r=on(n);if(r.length%32===0)try{return this.#s.decode(e.outputs,r)}catch{s="could not decode result data"}Y(!1,s,"BAD_DATA",{value:ce(r),info:{method:e.name,signature:e.format()}})}makeError(e,n){const s=Fe(e,"data"),r=ci.getBuiltinCallException("call",n,s);if(r.message.startsWith("execution reverted (unknown custom error)")){const a=ce(s.slice(0,4)),l=this.getError(a);if(l)try{const u=this.#s.decode(l.inputs,s.slice(4));r.revert={name:l.name,signature:l.format(),args:u},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch{r.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(r.invocation={method:o.name,signature:o.signature,args:o.args}),r}encodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);B(s,"unknown function","fragment",e),e=s}return ce(this.#s.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);B(i,"unknown event","eventFragment",e),e=i}Y(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const s=[];e.anonymous||s.push(e.topicHash);const r=(i,o)=>i.type==="string"?_r(o):i.type==="bytes"?Pt(ce(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=zs(o):i.type.match(/^bytes/)?o=Oy(o,32):i.type==="address"&&this.#s.encode(["address"],[o]),xs(ce(o),32));for(n.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){B(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?s.push(null):a.baseType==="array"||a.baseType==="tuple"?B(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?s.push(i.map(l=>r(a,l))):s.push(r(a,i))});s.length&&s[s.length-1]===null;)s.pop();return s}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);B(o,"unknown event","eventFragment",e),e=o}const s=[],r=[],i=[];return e.anonymous||s.push(e.topicHash),B(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")s.push(_r(l));else if(o.type==="bytes")s.push(Pt(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");s.push(this.#s.encode([o.type],[l]))}else r.push(o),i.push(l)}),{data:this.#s.encode(r,i),topics:s}}decodeEventLog(e,n,s){if(typeof e=="string"){const p=this.getEvent(e);B(p,"unknown event","eventFragment",e),e=p}if(s!=null&&!e.anonymous){const p=e.topicHash;B(ot(s[0],32)&&s[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",s[0]),s=s.slice(1)}const r=[],i=[],o=[];e.inputs.forEach((p,w)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(r.push(it.from({type:"bytes32",name:p.name})),o.push(!0)):(r.push(p),o.push(!1)):(i.push(p),o.push(!1))});const a=s!=null?this.#s.decode(r,vt(s)):null,l=this.#s.decode(i,n,!0),u=[],d=[];let f=0,h=0;return e.inputs.forEach((p,w)=>{let m=null;if(p.indexed)if(a==null)m=new Tf(null);else if(o[w])m=new Tf(a[h++]);else try{m=a[h++]}catch(y){m=y}else try{m=l[f++]}catch(y){m=y}u.push(m),d.push(p.name||null)}),As.fromItems(u,d)}parseTransaction(e){const n=Fe(e.data,"tx.data"),s=pe(e.value!=null?e.value:0,"tx.value"),r=this.getFunction(ce(n.slice(0,4)));if(!r)return null;const i=this.#s.decode(r.inputs,n.slice(4));return new AC(r,r.selector,i,s)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new vC(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=ce(e),s=this.getError(pt(n,0,4));if(!s)return null;const r=this.#s.decode(s.inputs,pt(n,4));return new yC(s,s.selector,r)}static from(e){return e instanceof fr?e:typeof e=="string"?new fr(JSON.parse(e)):typeof e.formatJson=="function"?new fr(e.formatJson()):typeof e.format=="function"?new fr(e.format("json")):new fr(e)}}const fm=BigInt(0);function Yr(t){return t??null}function yt(t){return t==null?null:t.toString()}class Df{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,s){_e(this,{gasPrice:Yr(e),maxFeePerGas:Yr(n),maxPriorityFeePerGas:Yr(s)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:s}=this;return{_type:"FeeData",gasPrice:yt(e),maxFeePerGas:yt(n),maxPriorityFeePerGas:yt(s)}}}function ta(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ce(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of n)!(r in t)||t[r]==null||(e[r]=pe(t[r],`request.${r}`));const s="type,nonce".split(/,/);for(const r of s)!(r in t)||t[r]==null||(e[r]=Me(t[r],`request.${r}`));return t.accessList&&(e.accessList=Br(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(r=>au(r)?ce(r):Object.assign({},r))),e}class wC{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(s=>typeof s!="string"?new lo(s,n):s),_e(this,{provider:n,hash:Yr(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Yr(e.prevRandao),extraData:e.extraData,baseFeePerGas:Yr(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(Y(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:s,gasLimit:r,gasUsed:i,hash:o,miner:a,prevRandao:l,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:w,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:yt(e),difficulty:yt(n),extraData:s,gasLimit:yt(r),gasUsed:yt(i),blobGasUsed:yt(this.blobGasUsed),excessBlobGas:yt(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:u,number:d,parentHash:f,timestamp:m,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:w,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const s=e.toLowerCase();for(const r of this.#e)if(typeof r=="string"){if(r!==s)continue;n=r;break}else{if(r.hash!==s)continue;n=r;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const s of n)if(s.hash===e)return s;B(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return bC(this)}}class ao{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const s=Object.freeze(e.topics.slice());_e(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:s,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:s,data:r,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:s,data:r,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Y(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Y(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Y(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return CC(this)}}class hm{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(r=>new ao(r,n)));let s=fm;e.effectiveGasPrice!=null?s=e.effectiveGasPrice:e.gasPrice!=null&&(s=e.gasPrice),_e(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:s,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:s,hash:r,index:i,blockHash:o,blockNumber:a,logsBloom:l,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:s,cumulativeGasUsed:yt(this.cumulativeGasUsed),from:n,gasPrice:yt(this.gasPrice),blobGasUsed:yt(this.blobGasUsed),blobGasPrice:yt(this.blobGasPrice),gasUsed:yt(this.gasUsed),hash:r,index:i,logs:u,logsBloom:l,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return gm(this)}reorderedEvent(e){return Y(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),pm(this,e)}}class lo{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:s,hash:r,type:i,to:o,from:a,nonce:l,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:yt(this.chainId),data:u,from:a,gasLimit:yt(this.gasLimit),gasPrice:yt(this.gasPrice),hash:r,maxFeePerGas:yt(this.maxFeePerGas),maxPriorityFeePerGas:yt(this.maxPriorityFeePerGas),maxFeePerBlobGas:yt(this.maxFeePerBlobGas),nonce:l,signature:d,to:o,index:s,type:i,value:yt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const s=await this.getTransaction();s&&(e=s.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:s}=await nn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:s-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const s=e??1,r=n??0;let i=this.#e,o=-1,a=i===-1;const l=async()=>{if(a)return null;const{blockNumber:h,nonce:p}=await nn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=h;return}if(a)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(o===-1&&(o=i-3,o<this.#e&&(o=this.#e));o<=h;){if(a)return null;const m=await this.provider.getBlock(o,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const v=await m.getTransaction(y);if(v.from===this.from&&v.nonce===this.nonce){if(a)return null;const b=await this.provider.getTransactionReceipt(v.hash);if(b==null||h-b.blockNumber+1<s)return;let A="replaced";v.data===this.data&&v.to===this.to&&v.value===this.value?A="repriced":v.data==="0x"&&v.from===v.to&&v.value===fm&&(A="cancelled"),Y(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:A==="replaced"||A==="cancelled",reason:A,replacement:v.replaceableTransaction(i),hash:v.hash,receipt:b})}}o++}},u=h=>{if(h==null||h.status!==0)return h;Y(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(s===0)return u(d);if(d){if(s===1||await d.confirmations()>=s)return u(d)}else if(await l(),s===0)return null;return await new Promise((h,p)=>{const w=[],m=()=>{w.forEach(v=>v())};if(w.push(()=>{a=!0}),r>0){const v=setTimeout(()=>{m(),p(dt("wait for transaction timeout","TIMEOUT"))},r);w.push(()=>{clearTimeout(v)})}const y=async v=>{if(await v.confirmations()>=s){m();try{h(u(v))}catch(b){p(b)}}};if(w.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),i>=0){const v=async()=>{try{await l()}catch(b){if($t(b,"TRANSACTION_REPLACED")){m(),p(b);return}}a||this.provider.once("block",v)};w.push(()=>{this.provider.off("block",v)}),this.provider.once("block",v)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Y(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),gm(this)}reorderedEvent(e){return Y(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Y(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),pm(this,e)}replaceableTransaction(e){B(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new lo(this,this.provider);return n.#e=e,n}}function bC(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function pm(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function gm(t){return{orphan:"drop-transaction",tx:t}}function CC(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class bu extends ao{interface;fragment;args;constructor(e,n,s){super(e,e.provider);const r=n.decodeEventLog(s,e.data,e.topics);_e(this,{args:r,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class mm extends ao{error;constructor(e,n){super(e,e.provider),_e(this,{error:n})}}class EC extends hm{#e;constructor(e,n,s){super(s,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new bu(e,this.#e,n)}catch(s){return new mm(e,s)}return e})}}class Cu extends lo{#e;constructor(e,n,s){super(s,n),this.#e=e}async wait(e,n){const s=await super.wait(e,n);return s==null?null:new EC(this.#e,this.provider,s)}}class vm extends Vp{log;constructor(e,n,s,r){super(e,n,s),_e(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class _C extends vm{constructor(e,n,s,r,i){super(e,n,s,new bu(i,e.interface,r));const o=e.interface.decodeEventLog(r,this.log.data,this.log.topics);_e(this,{args:o,fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Lf=BigInt(0);function Am(t){return t&&typeof t.call=="function"}function ym(t){return t&&typeof t.estimateGas=="function"}function Na(t){return t&&typeof t.resolveName=="function"}function wm(t){return t&&typeof t.sendTransaction=="function"}function bm(t){if(t!=null){if(Na(t))return t;if(t.provider)return t.provider}}class xC{#e;fragment;constructor(e,n,s){if(_e(this,{fragment:n}),n.inputs.length<s.length)throw new Error("too many arguments");const r=Pr(e.runner,"resolveName"),i=Na(r)?r:null;this.#e=(async function(){const o=await Promise.all(n.inputs.map((a,l)=>s[l]==null?null:a.walkAsync(s[l],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>ln(h,i))):ln(f,i):f)));return e.interface.encodeFilterTopics(n,o)})()}getTopicFilter(){return this.#e}}function Pr(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Ar(t){return t==null?null:t.provider||null}async function Cm(t,e){const n=mt.dereference(t,"overrides");B(typeof n=="object","invalid overrides parameter","overrides",t);const s=ta(n);return B(s.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",s.to),B(s.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",s.data),s.from&&(s.from=s.from),s}async function IC(t,e,n){const s=Pr(t,"resolveName"),r=Na(s)?s:null;return await Promise.all(e.map((i,o)=>i.walkAsync(n[o],(a,l)=>(l=mt.dereference(l,a),a==="address"?ln(l,r):l))))}function PC(t){const e=async function(o){const a=await Cm(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await ln(a.from,bm(t.runner)));const l=t.interface,u=pe(a.value||Lf,"overrides.value")===Lf,d=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!d&&!u&&B(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),B(l.fallback||d,"cannot send data to receive-only contract","overrides.data",a.data);const f=l.receive||l.fallback&&l.fallback.payable;return B(f||u,"cannot send value to non-payable fallback","overrides.value",a.value),B(l.fallback||d,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=Pr(t.runner,"call");Y(Am(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(u){throw ou(u)&&u.data?t.interface.makeError(u.data,l):u}},s=async function(o){const a=t.runner;Y(wm(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),u=Ar(t.runner);return new Cu(t.interface,u,l)},r=async function(o){const a=Pr(t.runner,"estimateGas");return Y(ym(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await s(o);return _e(i,{_contract:t,estimateGas:r,populateTransaction:e,send:s,staticCall:n}),i}function BC(t,e){const n=function(...u){const d=t.interface.getFunction(e,u);return Y(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),d},s=async function(...u){const d=n(...u);let f={};if(d.inputs.length+1===u.length&&(f=await Cm(u.pop()),f.from&&(f.from=await ln(f.from,bm(t.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await IC(t.runner,d.inputs,u);return Object.assign({},f,await nn({to:t.getAddress(),data:t.interface.encodeFunctionData(d,h)}))},r=async function(...u){const d=await a(...u);return d.length===1?d[0]:d},i=async function(...u){const d=t.runner;Y(wm(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await s(...u)),h=Ar(t.runner);return new Cu(t.interface,h,f)},o=async function(...u){const d=Pr(t.runner,"estimateGas");return Y(ym(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await s(...u))},a=async function(...u){const d=Pr(t.runner,"call");Y(Am(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await s(...u);let h="0x";try{h=await d.call(f)}catch(w){throw ou(w)&&w.data?t.interface.makeError(w.data,f):w}const p=n(...u);return t.interface.decodeFunctionResult(p,h)},l=async(...u)=>n(...u).constant?await r(...u):await i(...u);return _e(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:s,send:i,staticCall:r,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return Y(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),l}function kC(t,e){const n=function(...r){const i=t.interface.getEvent(e,r);return Y(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),i},s=function(...r){return new xC(t,n(...r),r)};return _e(s,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getEvent(e);return Y(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),s}const na=Symbol.for("_ethersInternal_contract"),Em=new WeakMap;function SC(t,e){Em.set(t[na],e)}function Cn(t){return Em.get(t[na])}function TC(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function Eu(t,e){let n,s=null;if(Array.isArray(e)){const i=function(o){if(ot(o,32))return o;const a=t.interface.getEvent(o);return B(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?n=[null]:typeof e=="string"?ot(e,32)?n=[e]:(s=t.interface.getEvent(e),B(s,"unknown fragment","event",e),n=[s.topicHash]):TC(e)?n=await e.getTopicFilter():"fragment"in e?(s=e.fragment,n=[s.topicHash]):B(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const r=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:s,tag:r,topics:n}}async function xi(t,e){const{subs:n}=Cn(t);return n.get((await Eu(t,e)).tag)||null}async function Of(t,e,n){const s=Ar(t.runner);Y(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:r,tag:i,topics:o}=await Eu(t,n),{addr:a,subs:l}=Cn(t);let u=l.get(i);if(!u){const f={address:a||t,topics:o},h=y=>{let v=r;if(v==null)try{v=t.interface.getEvent(y.topics[0])}catch{}if(v){const b=v,A=r?t.interface.decodeEventLog(r,y.data,y.topics):[];Nc(t,n,A,_=>new _C(t,_,n,b,y))}else Nc(t,n,[],b=>new vm(t,b,n,y))};let p=[];u={tag:i,listeners:[],start:()=>{p.length||p.push(s.on(f,h))},stop:async()=>{if(p.length==0)return;let y=p;p=[],await Promise.all(y),s.off(f,h)}},l.set(i,u)}return u}let Tc=Promise.resolve();async function NC(t,e,n,s){await Tc;const r=await xi(t,e);if(!r)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:a})=>{const l=Array.from(n);s&&l.push(s(a?null:o));try{o.call(t,...l)}catch{}return!a}),r.listeners.length===0&&(r.stop(),Cn(t).subs.delete(r.tag)),i>0}async function Nc(t,e,n,s){try{await Tc}catch{}const r=NC(t,e,n,s);return Tc=r,await r}const _o=["then"];class Li{target;interface;runner;filters;[na];fallback;constructor(e,n,s,r){B(typeof e=="string"||kg(e),"invalid value for Contract target","target",e),s==null&&(s=null);const i=fr.from(n);_e(this,{target:e,runner:s,interface:i}),Object.defineProperty(this,na,{value:{}});let o,a=null,l=null;if(r){const f=Ar(s);l=new Cu(this.interface,f,r)}let u=new Map;if(typeof e=="string")if(ot(e))a=e,o=Promise.resolve(e);else{const f=Pr(s,"resolveName");if(!Na(f))throw dt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(h=>{if(h==null)throw dt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Cn(this).addr=h,h})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Cn(this).addr=f,f});SC(this,{addrPromise:o,addr:a,deployTx:l,subs:u});const d=new Proxy({},{get:(f,h,p)=>{if(typeof h=="symbol"||_o.indexOf(h)>=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(w){if(!$t(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(f,h)=>_o.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return _e(this,{filters:d}),_e(this,{fallback:i.receive||i.fallback?PC(this):null}),new Proxy(this,{get:(f,h,p)=>{if(typeof h=="symbol"||h in f||_o.indexOf(h)>=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(w){if(!$t(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(f,h)=>typeof h=="symbol"||h in f||_o.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new Li(this.target,this.interface,e)}attach(e){return new Li(e,this.interface,this.runner)}async getAddress(){return await Cn(this).addrPromise}async getDeployedCode(){const e=Ar(this.runner);Y(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const s=Ar(this.runner);return Y(s!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((r,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return r(this);s.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Cn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),BC(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),kC(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,s){n==null&&(n=0),s==null&&(s="latest");const{addr:r,addrPromise:i}=Cn(this),o=r||await i,{fragment:a,topics:l}=await Eu(this,e),u={address:o,topics:l,fromBlock:n,toBlock:s},d=Ar(this.runner);return Y(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new bu(f,this.interface,h)}catch(p){return new mm(f,p)}return new ao(f,d)})}async on(e,n){const s=await Of(this,"on",e);return s.listeners.push({listener:n,once:!1}),s.start(),this}async once(e,n){const s=await Of(this,"once",e);return s.listeners.push({listener:n,once:!0}),s.start(),this}async emit(e,...n){return await Nc(this,e,n,null)}async listenerCount(e){if(e){const r=await xi(this,e);return r?r.listeners.length:0}const{subs:n}=Cn(this);let s=0;for(const{listeners:r}of n.values())s+=r.length;return s}async listeners(e){if(e){const r=await xi(this,e);return r?r.listeners.map(({listener:i})=>i):[]}const{subs:n}=Cn(this);let s=[];for(const{listeners:r}of n.values())s=s.concat(r.map(({listener:i})=>i));return s}async off(e,n){const s=await xi(this,e);if(!s)return this;if(n){const r=s.listeners.map(({listener:i})=>i).indexOf(n);r>=0&&s.listeners.splice(r,1)}return(n==null||s.listeners.length===0)&&(s.stop(),Cn(this).subs.delete(s.tag)),this}async removeAllListeners(e){if(e){const n=await xi(this,e);if(!n)return this;n.stop(),Cn(this).subs.delete(n.tag)}else{const{subs:n}=Cn(this);for(const{tag:s,stop:r}of n.values())r(),n.delete(s)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Li{constructor(r,i=null){super(r,e,i)}}return n}static from(e,n,s){return s==null&&(s=null),new this(e,n,s)}}function RC(){return Li}class Oi extends RC(){}function jl(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):B(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class DC{name;constructor(e){_e(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const _m=new RegExp("^(ipfs)://(.*)$","i"),Mf=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),_m,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Xr{provider;address;name;#e;#t;constructor(e,n,s){_e(this,{provider:e,address:n,name:s}),this.#e=null,this.#t=new Oi(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if($t(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const s=this.#t.interface;n.unshift(Sc(this.name));let r=null;await this.supportsWildcard()&&(r=s.getFunction(e),Y(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[zb(this.name,255),s.encodeFunctionData(r,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const i=await this.#t[e](...n);return r?s.decodeFunctionResult(r,i)[0]:i}catch(i){if(!$t(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await this.#n("addr(bytes32)");return i==null||i===ji?null:i}catch(i){if($t(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await this.#n("addr(bytes32,uint)",[i]);if(ot(o,20))return ze(o)}let n=null;for(const i of this.provider.plugins)if(i instanceof DC&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;const s=await this.#n("addr(bytes32,uint)",[e]);if(s==null||s==="0x")return null;const r=await n.decodeAddress(e,s);if(r!=null)return r;Y(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:s}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const r=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${r}://${Fy("0x"+n[2])}`}const s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(s&&s[1].length===64)return`bzz://${s[1]}`;Y(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let s=0;s<Mf.length;s++){const r=n.match(Mf[s]);if(r==null)continue;const i=r[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=jl(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(r[2]||"").split("/");if(l.length!==2)return e.push({type:`!${i}caip`,value:r[2]||""}),{url:null,linkage:e};const u=l[1],d=new Oi(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const m=await d.ownerOf(u);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(i==="erc1155"){const m=await d.balanceOf(a,u);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let f=await d[o](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",zs(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=jl(f)),e.push({type:"metadata-url",value:f});let h={};const p=await new Is(f).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const v=p.body;return v&&e.push({type:"!metadata",value:ce(v)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let w=h.image;if(typeof w!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(_m)==null)return e.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:w}),w=jl(w)}return e.push({type:"url",value:w}),{linkage:e,url:w}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),s=n.getPlugin("org.ethers.plugins.network.Ens");return Y(s,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),s.address}static async#s(e,n){const s=await Xr.getEnsAddress(e);try{const i=await new Oi(s,["function resolver(bytes32) view returns (address)"],e).resolver(Sc(n),{enableCcipRead:!0});return i===ji?null:i}catch(r){throw r}return null}static async fromName(e,n){let s=n;for(;;){if(s===""||s==="."||n!=="eth"&&s==="eth")return null;const r=await Xr.#s(e,s);if(r!=null){const i=new Xr(e,r,n);return s!==n&&!await i.supportsWildcard()?null:i}s=s.split(".").slice(1).join(".")}}}const Ff=BigInt(0);function Ge(t,e){return(function(n){return n==null?e:t(n)})}function qi(t,e){return(n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(s=>t(s))})}function co(t,e){return(n=>{const s={};for(const r in t){let i=r;if(e&&r in e&&!(i in n)){for(const o of e[r])if(o in n){i=o;break}}try{const o=t[r](n[i]);o!==void 0&&(s[r]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Y(!1,`invalid value for value.${r} (${a})`,"BAD_DATA",{value:n})}}return s})}function LC(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}B(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function ui(t){return B(ot(t,!0),"invalid data","value",t),t}function Ut(t){return B(ot(t,32),"invalid hash","value",t),t}const OC=co({address:ze,blockHash:Ut,blockNumber:Me,data:ui,index:Me,removed:Ge(LC,!1),topics:qi(Ut),transactionHash:Ut,transactionIndex:Me},{index:["logIndex"]});function MC(t){return OC(t)}const FC=co({hash:Ge(Ut),parentHash:Ut,parentBeaconBlockRoot:Ge(Ut,null),number:Me,timestamp:Me,nonce:Ge(ui),difficulty:pe,gasLimit:pe,gasUsed:pe,stateRoot:Ge(Ut,null),receiptsRoot:Ge(Ut,null),blobGasUsed:Ge(pe,null),excessBlobGas:Ge(pe,null),miner:Ge(ze),prevRandao:Ge(Ut,null),extraData:ui,baseFeePerGas:Ge(pe)},{prevRandao:["mixHash"]});function UC(t){const e=FC(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:xm(n)),e}const $C=co({transactionIndex:Me,blockNumber:Me,transactionHash:Ut,address:ze,topics:qi(Ut),data:ui,index:Me,blockHash:Ut},{index:["logIndex"]});function HC(t){return $C(t)}const GC=co({to:Ge(ze,null),from:Ge(ze,null),contractAddress:Ge(ze,null),index:Me,root:Ge(ce),gasUsed:pe,blobGasUsed:Ge(pe,null),logsBloom:Ge(ui),blockHash:Ut,hash:Ut,logs:qi(HC),blockNumber:Me,cumulativeGasUsed:pe,effectiveGasPrice:Ge(pe),blobGasPrice:Ge(pe,null),status:Ge(Me),type:Ge(Me,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function QC(t){return GC(t)}function xm(t){t.to&&pe(t.to)===Ff&&(t.to="0x0000000000000000000000000000000000000000");const e=co({hash:Ut,index:Ge(Me,void 0),type:n=>n==="0x"||n==null?0:Me(n),accessList:Ge(Br,null),blobVersionedHashes:Ge(qi(Ut,!0),null),authorizationList:Ge(qi(n=>{let s;if(n.signature)s=n.signature;else{let r=n.yParity;r==="0x1b"?r=0:r==="0x1c"&&(r=1),s=Object.assign({},n,{yParity:r})}return{address:ze(n.address),chainId:pe(n.chainId),nonce:pe(n.nonce),signature:gt.from(s)}},!1),null),blockHash:Ge(Ut,null),blockNumber:Ge(Me,null),transactionIndex:Ge(Me,null),from:ze,gasPrice:Ge(pe),maxPriorityFeePerGas:Ge(pe),maxFeePerGas:Ge(pe),maxFeePerBlobGas:Ge(pe,null),gasLimit:pe,to:Ge(ze,null),value:pe,nonce:Me,data:ui,creates:Ge(ze,null),chainId:Ge(pe,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=T1(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=gt.from(t.signature):e.signature=gt.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&pe(e.blockHash)===Ff&&(e.blockHash=null),e}const VC="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class uo{name;constructor(e){_e(this,{name:e})}clone(){return new uo(this.name)}}class Ra extends uo{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const s={effectiveBlock:e};function r(i,o){let a=(n||{})[i];a==null&&(a=o),B(typeof a=="number",`invalud value for ${i}`,"costs",n),s[i]=a}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),_e(this,s)}clone(){return new Ra(this.effectiveBlock,this)}}class Da extends uo{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),_e(this,{address:e||VC,targetNetwork:n??1})}clone(){return new Da(this.address,this.targetNetwork)}}class KC extends uo{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const Jl=new Map;class xn{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=pe(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=pe(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===pe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===pe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===pe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new xn(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new Ra;let s=n.txBase;if(e.to==null&&(s+=n.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)e.data.substring(r,r+2)==="00"?s+=n.txDataZero:s+=n.txDataNonzero;if(e.accessList){const r=Br(e.accessList);for(const i in r)s+=n.txAccessListAddress+n.txAccessListStorageKey*r[i].storageKeys.length}return s}static from(e){if(WC(),e==null)return xn.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=Jl.get(e);if(n)return n();if(typeof e=="bigint")return new xn("unknown",e);B(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){B(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new xn(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Da(e.ensAddress,e.ensNetwork)),n}B(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const s=Jl.get(e);s&&B(!1,`conflicting network for ${JSON.stringify(s.name)}`,"nameOrChainId",e),Jl.set(e,n)}}function Uf(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const s=n.split(".");if(s.length===1&&s.push(""),s.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;s[1].length<e;)s[1]+="0";if(s[1].length>9){let r=BigInt(s[1].substring(0,9));s[1].substring(9).match(/^0+$/)||r++,s[1]=r.toString()}return BigInt(s[0]+s[1])}function $f(t){return new KC(t,async(e,n,s)=>{s.setHeader("User-Agent","ethers");let r;try{const[i,o]=await Promise.all([s.send(),e()]);r=i;const a=r.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Uf(a.maxFee,9),maxPriorityFeePerGas:Uf(a.maxPriorityFee,9)}}catch(i){Y(!1,`error encountered with polygon gas station (${JSON.stringify(s.url)})`,"SERVER_ERROR",{request:s,response:r,error:i})}})}let Hf=!1;function WC(){if(Hf)return;Hf=!0;function t(e,n,s){const r=function(){const i=new xn(e,n);return s.ensNetwork!=null&&i.attachPlugin(new Da(null,s.ensNetwork)),i.attachPlugin(new Ra),(s.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};xn.register(e,r),xn.register(n,r),s.altNames&&s.altNames.forEach(i=>{xn.register(i,r)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[$f("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[$f("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Rc(t){return JSON.parse(JSON.stringify(t))}class jC{#e;#t;#n;#s;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#s=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#r(){try{const e=await this.#e.getBlockNumber();if(this.#s===-2){this.#s=e;return}if(e!==this.#s){for(let n=this.#s+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#s=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#r.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#r.bind(this),this.#n),this.#r())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}}class _u{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class JC extends _u{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const s=await n.getBlock(this.#e);s!=null&&(this.#t===-2?this.#t=s.number:s.number>this.#t&&(n.emit(this.#e,s.number),this.#t=s.number))}}class zC extends _u{#e;constructor(e,n){super(e),this.#e=Rc(n)}async _poll(e,n){throw new Error("@TODO")}}class YC extends _u{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const s=await n.getTransactionReceipt(this.#e);s&&n.emit(this.#e,s)}}class xu{#e;#t;#n;#s;#r;constructor(e,n){this.#e=e,this.#t=Rc(n),this.#n=this.#o.bind(this),this.#s=!1,this.#r=-2}async#o(e){if(this.#r===-2)return;const n=Rc(this.#t);n.fromBlock=this.#r+1,n.toBlock=e;const s=await this.#e.getLogs(n);if(s.length===0){this.#r<e-60&&(this.#r=e-60);return}for(const r of s)this.#e.emit(this.#t,r),this.#r=r.blockNumber}start(){this.#s||(this.#s=!0,this.#r===-2&&this.#e.getBlockNumber().then(e=>{this.#r=e}),this.#e.on("block",this.#n))}stop(){this.#s&&(this.#s=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}const XC=BigInt(2),ZC=10;function xo(t){return t&&typeof t.then=="function"}function Ro(t,e){return t+":"+JSON.stringify(e,(n,s)=>{if(s==null)return"null";if(typeof s=="bigint")return`bigint:${s.toString()}`;if(typeof s=="string")return s.toLowerCase();if(typeof s=="object"&&!Array.isArray(s)){const r=Object.keys(s);return r.sort(),r.reduce((i,o)=>(i[o]=s[o],i),{})}return s})}class Im{name;constructor(e){_e(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function qC(t){return JSON.parse(JSON.stringify(t))}function Dc(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function zl(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(ot(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Ro("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Ro("orphan",n),filter:qC(n)}}if(t.address||t.topics){const n=t,s={topics:(n.topics||[]).map(r=>r==null?null:Array.isArray(r)?Dc(r.map(i=>i.toLowerCase())):r.toLowerCase())};if(n.address){const r=[],i=[],o=a=>{ot(a)?r.push(a):i.push((async()=>{r.push(await ln(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),i.length&&await Promise.all(i),s.address=Dc(r.map(a=>a.toLowerCase()))}return{filter:s,tag:Ro("event",s),type:"event"}}B(!1,"unknown ProviderEvent","event",t)}function Yl(){return new Date().getTime()}const eE={cacheTimeout:250,pollingInterval:4e3};class tE{#e;#t;#n;#s;#r;#o;#i;#a;#d;#c;#p;#g;constructor(e,n){if(this.#g=Object.assign({},eE,n||{}),e==="any")this.#o=!0,this.#r=null;else if(e){const s=xn.from(e);this.#o=!1,this.#r=Promise.resolve(s),setTimeout(()=>{this.emit("network",s,null)},0)}else this.#o=!1,this.#r=null;this.#a=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#s=!1,this.#d=1,this.#c=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#l(e){const n=this.#g.cacheTimeout;if(n<0)return await this._perform(e);const s=Ro(e.method,e);let r=this.#i.get(s);return r||(r=this._perform(e),this.#i.set(s,r),setTimeout(()=>{this.#i.get(s)===r&&this.#i.delete(s)},n)),await r}async ccipReadFetch(e,n,s){if(this.disableCcipRead||s.length===0||e.to==null)return null;const r=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let a=0;a<s.length;a++){const l=s[a],u=l.replace("{sender}",r).replace("{data}",i),d=new Is(u);l.indexOf("{data}")===-1&&(d.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:a,urls:s});let f="unknown error",h;try{h=await d.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:p}});continue}try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:p})}catch{}Y(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:f}}),o.push(f)}Y(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:s,errorMessages:o}})}_wrapBlock(e,n){return new wC(UC(e),this)}_wrapLog(e,n){return new ao(MC(e),this)}_wrapTransactionReceipt(e,n){return new hm(QC(e),this)}_wrapTransactionResponse(e,n){return new lo(xm(e),this)}_detectNetwork(){Y(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Y(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Me(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ln(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(ot(e))return ot(e,32)?e:Gn(e);if(typeof e=="bigint"&&(e=Me(e,"blockTag")),typeof e=="number")return e>=0?Gn(e):this.#a>=0?Gn(this.#a+e):this.getBlockNumber().then(n=>Gn(n+e));B(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?Dc(l.map(u=>u.toLowerCase())):l.toLowerCase()),s="blockHash"in e?e.blockHash:void 0,r=(l,u,d)=>{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(s&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),n.length&&(h.topics=n),u&&(h.fromBlock=u),d&&(h.toBlock=d),s&&(h.blockHash=s),h};let i=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)i.push(this._getAddress(l));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(l=>r(l[0],l[1],l[2])):r(i,o,a)}_getTransactionRequest(e){const n=ta(e),s=[];if(["to","from"].forEach(r=>{if(n[r]==null)return;const i=ln(n[r],this);xo(i)?s.push((async function(){n[r]=await i})()):n[r]=i}),n.blockTag!=null){const r=this._getBlockTag(n.blockTag);xo(r)?s.push((async function(){n.blockTag=await r})()):n.blockTag=r}return s.length?(async function(){return await Promise.all(s),n})():n}async getNetwork(){if(this.#r==null){const r=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw this.#r===r&&(this.#r=null),i}})();return this.#r=r,(await r).clone()}const e=this.#r,[n,s]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==s.chainId&&(this.#o?(this.emit("network",s,n),this.#r===e&&(this.#r=Promise.resolve(s))):Y(!1,`network changed: ${n.chainId} => ${s.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:r,gasPrice:i,priorityFee:o}=await nn({_block:this.#v("latest",!1),gasPrice:(async()=>{try{const d=await this.#l({method:"getGasPrice"});return pe(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await this.#l({method:"getPriorityFee"});return pe(d,"%response")}catch{}return null})()});let a=null,l=null;const u=this._wrapBlock(r,e);return u&&u.baseFeePerGas&&(l=o??BigInt("1000000000"),a=u.baseFeePerGas*XC+l),new Df(i,a,l)},s=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(s){const r=new Is(s.url),i=await s.processFunc(n,this,r);return new Df(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return xo(n)&&(n=await n),pe(await this.#l({method:"estimateGas",transaction:n}),"%response")}async#u(e,n,s){Y(s<ZC,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const r=ta(e);try{return ce(await this._perform({method:"call",transaction:r,blockTag:n}))}catch(i){if(!this.disableCcipRead&&ou(i)&&i.data&&s>=0&&n==="latest"&&r.to!=null&&pt(i.data,0,4)==="0x556f1830"){const o=i.data,a=await ln(r.to,this);let l;try{l=oE(pt(i.data,4))}catch(f){Y(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:o}})}Y(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const u=await this.ccipReadFetch(r,l.calldata,l.urls);Y(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:l.errorArgs}});const d={to:a,data:vt([l.selector,iE([u,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await this.#u(d,n,s+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw i}}async#f(e){const{value:n}=await nn({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:s}=await nn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#f(this.#u(n,s,e.enableCcipRead?0:-1))}async#h(e,n,s){let r=this._getAddress(n),i=this._getBlockTag(s);return(typeof r!="string"||typeof i!="string")&&([r,i]=await Promise.all([r,i])),await this.#f(this.#l(Object.assign(e,{address:r,blockTag:i})))}async getBalance(e,n){return pe(await this.#h({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Me(await this.#h({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return ce(await this.#h({method:"getCode"},e,n))}async getStorage(e,n,s){const r=pe(n,"position");return ce(await this.#h({method:"getStorage",position:r},e,s))}async broadcastTransaction(e){const{blockNumber:n,hash:s,network:r}=await nn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Hn.from(e);if(i.hash!==s)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(n)}async#v(e,n){if(ot(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:n});let s=this._getBlockTag(e);return typeof s!="string"&&(s=await s),await this.#l({method:"getBlock",blockTag:s,includeTransactions:n})}async getBlock(e,n){const{network:s,params:r}=await nn({network:this.getNetwork(),params:this.#v(e,!!n)});return r==null?null:this._wrapBlock(r,s)}async getTransaction(e){const{network:n,params:s}=await nn({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return s==null?null:this._wrapTransactionResponse(s,n)}async getTransactionReceipt(e){const{network:n,params:s}=await nn({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(s==null)return null;if(s.gasPrice==null&&s.effectiveGasPrice==null){const r=await this.#l({method:"getTransaction",hash:e});if(r==null)throw new Error("report this; could not find tx or effectiveGasPrice");s.effectiveGasPrice=r.gasPrice}return this._wrapTransactionReceipt(s,n)}async getTransactionResult(e){const{result:n}=await nn({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return n==null?null:ce(n)}async getLogs(e){let n=this._getFilter(e);xo(n)&&(n=await n);const{network:s,params:r}=await nn({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return r.map(i=>this._wrapLog(i,s))}_getProvider(e){Y(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Xr.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=ze(e);const n=Sc(e.substring(2).toLowerCase()+".addr.reverse");try{const s=await Xr.getEnsAddress(this),i=await new Oi(s,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===ji)return null;const a=await new Oi(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(s){if($t(s,"BAD_DATA")&&s.value==="0x"||$t(s,"CALL_EXCEPTION"))return null;throw s}return null}async waitForTransaction(e,n,s){const r=n??1;return r===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const l=(async u=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&u-d.blockNumber+1>=r){i(d),a&&(clearTimeout(a),a=null);return}}catch(d){console.log("EEE",d)}this.once("block",l)});s!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(dt("timeout","TIMEOUT",{reason:"timeout"})))},s)),l(await this.getBlockNumber())})}async waitForBlock(e){Y(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#c.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#c.delete(e))}_setTimeout(e,n){n==null&&(n=0);const s=this.#d++,r=()=>{this.#c.delete(s),e()};if(this.paused)this.#c.set(s,{timer:null,func:r,time:n});else{const i=setTimeout(r,n);this.#c.set(s,{timer:i,func:r,time:Yl()})}return s}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Im(e.type);case"block":{const n=new jC(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new JC(this,e.type);case"event":return new xu(this,e.filter);case"transaction":return new YC(this,e.hash);case"orphan":return new zC(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const s of this.#e.values())if(s.subscriber===e){s.started&&s.subscriber.stop(),s.subscriber=n,s.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#m(e,n){let s=await zl(e,this);return s.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(s=await zl({orphan:"drop-log",log:n[0]},this)),this.#e.get(s.tag)||null}async#A(e){const n=await zl(e,this),s=n.tag;let r=this.#e.get(s);return r||(r={subscriber:this._getSubscriber(n),tag:s,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(s,r)),r}async on(e,n){const s=await this.#A(e);return s.listeners.push({listener:n,once:!1}),s.started||(s.subscriber.start(),s.started=!0,this.#n!=null&&s.subscriber.pause(this.#n)),this}async once(e,n){const s=await this.#A(e);return s.listeners.push({listener:n,once:!0}),s.started||(s.subscriber.start(),s.started=!0,this.#n!=null&&s.subscriber.pause(this.#n)),this}async emit(e,...n){const s=await this.#m(e,n);if(!s||s.listeners.length===0)return!1;const r=s.listeners.length;return s.listeners=s.listeners.filter(({listener:i,once:o})=>{const a=new Vp(this,o?null:i,e);try{i.call(this,...n,a)}catch{}return!o}),s.listeners.length===0&&(s.started&&s.subscriber.stop(),this.#e.delete(s.tag)),r>0}async listenerCount(e){if(e){const s=await this.#m(e);return s?s.listeners.length:0}let n=0;for(const{listeners:s}of this.#e.values())n+=s.length;return n}async listeners(e){if(e){const s=await this.#m(e);return s?s.listeners.map(({listener:r})=>r):[]}let n=[];for(const{listeners:s}of this.#e.values())n=n.concat(s.map(({listener:r})=>r));return n}async off(e,n){const s=await this.#m(e);if(!s)return this;if(n){const r=s.listeners.map(({listener:i})=>i).indexOf(n);r>=0&&s.listeners.splice(r,1)}return(!n||s.listeners.length===0)&&(s.started&&s.subscriber.stop(),this.#e.delete(s.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:s,subscriber:r}=await this.#A(e);s&&r.stop(),this.#e.delete(n)}else for(const[n,{started:s,subscriber:r}]of this.#e)s&&r.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#s}destroy(){this.removeAllListeners();for(const e of this.#c.keys())this._clearTimeout(e);this.#s=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;Y(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#c.values())n.timer&&clearTimeout(n.timer),n.time=Yl()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#c.values()){let n=e.time;n<0&&(n=0),e.time=Yl(),setTimeout(e.func,n)}}}}function nE(t,e){try{const n=Lc(t,e);if(n)return Jo(n)}catch{}return null}function Lc(t,e){if(t==="0x")return null;try{const n=Me(pt(t,e,e+32)),s=Me(pt(t,n,n+32));return pt(t,n+32,n+32+s)}catch{}return null}function Gf(t){const e=St(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function sE(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const rE=new Uint8Array([]);function iE(t){const e=[];let n=0;for(let s=0;s<t.length;s++)e.push(rE),n+=32;for(let s=0;s<t.length;s++){const r=Fe(t[s]);e[s]=Gf(n),e.push(Gf(r.length)),e.push(sE(r)),n+=32+Math.ceil(r.length/32)*32}return vt(e)}const Qf="0x0000000000000000000000000000000000000000000000000000000000000000";function oE(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Y(jr(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=pt(t,0,32);Y(pt(n,0,12)===pt(Qf,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=pt(n,12);try{const s=[],r=Me(pt(t,32,64)),i=Me(pt(t,r,r+32)),o=pt(t,r+32);for(let a=0;a<i;a++){const l=nE(o,a*32);if(l==null)throw new Error("abort");s.push(l)}e.urls=s}catch{Y(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const s=Lc(t,64);if(s==null)throw new Error("abort");e.calldata=s}catch{Y(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Y(pt(t,100,128)===pt(Qf,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=pt(t,96,100);try{const s=Lc(t,128);if(s==null)throw new Error("abort");e.extraData=s}catch{Y(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(s=>e[s]),e}function or(t,e){if(t.provider)return t.provider;Y(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Vf(t,e){let n=ta(e);if(n.to!=null&&(n.to=ln(n.to,t)),n.from!=null){const s=n.from;n.from=Promise.all([t.getAddress(),ln(s,t)]).then(([r,i])=>(B(r.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),r))}else n.from=t.getAddress();return await nn(n)}class aE{provider;constructor(e){_e(this,{provider:e||null})}async getNonce(e){return or(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Vf(this,e)}async populateTransaction(e){const n=or(this,"populateTransaction"),s=await Vf(this,e);s.nonce==null&&(s.nonce=await this.getNonce("pending")),s.gasLimit==null&&(s.gasLimit=await this.estimateGas(s));const r=await this.provider.getNetwork();if(s.chainId!=null){const o=pe(s.chainId);B(o===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else s.chainId=r.chainId;const i=s.maxFeePerGas!=null||s.maxPriorityFeePerGas!=null;if(s.gasPrice!=null&&(s.type===2||i)?B(!1,"eip-1559 transaction do not support gasPrice","tx",e):(s.type===0||s.type===1)&&i&&B(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(s.type===2||s.type==null)&&s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)s.type=2;else if(s.type===0||s.type===1){const o=await n.getFeeData();Y(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),s.gasPrice==null&&(s.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(s.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(s.authorizationList&&s.authorizationList.length?s.type=4:s.type=2,s.gasPrice!=null){const a=s.gasPrice;delete s.gasPrice,s.maxFeePerGas=a,s.maxPriorityFeePerGas=a}else s.maxFeePerGas==null&&(s.maxFeePerGas=o.maxFeePerGas),s.maxPriorityFeePerGas==null&&(s.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Y(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),s.gasPrice==null&&(s.gasPrice=o.gasPrice),s.type=0):Y(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(s.type===2||s.type===3||s.type===4)&&(s.maxFeePerGas==null&&(s.maxFeePerGas=o.maxFeePerGas),s.maxPriorityFeePerGas==null&&(s.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await nn(s)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await or(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return or(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return or(this,"call").call(await this.populateCall(e))}async resolveName(e){return await or(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=or(this,"sendTransaction"),s=await this.populateTransaction(e);delete s.from;const r=Hn.from(s);return await n.broadcastTransaction(await this.signTransaction(r))}authorize(e){Y(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function lE(t){return JSON.parse(JSON.stringify(t))}class Pm{#e;#t;#n;#s;#r;#o;constructor(e){this.#e=e,this.#t=null,this.#n=this.#i.bind(this),this.#s=!1,this.#r=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#i(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(i){if(!$t(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const s=await this.#e.getNetwork();if(this.#r||(this.#r=s),this.#r.chainId!==s.chainId)throw new Error("chaid changed");if(this.#o)return;const r=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,r)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#s||(this.#s=!0,this.#i(-2))}stop(){this.#s&&(this.#s=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class cE extends Pm{#e;constructor(e,n){super(e),this.#e=lE(n)}_recover(e){return new xu(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const s of n)e.emit(this.#e,e._wrapLog(s,e._network))}}class uE extends Pm{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const s of n)e.emit("pending",s)}}const dE="bigint,boolean,function,number,string,symbol".split(/,/g);function Do(t){if(t==null||dE.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Do);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function fE(t){return new Promise(e=>{setTimeout(e,t)})}function Lr(t){return t&&t.toLowerCase()}function Kf(t){return t&&typeof t.pollingInterval=="number"}const Bm={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Xl extends aE{address;constructor(e,n){super(e),n=ze(n),_e(this,{address:n})}connect(e){Y(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Do(e),s=[];if(n.from){const i=n.from;s.push((async()=>{const o=await ln(i,this.provider);B(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const i=n.to;s.push((async()=>{n.to=await ln(i,this.provider)})())}s.length&&await Promise.all(s);const r=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(e);return await new Promise((r,i)=>{const o=[1e3,100];let a=0;const l=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){r(u.replaceableTransaction(n));return}}catch(u){if($t(u,"CANCELLED")||$t(u,"BAD_DATA")||$t(u,"NETWORK_ERROR")||$t(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,i(u);return}if($t(u,"INVALID_ARGUMENT")&&(a++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,a>10)){i(u);return}this.provider.emit("error",dt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},o.pop()||4e3)};l()})}async signTransaction(e){const n=Do(e);if(n.from){const r=await ln(n.from,this.provider);B(r!=null&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=r}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(e){const n=typeof e=="string"?bs(e):e;return await this.provider.send("personal_sign",[ce(n),this.address.toLowerCase()])}async signTypedData(e,n,s){const r=Do(s),i=await bn.resolveNames(e,n,r,async o=>{const a=await ln(o);return B(a!=null,"TypedData does not support null address","value",o),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(bn.getPayload(i.domain,n,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?bs(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ce(n)])}}class hE extends tE{#e;#t;#n;#s;#r;#o;#i;#a(){if(this.#s)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#s=setTimeout(()=>{this.#s=null;const n=this.#n;for(this.#n=[];n.length;){const s=[n.shift()];for(;n.length&&s.length!==this.#e.batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(i=>i.payload)).length>this.#e.batchMaxSize){n.unshift(s.pop());break}(async()=>{const r=s.length===1?s[0].payload:s.map(i=>i.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{const i=await this._send(r);this.emit("debug",{action:"receiveRpcResult",result:i});for(const{resolve:o,reject:a,payload:l}of s){if(this.destroyed){a(dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=i.filter(d=>d.id===l.id)[0];if(u==null){const d=dt("missing response for request","BAD_DATA",{value:i,info:{payload:l}});this.emit("error",d),a(d);continue}if("error"in u){a(this.getRpcError(l,u));continue}o(u.result)}}catch(i){this.emit("debug",{action:"receiveRpcError",error:i});for(const{reject:o}of s)o(i)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},Bm,n||{}),this.#n=[],this.#s=null,this.#o=null,this.#i=null;{let r=null;const i=new Promise(o=>{r=o});this.#r={promise:i,resolve:r}}const s=this._getOption("staticNetwork");typeof s=="boolean"?(B(!s||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&e!=null&&(this.#o=xn.from(e))):s&&(B(e==null||s.matches(e),"staticNetwork MUST match network object","options",n),this.#o=s)}_getOption(e){return this.#e[e]}get _network(){return Y(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let s=e.transaction;if(s&&s.type!=null&&pe(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const r=await this.getFeeData();r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#i?await this.#i:this.ready?(this.#i=(async()=>{try{const n=xn.from(pe(await this.send("eth_chainId",[])));return this.#i=null,n}catch(n){throw this.#i=null,n}})(),await this.#i):(this.#i=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],this.#i=null}catch(r){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:r}),r}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return xn.from(pe(s.result));throw this.getRpcError(n,s)})(),await this.#i)}_start(){this.#r==null||this.#r.resolve==null||(this.#r.resolve(),this.#r=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",dt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await fE(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#r!=null)return await this.#r.promise}_getSubscriber(e){return e.type==="pending"?new uE(this):e.type==="event"?this._getOption("polling")?new xu(this,e.filter):new cE(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Im("orphan"):super._getSubscriber(e)}get ready(){return this.#r==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(e[s]==null)return;let r=s;s==="gasLimit"&&(r="gas"),n[r]=Gn(pe(e[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{e[s]!=null&&(n[s]=ce(e[s]))}),e.accessList&&(n.accessList=Br(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(s=>s.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(s=>{const r=Rg(s);return{address:r.address,nonce:Gn(r.nonce),chainId:Gn(r.chainId),yParity:Gn(r.signature.yParity),r:Gn(r.signature.r),s:Gn(r.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Lr(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Lr(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Lr(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Lr(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Lr):e.filter.address=Lr(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:s}=e,{error:r}=n;if(s==="eth_estimateGas"&&r.message){const a=r.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return dt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(a.match(/nonce/i)&&a.match(/too low/i))return dt("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if(s==="eth_call"||s==="eth_estimateGas"){const a=Oc(r),l=ci.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return l.info={error:r,payload:e},l}const i=JSON.stringify(gE(r));if(typeof r.message=="string"&&r.message.match(/user denied|ethers-user-denied/i))return dt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:e,error:r}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const a=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return dt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return dt("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return dt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:r}});if(i.match(/only replay-protected/i))return dt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:a,info:{error:r}}})}let o=!!i.match(/the method .* does not exist/i);return o||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(o=!0),o?dt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):dt("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const s=this.#t++,r=new Promise((i,o)=>{this.#n.push({resolve:i,reject:o,payload:{method:e,params:n,id:s,jsonrpc:"2.0"}})});return this.#a(),r}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const r=await n;if(e>=r.length)throw new Error("no such account");return new Xl(this,r[e])}const{accounts:s}=await nn({network:this.getNetwork(),accounts:n});e=ze(e);for(const r of s)if(ze(r)===e)return new Xl(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Xl(this,n))}destroy(){this.#s&&(clearTimeout(this.#s),this.#s=null);for(const{payload:e,reject:n}of this.#n)n(dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class pE extends hE{#e;constructor(e,n){super(e,n);let s=this._getOption("pollingInterval");s==null&&(s=Bm.pollingInterval),this.#e=s}_getSubscriber(e){const n=super._getSubscriber(e);return Kf(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{Kf(n)&&(n.pollingInterval=this.#e)})}}function Oc(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&ot(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Oc(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Oc(JSON.parse(t))}catch{}return null}function Mc(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)Mc(t[n],e);if(typeof t=="string")try{return Mc(JSON.parse(t),e)}catch{}}}function gE(t){const e=[];return Mc(t,e),e}class hr extends pE{#e;#t;constructor(e,n,s){const r=Object.assign({},s??{},{batchMaxCount:1});B(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,r),this.#t=null,s&&s.providerInfo&&(this.#t=s.providerInfo),this.#e=async(i,o)=>{const a={method:i,params:o};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const l=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const u=new Error(l.message);throw u.code=l.code,u.data=l.data,u.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){B(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(s=>s.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new hr(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const s=e.anyProvider;if(s&&n.ethereum)return new hr(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const r=e.timeout?e.timeout:300;return r===0?null:await new Promise((i,o)=>{let a=[];const l=f=>{a.push(f.detail),s&&u()},u=()=>{if(clearTimeout(d),a.length)if(e&&e.filter){const f=e.filter(a.map(h=>Object.assign({},h.info)));if(f==null)i(null);else if(f instanceof hr)i(f);else{let h=null;if(f.uuid&&(h=a.filter(w=>f.uuid===w.info.uuid)[0]),h){const{provider:p,info:w}=h;i(new hr(p,void 0,{providerInfo:w}))}else o(dt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:h}=a[0];i(new hr(f,void 0,{providerInfo:h}))}else i(null);n.removeEventListener("eip6963:announceProvider",l)},d=setTimeout(()=>{u()},r);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const Iu=()=>typeof window<"u"&&window.ethereum?new hr(window.ethereum):null,pi=()=>typeof window<"u"&&typeof window.ethereum<"u",mE=async()=>{try{if(!pi())return{success:!1,error:"MetaMask   . MetaMask .",needInstall:!0};const t=Iu();if(!t)return{success:!1,error:" Provider   ."};const e=await window.ethereum.request({method:"eth_requestAccounts"});if(e&&e.length>0){const n=e[0],s=await t.getBalance(n),r=Zp(s);return{success:!0,address:n,balance:r,provider:t}}return{success:!1,error:"  ."}}catch(t){return console.error("  :",t),t.code===4001?{success:!1,error:"  ."}:{success:!1,error:t.message||"    ."}}},vE=async()=>{try{if(!pi()||!Iu())return null;const e=await window.ethereum.request({method:"eth_accounts"});return e&&e.length>0?e[0]:null}catch(t){return console.error("   :",t),null}},km=async t=>{try{const e=Iu();if(!e)return"0";const n=await e.getBalance(t);return Zp(n)}catch(e){return console.error("   :",e),"0"}},AE=async()=>{try{const t=await vE();if(!t)return{connected:!1,address:null};const e=await km(t);return{connected:!0,address:t,balance:e}}catch(t){return console.error("    :",t),{connected:!1,address:null}}},yE=t=>pi()?(window.ethereum.on("accountsChanged",t),()=>{window.ethereum.removeListener&&window.ethereum.removeListener("accountsChanged",t)}):null,wE=t=>pi()?(window.ethereum.on("chainChanged",t),()=>{window.ethereum.removeListener&&window.ethereum.removeListener("chainChanged",t)}):null,Lo=t=>t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e4?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toLocaleString(),de=to({isLoggedIn:!1,loginType:null,walletAddress:"",userBalance:"0 ETH",isWalletConnected:!1,walletProvider:null,isLoading:!1,currentUser:null,coins:0,totalCoin:0,catFragments:50,level:1,nftCount:0,miningLevel:1,huntingLevel:1,explorationLevel:1,productionLevel:1,miningCats:[null,null,null,null],huntingCats:[null,null,null,null],explorationCats:[null,null,null,null],productionCats:[null,null,null,null],inventory:[]}),Et=()=>{const t=()=>{const A=qe();A?(de.currentUser=A,de.isLoggedIn=!0,e(A.gameData||{})):(de.currentUser=null,de.isLoggedIn=!1)},e=A=>{de.coins=A.coins||0,de.totalCoin=A.totalCoin||0,de.catFragments=A.catFragments||50,de.level=A.level||1,de.nftCount=A.nftCount||0,de.miningLevel=A.miningLevel||1,de.huntingLevel=A.huntingLevel||1,de.explorationLevel=A.explorationLevel||1,de.productionLevel=A.productionLevel||1;const _=L=>{const H=(L||[]).slice(0,4);return H.length===4?H:[...H,...Array(4-H.length).fill(null)]};de.miningCats=_(A.miningCats),de.huntingCats=_(A.huntingCats),de.explorationCats=_(A.explorationCats),de.productionCats=_(A.productionCats),de.inventory=A.inventory||[]},n=async A=>{if(!de.currentUser)return console.warn("  ."),!1;try{return await Ki(de.currentUser.id,A)?(e({...de.currentUser.gameData,...A}),de.currentUser&&(de.currentUser.gameData={...de.currentUser.gameData,...A},sessionStorage.setItem("currentUser",JSON.stringify(de.currentUser))),window.dispatchEvent(new CustomEvent("userDataUpdated")),!0):!1}catch(_){return console.error("   :",_),!1}},s=async A=>await n({coins:A}),r=async A=>await n({totalCoin:A}),i=async A=>await n({catFragments:A}),o=async A=>await n({level:A}),a=async A=>await n(A),l=async()=>{try{de.isLoading=!0;const A=await mE();return A.success?(de.isWalletConnected=!0,de.walletAddress=A.address,de.userBalance=`${parseFloat(A.balance).toFixed(4)} ETH`,de.walletProvider=A.provider,de.loginType="wallet",await u(A.address,A.balance),{success:!0,address:A.address,balance:A.balance}):A}catch(A){return console.error("  :",A),{success:!1,error:A.message||"    ."}}finally{de.isLoading=!1}},u=async(A,_)=>{let L=iu(A);L||(L=Mp(A)),sessionStorage.setItem("currentUser",JSON.stringify(L)),de.currentUser=L,de.isLoggedIn=!0,de.loginType="wallet",e(L.gameData||{})},d=()=>{de.isWalletConnected=!1,de.walletAddress="",de.userBalance="0 ETH",de.walletProvider=null,de.loginType=null;const A=qe();A&&A.loginType==="wallet"&&sessionStorage.removeItem("currentUser"),y()},f=async()=>{if(de.walletAddress)try{const A=await km(de.walletAddress);de.userBalance=`${parseFloat(A).toFixed(4)} ETH`}catch(A){console.error("   :",A)}},h=async()=>{try{const A=qe();if(!A||A.loginType!=="wallet")return{connected:!1};const _=await AE();return _.connected&&_.address===A.walletAddress?(de.isWalletConnected=!0,de.walletAddress=_.address,de.userBalance=`${parseFloat(_.balance).toFixed(4)} ETH`,await u(_.address,_.balance)):d(),_}catch(A){return console.error("   :",A),{connected:!1}}},p=()=>{const A=yE(L=>{L&&L.length>0?u(L[0]):d()}),_=wE(()=>{});return()=>{A&&A(),_&&_()}},w=(A,_)=>{de.isLoggedIn=!0,de.walletAddress=A,de.userBalance=_,de.loginType=A.startsWith("0x")?"wallet":"email",t()},m=A=>{de.isLoading=A},y=()=>{de.isLoggedIn=!1,de.loginType=null,de.walletAddress="",de.userBalance="0 ETH",de.isWalletConnected=!1,de.walletProvider=null,de.currentUser=null,de.coins=0,de.totalCoin=0,de.catFragments=50,de.level=1,de.nftCount=0,sessionStorage.removeItem("currentUser")},v=ie(()=>Lo(de.coins)),b=ie(()=>Lo(de.totalCoin));return{state:bE(de),formattedCoins:v,formattedTotalCoin:b,loadCurrentUser:t,syncGameData:e,updateGameData:n,updateCoins:s,updateTotalCoin:r,updateCatFragments:i,updateLevel:o,updateMultiple:a,setWalletConnected:w,connectWalletToApp:l,disconnectWalletFromApp:d,updateWalletBalance:f,checkWalletStatus:h,setupWalletListeners:p,setUserData:A=>{de.nftCount=A.nftCount||0,de.gameLevel=A.gameLevel||1},setLoading:m,logout:y,formatNumber:Lo}},bE=t=>new Proxy(t,{get(e,n){return e[n]},set(){return console.warn("   .  ."),!1}}),CE={__name:"App",setup(t){Ht();const e=Et();ct(async()=>{e.loadCurrentUser();const o=JSON.parse(sessionStorage.getItem("currentUser")||"null");if(o&&o.loginType==="wallet"&&o.walletAddress)try{const a=await e.checkWalletStatus();a.connected&&console.log("App.vue:    :",a.address),e.setupWalletListeners()}catch(a){console.error("App.vue:    :",a)}});const n=k(null),s=k(!1),r=()=>{const o=localStorage.getItem("soundEnabled");return o!==null?o==="true":!0},i=()=>{n.value&&(r()?s.value||n.value.play().then(()=>{s.value=!0}).catch(()=>{}):(n.value.pause(),s.value=!1))};return ct(()=>{try{n.value=new Audio,n.value.src=new URL("@/assets/audio/bgm.mp3",import.meta.url).href,n.value.loop=!0,n.value.volume=.5,i();const o=()=>{n.value&&r()&&!s.value&&n.value.play().then(()=>{s.value=!0}).catch(()=>{})};document.addEventListener("click",o,{once:!0}),document.addEventListener("touchstart",o,{once:!0}),window.addEventListener("soundSettingChanged",i)}catch{console.log("BGM    .")}}),Ct(()=>{n.value&&(n.value.pause(),n.value=null),window.removeEventListener("soundSettingChanged",i)}),(o,a)=>{const l=Y0("router-view");return I(),hp(l)}}},EE="/tdl/assets/tdl_splashLogo-b8p6ictM.png",_E="/tdl/assets/tdl_splash_bg-B78B8oeM.png",_t=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},xE={class:"loading-screen"},IE={class:"loading-bar-container"},PE={class:"loading-bar-track"},BE={__name:"LoadingScreen",setup(t){const e=Ht();Et();const n=k(0);return ct(()=>{const i=.5333333333333333,o=setInterval(()=>{n.value+=i,n.value>=100&&(n.value=100,clearInterval(o),setTimeout(()=>{qe()?e.push("/home"):e.push("/login")},200))},16)}),(s,r)=>(I(),P("div",xE,[r[0]||(r[0]=c("div",{class:"logo-top"},[c("img",{src:EE,alt:"TDL Logo",class:"splash-logo"})],-1)),c("div",IE,[c("div",PE,[c("div",{class:"loading-bar-fill",style:Ye({width:n.value+"%"})},null,4)])]),r[1]||(r[1]=c("div",{class:"splash-bg"},[c("img",{src:_E,alt:"Splash Background",class:"splash-bg-image"})],-1))]))}},kE=_t(BE,[["__scopeId","data-v-b45e8a71"]]);async function Pu(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function SE(t,e){return await Pu(t)===e}const TE={class:"login-screen"},NE={class:"login-title"},RE={class:"input-group"},DE={class:"input-label"},LE={class:"input-container"},OE=["placeholder"],ME={class:"input-group"},FE={class:"input-label"},UE={class:"input-container"},$E=["type","placeholder"],HE={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},GE={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},QE=["disabled"],VE={key:0,class:"btn-content"},KE={key:1,class:"btn-content"},WE={key:2,class:"btn-content"},jE=["disabled"],JE={class:"btn-content"},zE={key:0,class:"wallet-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},YE={key:1,class:"spinner-small"},XE={key:0,class:"wallet-error"},ZE={class:"signup-link"},qE={__name:"LoginScreen",setup(t){const e=Ht(),n=Et(),{setWalletConnected:s,setLoading:r,connectWalletToApp:i}=n,o=k(!1),a=k(!1),l=k(!1),u=k(""),d=k(!1),f=ie(()=>vn()),h=()=>{e.push("/signup")},p=k(""),w=k(""),m=async b=>{if(b.preventDefault(),!p.value.trim()||!w.value.trim()){alert("Please enter both email and password.");return}o.value=!0,r(!0);const A=JSON.parse(localStorage.getItem("users")||"[]"),_=A.find(L=>L.email===p.value);setTimeout(async()=>{if(o.value=!1,_){let L=!1;try{if(_.password&&_.password.length<64){if(L=_.password===w.value,L){const H=await Pu(w.value);_.password=H;const V=A.findIndex(K=>K.id===_.id);V!==-1&&(A[V]=_,localStorage.setItem("users",JSON.stringify(A)))}}else L=await SE(w.value,_.password)}catch(H){console.error("Password verification error:",H),r(!1),alert("An error occurred during login. Please try again.");return}if(L){a.value=!0;const{password:H,...V}=_;sessionStorage.setItem("currentUser",JSON.stringify(V)),s(_.email,`${_.gameData?.coins||0} coins`),r(!1),setTimeout(()=>{e.push("/home")},1e3)}else r(!1),alert("Email or password is incorrect.")}else r(!1),alert("Email or password is incorrect.")},2e3)},y=()=>{d.value=!d.value},v=async()=>{try{if(l.value=!0,u.value="",r(!0),!pi()){u.value="MetaMask is not installed.",confirm("Would you like to install MetaMask?")&&window.open("https://metamask.io/download/","_blank");return}const b=await i();b.success?(a.value=!0,setTimeout(()=>{e.push("/home")},1e3)):(u.value=b.error||"Failed to connect wallet.",b.needInstall&&confirm("Would you like to install MetaMask?")&&window.open("https://metamask.io/download/","_blank"))}catch(b){console.error("Wallet connection error:",b),u.value="An error occurred while connecting wallet."}finally{l.value=!1,r(!1)}};return ct(()=>{r(!1);const b=qe();if(b&&b.id){e.push("/home");return}const A=document.querySelector(".loginCont");A&&(A.style.opacity="0",A.style.transform="translateY(30px)",setTimeout(()=>{A.style.transition="all 0.6s ease",A.style.opacity="1",A.style.transform="translateY(0)"},100))}),(b,A)=>(I(),P("div",TE,[c("h1",NE,g(f.value.login),1),c("form",{onSubmit:m,class:"login-form"},[c("div",RE,[c("label",DE,g(f.value.email),1),c("div",LE,[A[2]||(A[2]=c("svg",{class:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),c("polyline",{points:"22,6 12,13 2,6"})],-1)),It(c("input",{type:"email","onUpdate:modelValue":A[0]||(A[0]=_=>p.value=_),class:"input-field",placeholder:f.value.enterEmail,required:""},null,8,OE),[[Wn,p.value]])])]),c("div",ME,[c("label",FE,g(f.value.password),1),c("div",UE,[A[5]||(A[5]=c("svg",{class:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),c("circle",{cx:"12",cy:"16",r:"1"}),c("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})],-1)),It(c("input",{type:d.value?"text":"password","onUpdate:modelValue":A[1]||(A[1]=_=>w.value=_),class:"input-field",placeholder:f.value.enterPassword,required:""},null,8,$E),[[Ep,w.value]]),c("button",{type:"button",class:"password-toggle",onClick:y},[d.value?(I(),P("svg",GE,[...A[4]||(A[4]=[c("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),c("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(I(),P("svg",HE,[...A[3]||(A[3]=[c("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),c("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))])])]),c("button",{type:"submit",disabled:o.value||a.value,class:Ee(["login-button",{connecting:o.value,connected:a.value}])},[!o.value&&!a.value?(I(),P("div",VE,g(f.value.loginButton),1)):re("",!0),o.value?(I(),P("div",KE,[A[6]||(A[6]=c("div",{class:"spinner-small"},null,-1)),qr(" "+g(f.value.loading),1)])):re("",!0),a.value?(I(),P("div",WE,[A[7]||(A[7]=c("svg",{class:"check-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[c("path",{d:"M20 6L9 17l-5-5"})],-1)),qr(" "+g(f.value.success)+"! ",1)])):re("",!0)],10,QE)],32),A[9]||(A[9]=c("div",{class:"divider"},[c("span",{class:"divider-text"},"or")],-1)),c("button",{onClick:v,disabled:l.value||o.value,class:"wallet-connect-button"},[c("div",JE,[l.value?re("",!0):(I(),P("svg",zE,[...A[8]||(A[8]=[c("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},null,-1),c("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},null,-1)])])),l.value?(I(),P("div",YE)):re("",!0),c("span",null,g(l.value?f.value.loading:f.value.walletConnect),1)])],8,jE),u.value?(I(),P("div",XE,g(u.value),1)):re("",!0),c("div",ZE,[c("button",{onClick:h,class:"signup-btn"},g(f.value.signupButton),1)])]))}},e_=_t(qE,[["__scopeId","data-v-7f2f04cf"]]),t_="data:image/png;base64,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",Wf=t=>{const e=t.toString().split("").reduce((i,o)=>(i<<5)-i+o.charCodeAt(0),0),n="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let s="",r=Math.abs(e);for(let i=0;i<6;i++)s+=n[r%n.length],r=Math.floor(r/n.length);return s},Sm=t=>{const e=Zs(),n=e.find(r=>r.id===t);if(!n)return Wf(t);if(n.inviteCode)return n.inviteCode;const s=Wf(t);return n.inviteCode=s,localStorage.setItem("users",JSON.stringify(e)),s},n_=t=>Zs().find(n=>n.inviteCode===t)||null,s_=async(t,e)=>{if(!e)return{success:!1,error:"  ."};const n=n_(e);if(!n)return{success:!1,error:"   ."};if(n.id===t)return{success:!1,error:"    ."};const s=Zs(),r=s.find(u=>u.id===t);if(r&&r.referredBy)return{success:!1,error:"  ."};r&&(r.referredBy=n.id,r.referredAt=new Date().toISOString(),localStorage.setItem("users",JSON.stringify(s))),n.referrals||(n.referrals=[]),n.referrals.includes(t)||n.referrals.push(t),n.referralStats||(n.referralStats={totalReferrals:0,rewardsReceived:0}),n.referralStats.totalReferrals=n.referrals.length,localStorage.setItem("users",JSON.stringify(s));const i=Et(),o=100,a=(n.gameData?.coins||0)+o;await Ki(n.id,{coins:a});const l=50;if(r){const u=(r.gameData?.coins||0)+l;await Ki(t,{coins:u}),i.state.currentUser?.id===t&&await i.updateCoins(u)}return i.state.currentUser?.id===n.id&&await i.updateCoins(a),window.dispatchEvent(new CustomEvent("userDataUpdated")),{success:!0,inviter:n.name||n.email,inviterReward:o,newUserReward:l}},jf=t=>{const n=Zs().find(s=>s.id===t);return n?{inviteCode:n.inviteCode||Sm(t),totalReferrals:n.referrals?.length||0,referrals:n.referrals||[],referralStats:n.referralStats||{totalReferrals:0,rewardsReceived:0}}:{inviteCode:null,totalReferrals:0,referrals:[]}},r_={class:"signup-screen"},i_={class:"input-group"},o_={class:"input-container"},a_={class:"input-group"},l_={class:"input-container"},c_={class:"input-group"},u_={class:"input-container"},d_={class:"input-group"},f_={class:"input-container"},h_=["type"],p_={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},g_={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},m_={__name:"SignupScreen",setup(t){const e=Ht(),n=Ny(),s=k({name:"",phone:"",email:"",password:""}),r=k(null);ct(()=>{n.query.ref&&(r.value=n.query.ref)});const i=k(!1),o=()=>{e.go(-1)},a=async u=>{if(u.preventDefault(),!s.value.name.trim()||!s.value.phone.trim()||!s.value.email.trim()||!s.value.password.trim()){alert("  .");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value.email)){alert("   .");return}if(s.value.password.length<6){alert(" 6  .");return}const f=JSON.parse(localStorage.getItem("users")||"[]");if(f.some(m=>m.email===s.value.email)){alert("  .");return}let p;try{p=await Pu(s.value.password)}catch(m){console.error("  :",m),alert("   .  .");return}const w={id:Date.now(),name:s.value.name,phone:s.value.phone,email:s.value.email,password:p,createdAt:new Date().toISOString(),gameData:{level:1,coins:0,totalCoin:0,catFragments:50,nftCount:0,miningLevel:1,huntingLevel:1,explorationLevel:1,productionLevel:1,miningCats:[null,null,null,null],huntingCats:[null,null,null,null],explorationCats:[null,null,null,null],productionCats:[null,null,null,null],inventory:[]}};if(f.push(w),localStorage.setItem("users",JSON.stringify(f)),r.value)try{const m=await s_(w.id,r.value);m.success?alert(` !
${m.inviter}  !
 : ${m.newUserReward}  !`):alert(` !
${m.error}`)}catch(m){console.error("   :",m),alert(" !")}else alert(" !");e.push("/login")},l=()=>{i.value=!i.value};return(u,d)=>(I(),P("div",r_,[c("button",{class:"back-button",onClick:o},[...d[4]||(d[4]=[c("img",{src:t_,alt:"back-button",width:"20px"},null,-1)])]),d[16]||(d[16]=c("h1",{class:"signup-title"},"",-1)),c("form",{onSubmit:a,class:"signup-form"},[c("div",i_,[d[6]||(d[6]=c("label",{class:"input-label"},"",-1)),c("div",o_,[d[5]||(d[5]=c("svg",{class:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),c("polyline",{points:"22,6 12,13 2,6"})],-1)),It(c("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=f=>s.value.name=f),class:"input-field",placeholder:" ",required:""},null,512),[[Wn,s.value.name]])])]),c("div",a_,[d[8]||(d[8]=c("label",{class:"input-label"},"",-1)),c("div",l_,[d[7]||(d[7]=c("svg",{class:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})],-1)),It(c("input",{type:"tel","onUpdate:modelValue":d[1]||(d[1]=f=>s.value.phone=f),class:"input-field",placeholder:" ",required:""},null,512),[[Wn,s.value.phone]])])]),c("div",c_,[d[10]||(d[10]=c("label",{class:"input-label"},"",-1)),c("div",u_,[d[9]||(d[9]=c("svg",{class:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),c("polyline",{points:"22,6 12,13 2,6"})],-1)),It(c("input",{type:"email","onUpdate:modelValue":d[2]||(d[2]=f=>s.value.email=f),class:"input-field",placeholder:" ",required:""},null,512),[[Wn,s.value.email]])])]),c("div",d_,[d[14]||(d[14]=c("label",{class:"input-label"},"",-1)),c("div",f_,[d[13]||(d[13]=c("svg",{class:"input-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),c("circle",{cx:"12",cy:"16",r:"1"}),c("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})],-1)),It(c("input",{type:i.value?"text":"password","onUpdate:modelValue":d[3]||(d[3]=f=>s.value.password=f),class:"input-field",placeholder:" ",required:""},null,8,h_),[[Ep,s.value.password]]),c("button",{type:"button",class:"password-toggle",onClick:l},[i.value?(I(),P("svg",g_,[...d[12]||(d[12]=[c("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),c("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(I(),P("svg",p_,[...d[11]||(d[11]=[c("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),c("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))])])]),d[15]||(d[15]=c("button",{type:"submit",class:"signup-button"},"  ",-1))],32)]))}},v_=_t(m_,[["__scopeId","data-v-b86f2276"]]),La="/tdl/assets/cat1-B_B8VE2s.png",Oa="/tdl/assets/cat10-B8AgbljH.png",Ma="/tdl/assets/cat11-0fJ86MBw.png",Fa="/tdl/assets/cat12-9jWhGICw.png",Ua="/tdl/assets/cat13-CHa4qUOi.png",$a="/tdl/assets/cat14-CLrryeLM.png",Ha="/tdl/assets/cat15-CCtjZj8M.png",Ga="/tdl/assets/cat16-CPcR6OS6.png",Qa="/tdl/assets/cat17-EO7rjjtM.png",Va="/tdl/assets/cat18-BGDiOePY.png",Ka="/tdl/assets/cat19-DxCDtOnA.png",Wa="/tdl/assets/cat2-0Y4nM6HW.png",ja="/tdl/assets/cat20-Bz9cd08a.png",Ja="/tdl/assets/cat21-ECTsze2s.png",za="/tdl/assets/cat22-BvGXhyri.png",Ya="/tdl/assets/cat23-DqU2B_M0.png",Xa="/tdl/assets/cat24-7cWYLYDN.png",Za="/tdl/assets/cat25-Cy0mQl6B.png",qa="/tdl/assets/cat26-Bk4tHCwE.png",el="/tdl/assets/cat27-CvtmCEXM.png",tl="/tdl/assets/cat28-B9s1wmgo.png",nl="/tdl/assets/cat29-D_79HmBj.png",sl="/tdl/assets/cat3-Dp7OJMB9.png",rl="/tdl/assets/cat30-Cx-HRp0m.png",il="/tdl/assets/cat4-DHiuXgwB.png",ol="/tdl/assets/cat5-BvXrfJAO.png",al="/tdl/assets/cat6-DZOiQoo1.png",ll="/tdl/assets/cat7-CeDKF7mR.png",cl="/tdl/assets/cat8-mjRhb3fS.png",ul="/tdl/assets/cat9-Bzb-Egme.png",dl="/tdl/assets/catPoint-t6vwZH27.png",fl="/tdl/assets/tabIcon5-CFF9Ua2B.png",hl="/tdl/assets/catProfile01-gY0Djz81.png",pl="/tdl/assets/catProfile02-Cesbpkj5.png",gl="/tdl/assets/cat_ico-Csdt_Q01.png",Tm="/tdl/assets/tul1-CuZ0qR5D.png",Nm="/tdl/assets/tul2-Cj7OkHg6.png",Rm="/tdl/assets/tul3-CaPMxBJ-.png",Dm="/tdl/assets/tul5-CQc-0WLd.png",Lm="/tdl/assets/tul6-COB-AGqQ.png",A_="/tdl/assets/energyIcon-BrO4HZx-.png",Fc="/tdl/assets/pointIcon-Cel8s0wp.png",sa="/tdl/assets/coinIcon-NUhL-dlJ.png",Om="/tdl/assets/catPoint-t6vwZH27.png",y_="/tdl/assets/shopIcon-Cs4Crcae.png",w_="/tdl/assets/setting-CxNpDL9x.png",b_="/tdl/assets/notice-Bkd9hh4q.png",C_=4e3,Mm=(t,e={value:C_})=>{const n=new Date().toDateString(),s=localStorage.getItem("energyLastDate"),r=localStorage.getItem("currentEnergy");if(s!==n)t.value=e.value,localStorage.setItem("energyLastDate",n),localStorage.setItem("currentEnergy",e.value.toString());else if(r){const i=parseInt(r)||0;t.value=Math.max(0,Math.min(i,e.value))}else t.value=e.value,localStorage.setItem("energyLastDate",n),localStorage.setItem("currentEnergy",e.value.toString())},E_={class:"headerCont"},__={class:"headerBar"},x_={class:"resourceValue"},I_={class:"resourceValue"},P_={class:"resourceValue"},B_={class:"resourceValue"},k_={key:0,class:"rightIconButtons"},S_={__name:"Header",props:{hideRightIcons:{type:Boolean,default:!1}},setup(t){const e=k(localStorage.getItem("appLanguage")||"English");ie(()=>vn());const n=Ht(),s=Et(),r=ie(()=>s.state.coins),i=ie(()=>s.state.totalCoin),o=ie(()=>s.state.catFragments),a=k(4e3),l=k(4e3),u=()=>{const y=localStorage.getItem("currentEnergy");y&&(a.value=parseInt(y,10)),Mm(a,l)};k(!1);const d=()=>{n.push("/settings")},f=()=>{n.push("/notification")},h=()=>{n.push("/shop")},p=()=>{n.push("/nft")};let w=null;ct(()=>{s.loadCurrentUser(),u(),w=setInterval(()=>{const v=localStorage.getItem("appLanguage")||"English";v!==e.value&&(e.value=v),u()},500);const y=()=>{s.loadCurrentUser(),u()};window.addEventListener("userDataUpdated",y),Ct(()=>{window.removeEventListener("userDataUpdated",y),w&&clearInterval(w)})});const m=s.formatNumber;return(y,v)=>(I(),P("header",null,[c("div",E_,[c("div",__,[c("button",{class:"resourceItem energyItem",onClick:h},[v[0]||(v[0]=c("img",{src:A_,alt:"",class:"resourceIcon"},null,-1)),c("span",x_,g(Pe(m)(a.value)),1)]),c("button",{class:"resourceItem",onClick:h},[v[1]||(v[1]=c("img",{src:Fc,alt:"",class:"resourceIcon"},null,-1)),c("span",I_,g(Pe(m)(r.value)),1)]),c("button",{class:"resourceItem",onClick:h},[v[2]||(v[2]=c("img",{src:sa,alt:"",class:"resourceIcon"},null,-1)),c("span",P_,g(Pe(m)(i.value)),1)]),c("button",{class:"resourceItem",onClick:h},[v[3]||(v[3]=c("img",{src:Om,alt:"",class:"resourceIcon"},null,-1)),c("span",B_,g(o.value),1)])]),t.hideRightIcons?re("",!0):(I(),P("div",k_,[c("button",{class:"iconButton nftButton",onClick:p,title:"NFT"},[...v[4]||(v[4]=[c("img",{src:y_,alt:"NFT",class:"icon-img"},null,-1)])]),c("button",{class:"iconButton settingsButton",onClick:d,title:""},[...v[5]||(v[5]=[c("div",{class:"iconCircle settingsIconCircle"},[c("img",{src:w_,alt:"",class:"icon-img"})],-1)])]),c("button",{class:"iconButton notificationButton",onClick:f,title:""},[...v[6]||(v[6]=[c("div",{class:"iconCircle notificationIconCircle"},[c("img",{src:b_,alt:"",class:"icon-img"})],-1)])])]))])]))}},Jt=_t(S_,[["__scopeId","data-v-d75eaa23"]]),Jf="/tdl/assets/tabIcon1-BMQwD5kb.png",zf="/tdl/assets/tabIcon2-Ba9ZXsKV.png",Yf="/tdl/assets/tabIcon3-C85F2_hQ.png",Xf="/tdl/assets/tabIcon4-Dfn0WYn7.png",Zf="/tdl/assets/tabIcon5-CFF9Ua2B.png",T_={class:"footerCont"},N_={class:"footerBar"},R_=["onClick"],D_={class:"tabContent"},L_=["src","alt"],O_={key:1,class:"tabEmoji"},M_={__name:"Footer",setup(t){const e=Ht(),n=k("home"),s=k(localStorage.getItem("appLanguage")||"English"),r=ie(()=>vn()),i=d=>{d.key==="appLanguage"&&(s.value=d.newValue||"English")},o=()=>{switch(e.currentRoute.value.path){case"/main":n.value="game";break;case"/home":n.value="home";break;case"/exchange":n.value="exchange";break;case"/inventory":n.value="inventory";break;case"/factory":n.value="factory";break;default:n.value="home"}};let a=null;ct(()=>{o(),window.addEventListener("storage",i),a=setInterval(()=>{const d=localStorage.getItem("appLanguage")||"English";d!==s.value&&(s.value=d)},100)}),Ct(()=>{window.removeEventListener("storage",i),a&&clearInterval(a)}),ws(()=>e.currentRoute.value.path,()=>{o()}),ws(s,()=>{});const l=ie(()=>[{id:"game",img:Jf,imgActive:Jf,label:r.value.game},{id:"exchange",img:zf,imgActive:zf,label:r.value.exchange},{id:"home",img:Yf,imgActive:Yf,label:r.value.home},{id:"inventory",img:Xf,imgActive:Xf,label:r.value.inventory},{id:"factory",img:Zf,imgActive:Zf,label:r.value.factory}]),u=d=>{switch(n.value=d,d){case"home":e.push("/home");break;case"game":e.push("/main");break;case"exchange":return;case"inventory":e.push("/inventory");break;case"factory":e.push("/factory");break}};return(d,f)=>(I(),P("footer",null,[c("div",T_,[c("div",N_,[(I(!0),P(we,null,De(l.value,h=>(I(),P("div",{key:h.id,class:Ee(["tabItem",{active:n.value===h.id}]),onClick:p=>u(h.id)},[c("div",D_,[h.img?(I(),P("img",{key:0,src:n.value===h.id?h.imgActive:h.img,alt:h.label,class:"tabIcon"},null,8,L_)):re("",!0),h.emoji?(I(),P("span",O_,g(h.emoji),1)):re("",!0)])],10,R_))),128))])])]))}},zt=_t(M_,[["__scopeId","data-v-8d0570ff"]]);function Cr(t){return(t+1)*100}function F_(t){if(!t)return!1;const e=t.exp||0,n=t.maxExp||Cr(t.level||1);return e>=n}function Zl(t){return t*50}function U_(t){if(!t||!t.rarity)return 5;const e={common:1,rare:1.1,epic:1.2,legendary:1.3},n=5,s=e[t.rarity]||1;return Math.floor(n*s)}function ra(t){return t&&{...t,exp:t.exp!==void 0?t.exp:0,maxExp:t.maxExp!==void 0?t.maxExp:Cr(t.level||1)}}const $_="/tdl/assets/mainTab1-2-yTW8RB.png",H_="/tdl/assets/mainTab1_off-CYH0tU-A.png",G_="/tdl/assets/mainTab2-DYAFv8pb.png",Q_="/tdl/assets/mainTab2_off-Cd7YzEgp.png",V_="/tdl/assets/mainTab3-SUKPiFtY.png",K_="/tdl/assets/mainTab3_off-BBdSbCVr.png",W_="/tdl/assets/mainTab4-wBIEQHF7.png",j_="/tdl/assets/mainTab4_off-BKjmP7bC.png",Io="/tdl/assets/plusMini-HInupkEh.png",J_="/tdl/assets/energyMini-BWyfGT5k.png",z_={class:"mainScreen"},Y_={class:"mainContent"},X_={class:"modeTabs"},Z_=["src"],q_={class:"modeTabLevel"},e2=["src"],t2={class:"modeTabLevel"},n2=["src"],s2={class:"modeTabLevel"},r2=["src"],i2={class:"modeTabLevel"},o2={class:"clickerArea"},a2={class:"totalPointsDisplay"},l2={class:"pointAnimations"},c2={class:"clickerAndEnergyContainer"},u2={class:"energySection"},d2=["src"],f2={class:"energyBar"},h2={class:"energyText"},p2={class:"clickerButtonContainer"},g2={key:1,class:"completeMessageContainer"},m2={class:"completeMessageText"},v2={class:"rewardInfo"},A2={class:"rewardItem"},y2={key:0,class:"rewardItem"},w2={key:1,class:"completeMessageContainer"},b2={class:"completeMessageText"},C2={class:"rewardInfo"},E2={class:"rewardItem"},_2={key:0,class:"rewardItem"},x2={key:1,class:"completeMessageContainer"},I2={class:"completeMessageText"},P2={class:"rewardInfo"},B2={class:"rewardItem"},k2={key:0,class:"rewardItem"},S2={key:1,class:"completeMessageContainer"},T2={class:"completeMessageText"},N2={class:"rewardInfo"},R2={class:"rewardItem"},D2={key:0,class:"rewardItem"},L2={class:"catsSection"},O2={class:"catsListScroll"},M2=["onClick"],F2={key:0,class:"catImage"},U2=["src"],$2={key:1,class:"emptySlotContent"},H2=["src"],G2=["onClick"],Q2={key:0,class:"catImage"},V2=["src"],K2={key:1,class:"emptySlotContent"},W2=["src"],j2=["onClick"],J2={key:0,class:"catImage"},z2=["src"],Y2={key:1,class:"emptySlotContent"},X2=["src"],Z2=["onClick"],q2={key:0,class:"catImage"},ex=["src"],tx={key:1,class:"emptySlotContent"},nx=["src"],sx={class:"speechBubbles"},rx={class:"catEmojis"},ix=["src","onError"],ox={class:"catSelectPopupHeader"},ax={class:"catSelectPopupBody"},lx={key:0,class:"removeCatSection"},cx={class:"availableCatsGrid"},ux=["onClick"],dx={class:"availableCatImage"},fx=["src"],hx={class:"availableCatInfo"},px={class:"availableCatName"},gx={class:"availableCatLevel"},mx={class:"availableCatStars"},vx={__name:"MainScreen",setup(t){const e=Et(),n=ie(()=>vn()),s=Ht(),r=k(null),i=k("mining"),o=ie(()=>e.state.coins),a=ie(()=>e.state.coins),l=ie(()=>e.state.totalCoin),u=ie(()=>e.state.catFragments),d=ie(()=>i.value==="mining"?v.value:i.value==="hunting"?F.value:i.value==="exploration"?V.value:i.value==="production"?ne.value:0),f=async U=>{try{await e.updateCoins(U)||console.error("  ")}catch(J){console.error("    :",J)}},h=async U=>{try{await e.updateCatFragments(U)||console.error("   ")}catch(J){console.error("     :",J)}},p=k([]),w=k([]),m=k([]),y=k(null),v=k(0),b=k(0),A=k(1),_=k(!1),L=k(!0),H=k({points:0,fragments:0}),V=k(0),K=k(0),z=k(1),M=k(!1),D=k(!0),X=k({points:0,fragments:0}),F=k(0),O=k(0),T=k(1),W=k(!1),oe=k(!0),te=k({points:0,fragments:0}),ne=k(0),Z=k(0),me=k(1),xe=k(!1),ut=k(!0),at=k({points:0,fragments:0}),lt=U=>Math.pow(2,U-1),tt=(U,J)=>!U||!Array.isArray(U)?0:U.reduce(($,ue)=>ue&&ue[J]?$+(ue[J]||0):$,0),G=()=>tt(Se.value,"miningEfficiency"),le=()=>tt(At.value,"huntingDamage"),se=()=>tt(Nt.value,"explorationReward"),fe=()=>tt(Rt.value,"productionSpeed"),ke=async(U,J)=>{if(!U||U.length===0)return;const $=qe();if(!$)return;const ue=$.gameData?.inventory||[],ye=U.filter(Re=>Re!==null).map(Re=>Re.id);if(ye.length===0)return;const Le=ue.map(Re=>{if(ye.includes(Re.id)){const ve=ra(Re),Xe=(ve.exp||0)+J,Zt=ve.level||1,qt=Cr(Zt);return{...ve,exp:Xe,maxExp:qt}}return ra(Re)});try{await e.updateGameData({inventory:Le})}catch(Re){console.error("NFT   :",Re)}},C=U=>{i.value=U},E=()=>{s.currentRoute.value.path==="/main"&&i.value==="main"&&(i.value="mining")};ct(()=>{if(e.loadCurrentUser(),r.value=qe(),r.value){A.value=r.value.gameData?.miningLevel||1,b.value=r.value.gameData?.miningTotalClicks||0,T.value=r.value.gameData?.huntingLevel||1,O.value=r.value.gameData?.huntingTotalClicks||0,z.value=r.value.gameData?.explorationLevel||1,K.value=r.value.gameData?.explorationTotalClicks||0,me.value=r.value.gameData?.productionLevel||1,Z.value=r.value.gameData?.productionTotalClicks||0,q.value=r.value.gameData?.planetLevel||1,j.value=r.value.gameData?.planetEnergy||0;const J=$=>{const ue=($||[]).slice(0,4);return ue.length===4?ue:[...ue,...Array(4-ue.length).fill(null)]};r.value.gameData?.miningCats!==void 0&&(Se.value=J(r.value.gameData.miningCats)),r.value.gameData?.huntingCats!==void 0&&(At.value=J(r.value.gameData.huntingCats)),r.value.gameData?.explorationCats!==void 0&&(Nt.value=J(r.value.gameData.explorationCats)),r.value.gameData?.productionCats!==void 0&&(Rt.value=J(r.value.gameData.productionCats))}Mm(R,x),ws(()=>s.currentRoute.value.path,()=>{E()});try{y.value=new Audio,y.value.src=new URL("/tdl/assets/clickbgm-BvbCQtA-.mp3",import.meta.url).href,y.value.volume=.3}catch{}const U=()=>{!S()&&y.value&&(y.value.pause(),y.value.currentTime=0)};window.addEventListener("soundSettingChanged",U),Gt("mining"),Gt("hunting"),Gt("exploration"),Gt("production"),Ct(()=>{Vm(),window.removeEventListener("soundSettingChanged",U)})});const S=()=>{const U=localStorage.getItem("soundEnabled");return U!==null?U==="true":!0},Q=async U=>{if(y.value&&S()&&(y.value.currentTime=0,y.value.play().catch(()=>{})),R.value<N.value){alert(" !");return}if(ae()){if(U==="mining"){if(v.value++,b.value++,b.value>=A.value*1e3){A.value++;const J={id:Date.now(),text:`${n.value.mining} ${n.value.levelUp} Lv.${A.value}`,x:Math.random()*(Math.min(window.innerWidth||500,500)-220-40)+20,y:Math.random()*(window.innerHeight||500)+100};if(p.value.push(J),setTimeout(()=>{const $=p.value.findIndex(ue=>ue.id===J.id);$>-1&&p.value.splice($,1)},3e3),r.value)try{await e.updateGameData({miningLevel:A.value,miningTotalClicks:b.value})}catch($){console.error("   :",$)}}if(v.value>=10){const $=lt(A.value),ue=G()/100,ye=Math.floor(100*$*(1+ue)),Le=o.value+ye;await f(Le),v.value=0,_.value=!0,L.value=!1,await Ae();const Re=Math.random();let ve=0;Re<.3?ve=1:Re<.4&&(ve=2),H.value={points:ye,fragments:ve};const Xe={id:Date.now(),points:ye,x:50,y:20};if(m.value.push(Xe),setTimeout(()=>{const Ce=m.value.findIndex(We=>We.id===Xe.id);Ce>-1&&m.value.splice(Ce,1)},2e3),ve>0){const Ce=u.value+ve;u.value=Ce,await h(Ce);for(let We=0;We<ve;We++){const Fn=Math.floor(Math.random()*6)+1,yn=Math.min(window.innerWidth||500,500),Yn=window.innerHeight||800,Qt=60,xt=30,dn={id:Date.now()+We,x:Math.random()*(yn-Qt-xt*2)+xt,y:Math.random()*(Yn-Qt-xt*2-200)+100,imageId:Fn};w.value.push(dn),setTimeout(()=>{const Vt=w.value.findIndex(Xn=>Xn.id===dn.id);Vt>-1&&w.value.splice(Vt,1)},2e3)}}if(r.value)try{await e.updateGameData({miningTotalClicks:b.value,miningLevel:A.value})}catch(Ce){console.error("   :",Ce)}const Zt=Math.min(window.innerWidth||500,500),qt=window.innerHeight||800,On=220,Mn=ve>0?80:60,Bt=20,un=Math.round(G());let Mt=`${n.value.miningComplete}
${ye.toLocaleString()} ${n.value.pointsEarned}`;un>0&&(Mt+=`
(NFT Bonus: +${un}%)`),ve>0&&(Mt+=`
${n.value.fragmentsEarned} ${ve} ${n.value.fragmentsEarnedCount}`);const st={id:Date.now(),text:Mt,x:Math.random()*(Zt-On-Bt*2)+Bt,y:Math.random()*(qt-Mn-Bt*2-200)+100};p.value.push(st),setTimeout(()=>{const Ce=p.value.findIndex(We=>We.id===st.id);Ce>-1&&p.value.splice(Ce,1)},3e3),setTimeout(()=>{_.value=!1,L.value=!0,H.value={points:0,fragments:0}},1500)}else{const J=Math.min(window.innerWidth||500,500),$=window.innerHeight||800,ue=220,ye=60,Le=20,Re={id:Date.now(),text:`${n.value.miningProgress}: ${v.value}/10`,x:Math.random()*(J-ue-Le*2)+Le,y:Math.random()*($-ye-Le*2-200)+100};p.value.push(Re),setTimeout(()=>{const ve=p.value.findIndex(Xe=>Xe.id===Re.id);ve>-1&&p.value.splice(ve,1)},2e3)}}else if(U==="exploration"){if(V.value++,K.value++,K.value>=z.value*1e3){z.value++;const J={id:Date.now(),text:`${n.value.exploration} ${n.value.levelUp} Lv.${z.value}`,x:Math.random()*(Math.min(window.innerWidth||500,500)-220-40)+20,y:Math.random()*(window.innerHeight||500)+100};if(p.value.push(J),setTimeout(()=>{const $=p.value.findIndex(ue=>ue.id===J.id);$>-1&&p.value.splice($,1)},3e3),r.value)try{await e.updateGameData({explorationLevel:z.value,explorationTotalClicks:K.value})}catch($){console.error("   :",$)}}if(V.value>=10){const $=lt(z.value),ue=se()/100,ye=Math.floor(100*$*(1+ue)),Le=o.value+ye;await f(Le),V.value=0,M.value=!0,D.value=!1,await Ae();const Re=Math.random();let ve=0;Re<.3?ve=1:Re<.4&&(ve=2),X.value={points:ye,fragments:ve};const Xe={id:Date.now(),points:ye,x:50,y:20};if(m.value.push(Xe),setTimeout(()=>{const Ce=m.value.findIndex(We=>We.id===Xe.id);Ce>-1&&m.value.splice(Ce,1)},2e3),await ke(Nt.value,10),ve>0){const Ce=u.value+ve;u.value=Ce,await h(Ce);for(let We=0;We<ve;We++){const Fn=Math.floor(Math.random()*6)+1,yn=Math.min(window.innerWidth||500,500),Yn=window.innerHeight||800,Qt=60,xt=30,dn={id:Date.now()+We,x:Math.random()*(yn-Qt-xt*2)+xt,y:Math.random()*(Yn-Qt-xt*2-200)+100,imageId:Fn};w.value.push(dn),setTimeout(()=>{const Vt=w.value.findIndex(Xn=>Xn.id===dn.id);Vt>-1&&w.value.splice(Vt,1)},2e3)}}if(r.value)try{await e.updateGameData({explorationTotalClicks:K.value,explorationLevel:z.value})}catch(Ce){console.error("   :",Ce)}const Zt=Math.min(window.innerWidth||500,500),qt=window.innerHeight||800,On=220,Mn=ve>0?80:60,Bt=20,un=Math.round(se());let Mt=`${n.value.explorationComplete}
${ye.toLocaleString()} ${n.value.pointsEarned}`;un>0&&(Mt+=`
(NFT Bonus: +${un}%)`),ve>0&&(Mt+=`
${n.value.fragmentsEarned} ${ve} ${n.value.fragmentsEarnedCount}`);const st={id:Date.now(),text:Mt,x:Math.random()*(Zt-On-Bt*2)+Bt,y:Math.random()*(qt-Mn-Bt*2-200)+100};p.value.push(st),setTimeout(()=>{const Ce=p.value.findIndex(We=>We.id===st.id);Ce>-1&&p.value.splice(Ce,1)},3e3),setTimeout(()=>{M.value=!1,D.value=!0,X.value={points:0,fragments:0}},1500)}else{const J=Math.min(window.innerWidth||500,500),$=window.innerHeight||800,ue=220,ye=60,Le=20,Re={id:Date.now(),text:`${n.value.explorationProgress}: ${V.value}/10`,x:Math.random()*(J-ue-Le*2)+Le,y:Math.random()*($-ye-Le*2-200)+100};p.value.push(Re),setTimeout(()=>{const ve=p.value.findIndex(Xe=>Xe.id===Re.id);ve>-1&&p.value.splice(ve,1)},2e3)}}else if(U==="hunting"){if(F.value++,O.value++,O.value>=T.value*1e3){T.value++;const J={id:Date.now(),text:`${n.value.hunting} ${n.value.levelUp} Lv.${T.value}`,x:Math.random()*(Math.min(window.innerWidth||500,500)-220-40)+20,y:Math.random()*(window.innerHeight||500)+100};if(p.value.push(J),setTimeout(()=>{const $=p.value.findIndex(ue=>ue.id===J.id);$>-1&&p.value.splice($,1)},3e3),r.value)try{await e.updateGameData({huntingLevel:T.value,huntingTotalClicks:O.value})}catch($){console.error("   :",$)}}if(F.value>=10){const $=lt(T.value),ue=le()/100,ye=Math.floor(100*$*(1+ue)),Le=o.value+ye;await f(Le),F.value=0,W.value=!0,oe.value=!1,await Ae();const Re=Math.random();let ve=0;Re<.3?ve=1:Re<.4&&(ve=2),te.value={points:ye,fragments:ve};const Xe={id:Date.now(),points:ye,x:50,y:20};if(m.value.push(Xe),setTimeout(()=>{const st=m.value.findIndex(Ce=>Ce.id===Xe.id);st>-1&&m.value.splice(st,1)},2e3),await ke(At.value,10),ve>0){const st=u.value+ve;u.value=st,await h(st);for(let Ce=0;Ce<ve;Ce++){const We=Math.floor(Math.random()*6)+1,Fn=Math.min(window.innerWidth||500,500),yn=window.innerHeight||800,Yn=60,Qt=30,xt={id:Date.now()+Ce,x:Math.random()*(Fn-Yn-Qt*2)+Qt,y:Math.random()*(yn-Yn-Qt*2-200)+100,imageId:We};w.value.push(xt),setTimeout(()=>{const dn=w.value.findIndex(Vt=>Vt.id===xt.id);dn>-1&&w.value.splice(dn,1)},2e3)}}if(r.value)try{await e.updateGameData({huntingTotalClicks:O.value,huntingLevel:T.value})}catch(st){console.error("   :",st)}const Zt=Math.min(window.innerWidth||500,500),qt=window.innerHeight||800,On=220,Mn=ve>0?80:60,Bt=20;let un=`${n.value.huntingComplete}
${ye.toLocaleString()} ${n.value.pointsEarned}`;ve>0&&(un+=`
${n.value.fragmentsEarned} ${ve} ${n.value.fragmentsEarnedCount}`);const Mt={id:Date.now(),text:un,x:Math.random()*(Zt-On-Bt*2)+Bt,y:Math.random()*(qt-Mn-Bt*2-200)+100};p.value.push(Mt),setTimeout(()=>{const st=p.value.findIndex(Ce=>Ce.id===Mt.id);st>-1&&p.value.splice(st,1)},3e3),setTimeout(()=>{W.value=!1,oe.value=!0,te.value={points:0,fragments:0}},1500)}else{const J=Math.min(window.innerWidth||500,500),$=window.innerHeight||800,ue=220,ye=60,Le=20,Re={id:Date.now(),text:`${n.value.huntingProgress}: ${F.value}/10`,x:Math.random()*(J-ue-Le*2)+Le,y:Math.random()*($-ye-Le*2-200)+100};p.value.push(Re),setTimeout(()=>{const ve=p.value.findIndex(Xe=>Xe.id===Re.id);ve>-1&&p.value.splice(ve,1)},2e3)}}else if(U==="production"){if(ne.value++,Z.value++,Z.value>=me.value*1e3){me.value++;const J={id:Date.now(),text:`${n.value.production} ${n.value.levelUp} Lv.${me.value}`,x:Math.random()*(Math.min(window.innerWidth||500,500)-220-40)+20,y:Math.random()*(window.innerHeight||500)+100};if(p.value.push(J),setTimeout(()=>{const $=p.value.findIndex(ue=>ue.id===J.id);$>-1&&p.value.splice($,1)},3e3),r.value)try{await e.updateGameData({productionLevel:me.value,productionTotalClicks:Z.value})}catch($){console.error("   :",$)}}if(ne.value>=10){const $=lt(me.value),ue=fe()/100,ye=Math.floor(100*$*(1+ue)),Le=o.value+ye;await f(Le),ne.value=0,xe.value=!0,ut.value=!1,await Ae();const Re=Math.random();let ve=0;Re<.3?ve=1:Re<.4&&(ve=2),at.value={points:ye,fragments:ve};const Xe={id:Date.now(),points:ye,x:50,y:20};if(m.value.push(Xe),setTimeout(()=>{const Ce=m.value.findIndex(We=>We.id===Xe.id);Ce>-1&&m.value.splice(Ce,1)},2e3),await ke(Rt.value,10),ve>0){const Ce=u.value+ve;u.value=Ce,await h(Ce);for(let We=0;We<ve;We++){const Fn=Math.floor(Math.random()*6)+1,yn=Math.min(window.innerWidth||500,500),Yn=window.innerHeight||800,Qt=60,xt=30,dn={id:Date.now()+We,x:Math.random()*(yn-Qt-xt*2)+xt,y:Math.random()*(Yn-Qt-xt*2-200)+100,imageId:Fn};w.value.push(dn),setTimeout(()=>{const Vt=w.value.findIndex(Xn=>Xn.id===dn.id);Vt>-1&&w.value.splice(Vt,1)},2e3)}}if(r.value)try{await e.updateGameData({productionTotalClicks:Z.value,productionLevel:me.value})}catch(Ce){console.error("   :",Ce)}const Zt=Math.min(window.innerWidth||500,500),qt=window.innerHeight||800,On=220,Mn=ve>0?80:60,Bt=20,un=Math.round(fe());let Mt=`${n.value.productionComplete}
${ye.toLocaleString()} ${n.value.pointsEarned}`;un>0&&(Mt+=`
(NFT Bonus: +${un}%)`),ve>0&&(Mt+=`
${n.value.fragmentsEarned} ${ve} ${n.value.fragmentsEarnedCount}`);const st={id:Date.now(),text:Mt,x:Math.random()*(Zt-On-Bt*2)+Bt,y:Math.random()*(qt-Mn-Bt*2-200)+100};p.value.push(st),setTimeout(()=>{const Ce=p.value.findIndex(We=>We.id===st.id);Ce>-1&&p.value.splice(Ce,1)},3e3),setTimeout(()=>{xe.value=!1,ut.value=!0,at.value={points:0,fragments:0}},1500)}else{const J=Math.min(window.innerWidth||500,500),$=window.innerHeight||800,ue=220,ye=60,Le=20,Re={id:Date.now(),text:`${n.value.productionProgress}: ${ne.value}/10`,x:Math.random()*(J-ue-Le*2)+Le,y:Math.random()*($-ye-Le*2-200)+100};p.value.push(Re),setTimeout(()=>{const ve=p.value.findIndex(Xe=>Xe.id===Re.id);ve>-1&&p.value.splice(ve,1)},2e3)}}}};k(0),k(!1),k({stone:0,iron:0,gold:0,diamond:0});const R=k(4e3),x=k(4e3),N=k(1),j=k(0),ee=k(2e3),q=k(1),Ae=async()=>{if(j.value=Math.min(ee.value,j.value+50),j.value>=ee.value){if(i.value==="mining"?A.value++:i.value==="hunting"?T.value++:i.value==="exploration"?z.value++:i.value==="production"&&me.value++,j.value=0,r.value)try{const U={planetEnergy:j.value,miningLevel:A.value,huntingLevel:T.value,explorationLevel:z.value,productionLevel:me.value};await e.updateGameData(U)}catch(U){console.error("   :",U)}}else if(r.value)try{await e.updateGameData({planetEnergy:j.value})}catch(U){console.error("   :",U)}},ae=(U=N.value)=>R.value>=U?(R.value=Math.max(0,R.value-U),localStorage.setItem("currentEnergy",R.value.toString()),localStorage.setItem("energyLastDate",new Date().toDateString()),!0):!1,ge=U=>{try{return new URL(Object.assign({"../assets/img/cat1.png":La,"../assets/img/cat10.png":Oa,"../assets/img/cat11.png":Ma,"../assets/img/cat12.png":Fa,"../assets/img/cat13.png":Ua,"../assets/img/cat14.png":$a,"../assets/img/cat15.png":Ha,"../assets/img/cat16.png":Ga,"../assets/img/cat17.png":Qa,"../assets/img/cat18.png":Va,"../assets/img/cat19.png":Ka,"../assets/img/cat2.png":Wa,"../assets/img/cat20.png":ja,"../assets/img/cat21.png":Ja,"../assets/img/cat22.png":za,"../assets/img/cat23.png":Ya,"../assets/img/cat24.png":Xa,"../assets/img/cat25.png":Za,"../assets/img/cat26.png":qa,"../assets/img/cat27.png":el,"../assets/img/cat28.png":tl,"../assets/img/cat29.png":nl,"../assets/img/cat3.png":sl,"../assets/img/cat30.png":rl,"../assets/img/cat4.png":il,"../assets/img/cat5.png":ol,"../assets/img/cat6.png":al,"../assets/img/cat7.png":ll,"../assets/img/cat8.png":cl,"../assets/img/cat9.png":ul,"../assets/img/catPoint.png":dl,"../assets/img/catPointPlus.png":fl,"../assets/img/catProfile01.png":hl,"../assets/img/catProfile02.png":pl,"../assets/img/cat_ico.png":gl})[`../assets/img/cat${U}.png`],import.meta.url).href}catch{return`/src/assets/img/cat${U}.png`}},Ie=U=>{try{return new URL(Object.assign({"../assets/img/tul1.png":Tm,"../assets/img/tul2.png":Nm,"../assets/img/tul3.png":Rm,"../assets/img/tul5.png":Dm,"../assets/img/tul6.png":Lm})[`../assets/img/tul${U}.png`],import.meta.url).href}catch{return`/src/assets/img/tul${U}.png`}},Ue=U=>{const J=w.value.findIndex($=>$.id===U);J>-1&&w.value.splice(J,1)},Se=k([null,null,null,null]),$e=k(!1),He=k(-1),Tt=k([]),In=()=>{const U=new Set;return Se.value.forEach(J=>{J&&J.id&&U.add(J.id)}),At.value.forEach(J=>{J&&J.id&&U.add(J.id)}),Nt.value.forEach(J=>{J&&J.id&&U.add(J.id)}),Rt.value.forEach(J=>{J&&J.id&&U.add(J.id)}),U},Pn=()=>{const U=qe();if(U){const J=U.gameData?.inventory||[],$=In(),ue=Ss();ue&&ue.id&&$.delete(ue.id),Tt.value=J.filter(ye=>!$.has(ye.id))}else Tt.value=[]},Ss=()=>{const U=Xt.value,J=He.value;if(J<0||J>=4)return null;let $=null;return U==="mining"?$=Se.value:U==="hunting"?$=At.value:U==="exploration"?$=Nt.value:U==="production"&&($=Rt.value),$&&$[J]?$[J]:null},er=(U,J,$)=>{Xt.value=J,Pn(),He.value=U,$e.value=!0},Yt=async U=>{if(He.value>=0&&He.value<4){const J={id:U.id,level:U.level||1,stars:U.stars||1,imageId:U.imageId||U.id,name:U.name,miningEfficiency:U.miningEfficiency||0,huntingDamage:U.huntingDamage||0,explorationReward:U.explorationReward||0,productionSpeed:U.productionSpeed||0,rarity:U.rarity||null};let $=[];Xt.value==="mining"?$=Se.value:Xt.value==="hunting"?$=At.value:Xt.value==="exploration"?$=Nt.value:Xt.value==="production"&&($=Rt.value);const ue=$.findIndex((Le,Re)=>Le&&Le.id===U.id&&Re!==He.value);if(ue!==-1){$[ue]=null;const Le=Xt.value,Re=`${Le}_${ue}_${U.id}`;An.value[Le][Re]&&delete An.value[Le][Re]}if(Xt.value==="mining"?(Se.value[He.value]=J,Gt("mining")):Xt.value==="hunting"?(At.value[He.value]=J,Gt("hunting")):Xt.value==="exploration"?(Nt.value[He.value]=J,Gt("exploration")):Xt.value==="production"&&(Rt.value[He.value]=J,Gt("production")),qe())try{await e.updateGameData({miningCats:Se.value,huntingCats:At.value,explorationCats:Nt.value,productionCats:Rt.value})}catch(Le){console.error("   :",Le)}}$e.value=!1,He.value=-1,Xt.value="mining"},Bn=async()=>{if(He.value>=0&&He.value<4){const U=Xt.value;let J=[];U==="mining"?J=Se.value:U==="hunting"?J=At.value:U==="exploration"?J=Nt.value:U==="production"&&(J=Rt.value);const $=J[He.value];if(U==="mining"?(Se.value[He.value]=null,Gt("mining")):U==="hunting"?(At.value[He.value]=null,Gt("hunting")):U==="exploration"?(Nt.value[He.value]=null,Gt("exploration")):U==="production"&&(Rt.value[He.value]=null,Gt("production")),$&&$.id){const ye=`${U}_${He.value}_${$.id}`;An.value[U][ye]&&delete An.value[U][ye]}if(qe())try{await e.updateGameData({miningCats:Se.value,huntingCats:At.value,explorationCats:Nt.value,productionCats:Rt.value})}catch(ye){console.error("   :",ye)}}$e.value=!1,He.value=-1,Xt.value="mining"},gi=()=>{$e.value=!1,He.value=-1,Xt.value="mining"},At=k([null,null,null,null]),Nt=k([null,null,null,null]),Rt=k([null,null,null,null]),Xt=k("mining"),Ts=k({mining:null,hunting:null,exploration:null,production:null}),An=k({mining:{},hunting:{},exploration:{},production:{}}),Gt=U=>{Ts.value[U]&&(clearInterval(Ts.value[U]),Ts.value[U]=null);let J=[];U==="mining"?J=Se.value:U==="hunting"?J=At.value:U==="exploration"?J=Nt.value:U==="production"&&(J=Rt.value);const $=J.filter(ue=>ue!==null);$.length!==0&&($.forEach((ue,ye)=>{const Le=`${U}_${ye}_${ue.id}`;An.value[U][Le]||(An.value[U][Le]=0)}),Ts.value[U]=setInterval(async()=>{let ue=[];U==="mining"?ue=Se.value:U==="hunting"?ue=At.value:U==="exploration"?ue=Nt.value:U==="production"&&(ue=Rt.value);const ye=ue.filter(Xe=>Xe!==null);if(ye.length===0){ku(U);return}const Re={mining:n.value.mining,hunting:n.value.hunting,exploration:n.value.exploration,production:n.value.production}[U]||"";let ve=[];U==="mining"?ve=Se.value:U==="hunting"?ve=At.value:U==="exploration"?ve=Nt.value:U==="production"&&(ve=Rt.value);for(const Xe of ye){const Zt=ve.findIndex(Ce=>Ce&&Ce.id===Xe.id);if(Zt===-1)continue;const qt=`${U}_${Zt}_${Xe.id}`;An.value[U][qt]||(An.value[U][qt]=0),An.value[U][qt]+=1;const On=An.value[U][qt],Mn=Math.min(window.innerWidth||500,500),Bt=window.innerHeight||800,un=220,Mt=60,st=20;if(On>=10){let Ce=1;U==="mining"?Ce=A.value:U==="hunting"?Ce=T.value:U==="exploration"?Ce=z.value:U==="production"&&(Ce=me.value);const We=100,Fn=lt(Ce);let yn=0;U==="mining"?yn=G()/100:U==="hunting"?yn=le()/100:U==="exploration"?yn=se()/100:U==="production"&&(yn=fe()/100);const Yn=Math.floor(We*Fn*(1+yn)),Qt=o.value+Yn;o.value=Qt,a.value=Qt,await f(Qt),An.value[U][qt]=0;let xt=[];U==="mining"?xt=Se.value:U==="hunting"?xt=At.value:U==="exploration"?xt=Nt.value:U==="production"&&(xt=Rt.value),await ke(xt,10),await consumePlanetEnergy();const dn=Math.random();let Vt=0;if(dn<.3?Vt=1:dn<.4&&(Vt=2),Vt>0){const Xn=u.value+Vt;if(await h(Xn),i.value===U)for(let Tr=0;Tr<Vt;Tr++){const vl=Math.floor(Math.random()*6)+1,Su=60,Al=30,Tu={id:Date.now()+Tr+Zt*1e3,x:Math.random()*(Mn-Su-Al*2)+Al,y:Math.random()*(Bt-Su-Al*2-200)+100,imageId:vl};w.value.push(Tu),setTimeout(()=>{const Nu=w.value.findIndex(Km=>Km.id===Tu.id);Nu>-1&&w.value.splice(Nu,1)},2e3)}}if(i.value===U){const Xn={id:Date.now()+Zt+Xe.id*1e4,text:`${Re} ${n.value.complete}! 100 ${n.value.coin} ${n.value.earned}!`,x:Math.random()*(Mn-un-st*2)+st,y:Math.random()*(Bt-Mt-st*2-200)+100};p.value.push(Xn),setTimeout(()=>{const Tr=p.value.findIndex(vl=>vl.id===Xn.id);Tr>-1&&p.value.splice(Tr,1)},3e3)}}else if(i.value===U){const Ce={id:Date.now()+Zt+Xe.id*1e3+On*100,text:`${Re} ${n.value.progress}: ${On}/10`,x:Math.random()*(Mn-un-st*2)+st,y:Math.random()*(Bt-Mt-st*2-200)+100};p.value.push(Ce),setTimeout(()=>{const We=p.value.findIndex(Fn=>Fn.id===Ce.id);We>-1&&p.value.splice(We,1)},2e3)}}},1e3))},ku=U=>{Ts.value[U]&&(clearInterval(Ts.value[U]),Ts.value[U]=null)},Vm=()=>{Object.keys(Ts.value).forEach(U=>{ku(U)})};return ws(o,U=>{a.value=U}),ws([Se,At,Nt,Rt],()=>{["mining","hunting","exploration","production"].forEach(J=>{let $=[];J==="mining"?$=Se.value:J==="hunting"?$=At.value:J==="exploration"?$=Nt.value:J==="production"&&($=Rt.value);const ue=$.map((ye,Le)=>ye?`${J}_${Le}_${ye.id}`:null).filter(ye=>ye!==null);Object.keys(An.value[J]).forEach(ye=>{ue.includes(ye)||delete An.value[J][ye]})}),Gt("mining"),Gt("hunting"),Gt("exploration"),Gt("production")},{deep:!0}),k(0),k(!1),k([{name:"",level:1,hp:100,maxHp:100,exp:10,gold:5},{name:"",level:2,hp:150,maxHp:150,exp:20,gold:10},{name:"",level:3,hp:200,maxHp:200,exp:35,gold:20}]),k(null),k({level:1,exp:0,maxExp:100,hp:100,maxHp:100,attack:20}),k(0),k(!1),k(null),k([{name:" ",level:1,difficulty:"",rewards:["","",""],description:"      .",discovered:!0},{name:" ",level:2,difficulty:"",rewards:[" ","",""],description:"    .",discovered:!1},{name:" ",level:3,difficulty:"",rewards:[" "," "," "],description:"    .",discovered:!1}]),k({wood:0,fruit:0,herb:0,artifact:0,magicStone:0,gem:0,dragonScale:0,manaCrystal:0,rareGem:0}),k(0),k(!1),k(null),k({wood:10,stone:5,iron:3,gold:1,diamond:0,herb:8,fruit:12}),k([{id:"woodenSword",name:" ",level:1,materials:{wood:5,stone:2},result:{woodenSword:1},time:30,description:"  ."},{id:"ironSword",name:" ",level:2,materials:{wood:3,iron:5,stone:3},result:{ironSword:1},time:60,description:"  ."},{id:"healthPotion",name:" ",level:1,materials:{herb:3,fruit:2},result:{healthPotion:1},time:20,description:"  ."}]),k({woodenSword:0,ironSword:0,healthPotion:0}),(U,J)=>(I(),P("div",z_,[Be(Jt,{coinCount:o.value,currentEnergy:R.value,maxEnergy:x.value,totalCoin:l.value,catCount:U.catCount},null,8,["coinCount","currentEnergy","maxEnergy","totalCoin","catCount"]),c("main",Y_,[c("div",X_,[c("button",{class:Ee(["modeTab",{active:i.value==="mining"}]),onClick:J[0]||(J[0]=$=>C("mining"))},[c("img",{src:i.value==="mining"?Pe($_):Pe(H_),alt:"Mining",class:"modeTabIcon"},null,8,Z_),c("span",q_,"Lv."+g(A.value),1)],2),c("button",{class:Ee(["modeTab",{active:i.value==="hunting"}]),onClick:J[1]||(J[1]=$=>C("hunting"))},[c("img",{src:i.value==="hunting"?Pe(G_):Pe(Q_),alt:"Hunting",class:"modeTabIcon"},null,8,e2),c("span",t2,"Lv."+g(T.value),1)],2),c("button",{class:Ee(["modeTab",{active:i.value==="exploration"}]),onClick:J[2]||(J[2]=$=>C("exploration"))},[c("img",{src:i.value==="exploration"?Pe(V_):Pe(K_),alt:"Exploration",class:"modeTabIcon"},null,8,n2),c("span",s2,"Lv."+g(z.value),1)],2),c("button",{class:Ee(["modeTab",{active:i.value==="production"}]),onClick:J[3]||(J[3]=$=>C("production"))},[c("img",{src:i.value==="production"?Pe(W_):Pe(j_),alt:"Production",class:"modeTabIcon"},null,8,r2),c("span",i2,"Lv."+g(me.value),1)],2)]),c("div",o2,[c("div",a2,g(d.value),1),c("div",l2,[(I(!0),P(we,null,De(m.value,$=>(I(),P("div",{key:$.id,class:"pointAnimation",style:Ye({left:$.x+"%",top:$.y+"%"})}," +"+g(Pe(Lo)($.points)),5))),128))]),c("div",c2,[c("div",u2,[c("img",{src:Pe(J_),alt:"Energy",class:"energyIcon"},null,8,d2),c("div",f2,[c("div",{class:"energyFill",style:Ye({height:j.value/ee.value*100+"%"})},null,4)]),c("span",h2,g(j.value.toLocaleString())+"/"+g(ee.value.toLocaleString()),1)]),c("div",p2,[i.value==="mining"?(I(),P(we,{key:0},[L.value&&!_.value?(I(),P("button",{key:0,onClick:J[4]||(J[4]=$=>Q("mining")),class:Ee(["clickerBtn miningBtn",{"mining-active":v.value>0}])},null,2)):re("",!0),_.value?(I(),P("div",g2,[c("div",m2,g(n.value.miningComplete),1),c("div",v2,[c("div",A2,g(H.value.points.toLocaleString())+" "+g(n.value.pointsEarned),1),H.value.fragments>0?(I(),P("div",y2,g(n.value.fragmentsEarned)+" "+g(H.value.fragments)+" "+g(n.value.fragmentsEarnedCount),1)):re("",!0)])])):re("",!0)],64)):re("",!0),i.value==="hunting"?(I(),P(we,{key:1},[oe.value&&!W.value?(I(),P("button",{key:0,onClick:J[5]||(J[5]=$=>Q("hunting")),class:Ee(["clickerBtn huntingBtn",{"hunting-active":F.value>0}])},null,2)):re("",!0),W.value?(I(),P("div",w2,[c("div",b2,g(n.value.huntingComplete),1),c("div",C2,[c("div",E2,g(te.value.points.toLocaleString())+" "+g(n.value.pointsEarned),1),te.value.fragments>0?(I(),P("div",_2,g(n.value.fragmentsEarned)+" "+g(te.value.fragments)+" "+g(n.value.fragmentsEarnedCount),1)):re("",!0)])])):re("",!0)],64)):re("",!0),i.value==="exploration"?(I(),P(we,{key:2},[D.value&&!M.value?(I(),P("button",{key:0,onClick:J[6]||(J[6]=$=>Q("exploration")),class:Ee(["clickerBtn explorationBtn",{"exploration-active":V.value>0}])},null,2)):re("",!0),M.value?(I(),P("div",x2,[c("div",I2,g(n.value.explorationComplete),1),c("div",P2,[c("div",B2,g(X.value.points.toLocaleString())+" "+g(n.value.pointsEarned),1),X.value.fragments>0?(I(),P("div",k2,g(n.value.fragmentsEarned)+" "+g(X.value.fragments)+" "+g(n.value.fragmentsEarnedCount),1)):re("",!0)])])):re("",!0)],64)):re("",!0),i.value==="production"?(I(),P(we,{key:3},[ut.value&&!xe.value?(I(),P("button",{key:0,onClick:J[7]||(J[7]=$=>Q("production")),class:Ee(["clickerBtn productionBtn",{"production-active":ne.value>0}])},null,2)):re("",!0),xe.value?(I(),P("div",S2,[c("div",T2,g(n.value.productionComplete),1),c("div",N2,[c("div",R2,g(at.value.points.toLocaleString())+" "+g(n.value.pointsEarned),1),at.value.fragments>0?(I(),P("div",D2,g(n.value.fragmentsEarned)+" "+g(at.value.fragments)+" "+g(n.value.fragmentsEarnedCount),1)):re("",!0)])])):re("",!0)],64)):re("",!0)])])]),c("div",L2,[c("div",O2,[i.value==="mining"?(I(!0),P(we,{key:0},De(Se.value,($,ue)=>(I(),P("div",{key:ue,class:Ee(["catCard",{emptySlot:!$,working:$&&i.value==="mining"}]),onClick:ye=>er(ue,"mining")},[$?(I(),P("div",F2,[c("img",{src:ge($.imageId),alt:"Cat"},null,8,U2)])):re("",!0),$?re("",!0):(I(),P("div",$2,[c("img",{src:Pe(Io),alt:"+",class:"emptySlotIcon"},null,8,H2)]))],10,M2))),128)):re("",!0),i.value==="hunting"?(I(!0),P(we,{key:1},De(At.value,($,ue)=>(I(),P("div",{key:ue,class:Ee(["catCard",{emptySlot:!$,working:$&&i.value==="hunting"}]),onClick:ye=>er(ue,"hunting")},[$?(I(),P("div",Q2,[c("img",{src:ge($.imageId),alt:"Cat"},null,8,V2)])):re("",!0),$?re("",!0):(I(),P("div",K2,[c("img",{src:Pe(Io),alt:"+",class:"emptySlotIcon"},null,8,W2)]))],10,G2))),128)):re("",!0),i.value==="exploration"?(I(!0),P(we,{key:2},De(Nt.value,($,ue)=>(I(),P("div",{key:ue,class:Ee(["catCard",{emptySlot:!$,working:$&&i.value==="exploration"}]),onClick:ye=>er(ue,"exploration")},[$?(I(),P("div",J2,[c("img",{src:ge($.imageId),alt:"Cat"},null,8,z2)])):re("",!0),$?re("",!0):(I(),P("div",Y2,[c("img",{src:Pe(Io),alt:"+",class:"emptySlotIcon"},null,8,X2)]))],10,j2))),128)):re("",!0),i.value==="production"?(I(!0),P(we,{key:3},De(Rt.value,($,ue)=>(I(),P("div",{key:ue,class:Ee(["catCard",{emptySlot:!$,working:$&&i.value==="production"}]),onClick:ye=>er(ue,"production")},[$?(I(),P("div",q2,[c("img",{src:ge($.imageId),alt:"Cat"},null,8,ex)])):re("",!0),$?re("",!0):(I(),P("div",tx,[c("img",{src:Pe(Io),alt:"+",class:"emptySlotIcon"},null,8,nx)]))],10,Z2))),128)):re("",!0)])])]),Be(zt),c("div",sx,[(I(!0),P(we,null,De(p.value,$=>(I(),P("div",{key:$.id,class:"speechBubble",style:Ye({left:$.x+"px",top:$.y+"px",transform:"translateX(-50%)"})},g($.text),5))),128))]),c("div",rx,[(I(!0),P(we,null,De(w.value,$=>(I(),P("div",{key:$.id,class:"catEmoji",style:Ye({left:$.x+"px",top:$.y+"px"})},[c("img",{src:Ie($.imageId),alt:"",class:"tulImage",onError:ue=>Ue($.id)},null,40,ix)],4))),128))]),$e.value?(I(),P("div",{key:0,class:"catSelectPopupOverlay",onClick:gi},[c("div",{class:"catSelectPopupContent",onClick:J[8]||(J[8]=hn(()=>{},["stop"]))},[c("div",ox,[c("h3",null,g(n.value.selectCat),1),c("button",{class:"closePopupBtn",onClick:gi},"")]),c("div",ax,[Ss()?(I(),P("div",lx,[c("button",{class:"removeCatBtn",onClick:Bn},g(n.value.removeCat),1)])):re("",!0),c("div",cx,[(I(!0),P(we,null,De(Tt.value,$=>(I(),P("div",{key:$.id,class:"availableCatCard",onClick:ue=>Yt($)},[c("div",dx,[c("img",{src:ge($.imageId||$.id),alt:"Cat"},null,8,fx)]),c("div",hx,[c("div",px,g($.name),1),c("div",gx,"Lv "+g(String($.level||1).padStart(2,"0")),1),c("div",mx,[(I(!0),P(we,null,De($.stars||1,ue=>(I(),P("span",{key:ue,class:"star"},""))),128))])])],8,ux))),128))])])])])):re("",!0)]))}},Ax=_t(vx,[["__scopeId","data-v-369d6c28"]]),yx={class:"miningPage"},wx={class:"mainContent"},bx={class:"miningContainer"},Cx={class:"pageHeader"},Ex={class:"levelInfo"},_x={class:"miningProgress"},xx={class:"progressBar"},Ix={class:"progressText"},Px=["disabled"],Bx={key:0},kx={key:1},Sx={class:"resources"},Tx={class:"resourceList"},Nx={class:"resourceItem"},Rx={class:"resourceItem"},Dx={class:"resourceItem"},Lx={class:"resourceItem"},Ox={__name:"MiningPage",setup(t){const e=Ht(),n=Et(),s=ie(()=>n.state.coins),r=ie(()=>vn());ct(()=>{n.loadCurrentUser();const d=()=>{n.loadCurrentUser()};window.addEventListener("userDataUpdated",d),Ct(()=>{window.removeEventListener("userDataUpdated",d)})});const i=k(1),o=k(0),a=k(!1),l=k({stone:0,iron:0,gold:0,diamond:0}),u=()=>{if(a.value)return;a.value=!0,o.value=0;const d=setInterval(()=>{if(o.value+=10,o.value>=100){clearInterval(d),a.value=!1,o.value=0;const f=Math.random();f<.4?l.value.stone++:f<.7?l.value.iron++:f<.9?l.value.gold++:l.value.diamond++}},200)};return(d,f)=>(I(),P("div",yx,[Be(Jt,{coinCount:s.value},null,8,["coinCount"]),c("main",wx,[c("div",bx,[c("div",Cx,[c("button",{class:"backBtn",onClick:f[0]||(f[0]=h=>Pe(e).push("/main"))},g(r.value.back),1),c("h2",null," "+g(r.value.mining),1)]),c("div",Ex,[c("span",null,g(r.value.miningLevel)+": "+g(i.value),1)]),c("div",_x,[c("div",xx,[c("div",{class:"progressFill",style:Ye({width:o.value+"%"})},null,4)]),c("span",Ix,g(o.value)+"%",1)]),c("button",{class:Ee(["miningBtn",{mining:a.value}]),onClick:u,disabled:a.value},[a.value?(I(),P("span",kx," "+g(r.value.miningInProgress),1)):(I(),P("span",Bx," "+g(r.value.miningStart),1))],10,Px),c("div",Sx,[c("h3",null,g(r.value.ownedResources),1),c("div",Tx,[c("div",Nx,[c("span",null," "+g(r.value.stone),1),c("span",null,g(l.value.stone),1)]),c("div",Rx,[c("span",null," "+g(r.value.iron),1),c("span",null,g(l.value.iron),1)]),c("div",Dx,[c("span",null," "+g(r.value.gold),1),c("span",null,g(l.value.gold),1)]),c("div",Lx,[c("span",null," "+g(r.value.diamond),1),c("span",null,g(l.value.diamond),1)])])])])]),Be(zt)]))}},Mx=_t(Ox,[["__scopeId","data-v-cea6a28a"]]),Fx={class:"huntingPage"},Ux={class:"mainContent"},$x={class:"huntingContainer"},Hx={class:"pageHeader"},Gx={class:"playerStats"},Qx={class:"statsGrid"},Vx={class:"statItem"},Kx={class:"statItem"},Wx={class:"statItem"},jx={class:"statItem"},Jx={class:"monsterSelection"},zx={class:"monsterList"},Yx=["onClick"],Xx={class:"monsterInfo"},Zx={class:"monsterName"},qx={class:"monsterLevel"},eI={class:"monsterRewards"},tI={key:0,class:"currentMonster"},nI={class:"monsterHp"},sI={class:"hpBar"},rI={class:"hpText"},iI={class:"huntingProgress"},oI={class:"progressBar"},aI={class:"progressText"},lI=["disabled"],cI={key:0},uI={key:1},dI={__name:"HuntingPage",setup(t){const e=Ht(),n=Et(),s=ie(()=>n.state.coins);ct(()=>{n.loadCurrentUser();const f=()=>{n.loadCurrentUser()};window.addEventListener("userDataUpdated",f),Ct(()=>{window.removeEventListener("userDataUpdated",f)})}),k(1);const r=k(0),i=k(!1),o=k([{name:"",level:1,hp:100,maxHp:100,exp:10,gold:5},{name:"",level:2,hp:150,maxHp:150,exp:20,gold:10},{name:"",level:3,hp:200,maxHp:200,exp:35,gold:20}]),a=k(null),l=k({level:1,exp:0,maxExp:100,hp:100,maxHp:100,attack:20}),u=f=>{a.value={...f}},d=()=>{if(!a.value||i.value)return;i.value=!0,r.value=0;const f=setInterval(()=>{const h=Math.floor(Math.random()*l.value.attack)+10;a.value.hp-=h,a.value.hp<=0?(clearInterval(f),i.value=!1,r.value=100,l.value.exp+=a.value.exp,l.value.hp=l.value.maxHp,l.value.exp>=l.value.maxExp&&(l.value.level++,l.value.exp=0,l.value.maxExp=Math.floor(l.value.maxExp*1.5),l.value.attack+=5,l.value.maxHp+=20,l.value.hp=l.value.maxHp),setTimeout(()=>{a.value=null,r.value=0},2e3)):r.value=(a.value.maxHp-a.value.hp)/a.value.maxHp*100},500)};return(f,h)=>(I(),P("div",Fx,[Be(Jt,{coinCount:s.value},null,8,["coinCount"]),c("main",Ux,[c("div",$x,[c("div",Hx,[c("button",{class:"backBtn",onClick:h[0]||(h[0]=p=>Pe(e).push("/main"))}," "),h[1]||(h[1]=c("h2",null," ",-1))]),c("div",Gx,[h[6]||(h[6]=c("h3",null," ",-1)),c("div",Qx,[c("div",Vx,[h[2]||(h[2]=c("span",null,"",-1)),c("span",null,g(l.value.level),1)]),c("div",Kx,[h[3]||(h[3]=c("span",null,"",-1)),c("span",null,g(l.value.hp)+"/"+g(l.value.maxHp),1)]),c("div",Wx,[h[4]||(h[4]=c("span",null,"",-1)),c("span",null,g(l.value.attack),1)]),c("div",jx,[h[5]||(h[5]=c("span",null,"",-1)),c("span",null,g(l.value.exp)+"/"+g(l.value.maxExp),1)])])]),c("div",Jx,[h[7]||(h[7]=c("h3",null," ",-1)),c("div",zx,[(I(!0),P(we,null,De(o.value,p=>(I(),P("div",{key:p.name,class:Ee(["monsterCard",{selected:a.value?.name===p.name}]),onClick:w=>u(p)},[c("div",Xx,[c("span",Zx,g(p.name),1),c("span",qx,"Lv."+g(p.level),1)]),c("div",eI,[c("span",null,"EXP: "+g(p.exp),1),c("span",null,"Gold: "+g(p.gold),1)])],10,Yx))),128))])]),a.value?(I(),P("div",tI,[c("h3",null,g(a.value.name)+" (Lv."+g(a.value.level)+")",1),c("div",nI,[c("div",sI,[c("div",{class:"hpFill",style:Ye({width:a.value.hp/a.value.maxHp*100+"%"})},null,4)]),c("span",rI,g(a.value.hp)+"/"+g(a.value.maxHp),1)]),c("div",iI,[c("div",oI,[c("div",{class:"progressFill",style:Ye({width:r.value+"%"})},null,4)]),c("span",aI,g(Math.floor(r.value))+"%",1)]),c("button",{class:Ee(["huntingBtn",{hunting:i.value}]),onClick:d,disabled:i.value},[i.value?(I(),P("span",uI,"  ...")):(I(),P("span",cI,"  "))],10,lI)])):re("",!0)])]),Be(zt)]))}},fI=_t(dI,[["__scopeId","data-v-a71dac33"]]),hI={class:"explorationPage"},pI={class:"mainContent"},gI={class:"explorationContainer"},mI={class:"pageHeader"},vI={class:"levelInfo"},AI={class:"locationSelection"},yI={class:"locationList"},wI=["onClick"],bI={class:"locationInfo"},CI={class:"locationHeader"},EI={class:"locationName"},_I={class:"locationLevel"},xI={class:"locationDifficulty"},II={class:"locationDescription"},PI={class:"locationRewards"},BI={key:0,class:"undiscoveredOverlay"},kI={key:0,class:"currentExploration"},SI={class:"explorationProgress"},TI={class:"progressBar"},NI={class:"progressText"},RI=["disabled"],DI={key:0},LI={key:1},OI={class:"explorationRewards"},MI={class:"rewardsGrid"},FI={class:"rewardIcon"},UI={class:"rewardAmount"},$I={__name:"ExplorationPage",setup(t){const e=Ht(),n=Et(),s=ie(()=>n.state.coins);ct(()=>{n.loadCurrentUser();const h=()=>{n.loadCurrentUser()};window.addEventListener("userDataUpdated",h),Ct(()=>{window.removeEventListener("userDataUpdated",h)})});const r=k(1),i=k(0),o=k(!1),a=k(null);k([]);const l=k([{name:" ",level:1,difficulty:"",rewards:["","",""],description:"      .",discovered:!0},{name:" ",level:2,difficulty:"",rewards:[" ","",""],description:"    .",discovered:!1},{name:" ",level:3,difficulty:"",rewards:[" "," "," "],description:"    .",discovered:!1},{name:" ",level:4,difficulty:" ",rewards:[""," "," "],description:"    .",discovered:!1}]),u=k({wood:0,fruit:0,herb:0,artifact:0,magicStone:0,gem:0,dragonScale:0,manaCrystal:0,rareGem:0,skyStone:0,mysteriousEnergy:0,legendaryItem:0}),d=h=>{h.discovered&&(a.value=h)},f=()=>{if(!a.value||o.value)return;o.value=!0,i.value=0;const h=setInterval(()=>{if(i.value+=5,i.value>=100){clearInterval(h),o.value=!1,i.value=0;const p=Math.floor(Math.random()*a.value.rewards.length),w=a.value.rewards[p],m={:"wood",:"fruit",:"herb"," ":"artifact",:"magicStone",:"gem"," ":"dragonScale"," ":"manaCrystal"," ":"rareGem",:"skyStone"," ":"mysteriousEnergy"," ":"legendaryItem"};if(m[w]&&u.value[m[w]]++,Math.random()<.3){const y=l.value.find(v=>!v.discovered);y&&(y.discovered=!0)}r.value++,setTimeout(()=>{a.value=null},2e3)}},300)};return(h,p)=>(I(),P("div",hI,[Be(Jt,{coinCount:s.value},null,8,["coinCount"]),c("main",pI,[c("div",gI,[c("div",mI,[c("button",{class:"backBtn",onClick:p[0]||(p[0]=w=>Pe(e).push("/main"))}," "),p[1]||(p[1]=c("h2",null," ",-1))]),c("div",vI,[c("span",null," : "+g(r.value),1)]),c("div",AI,[p[3]||(p[3]=c("h3",null," ",-1)),c("div",yI,[(I(!0),P(we,null,De(l.value,w=>(I(),P("div",{key:w.name,class:Ee(["locationCard",{selected:a.value?.name===w.name,undiscovered:!w.discovered}]),onClick:m=>d(w)},[c("div",bI,[c("div",CI,[c("span",EI,g(w.name),1),c("span",_I,"Lv."+g(w.level),1)]),c("span",xI,g(w.difficulty),1),c("p",II,g(w.description),1),c("div",PI,[(I(!0),P(we,null,De(w.rewards,m=>(I(),P("span",{key:m,class:"rewardTag"},g(m),1))),128))])]),w.discovered?re("",!0):(I(),P("div",BI,[...p[2]||(p[2]=[c("span",null," ",-1)])]))],10,wI))),128))])]),a.value?(I(),P("div",kI,[c("h3",null,g(a.value.name)+"  ",1),c("div",SI,[c("div",TI,[c("div",{class:"progressFill",style:Ye({width:i.value+"%"})},null,4)]),c("span",NI,g(i.value)+"%",1)]),c("button",{class:Ee(["explorationBtn",{exploring:o.value}]),onClick:f,disabled:o.value},[o.value?(I(),P("span",LI,"  ...")):(I(),P("span",DI,"  "))],10,RI)])):re("",!0),c("div",OI,[p[4]||(p[4]=c("h3",null," ",-1)),c("div",MI,[(I(!0),P(we,null,De(u.value,(w,m)=>It((I(),P("div",{key:m,class:"rewardItem"},[c("span",FI,g(m==="wood"?"":m==="fruit"?"":m==="herb"?"":m==="artifact"?"":m==="magicStone"||m==="gem"?"":m==="dragonScale"?"":m==="manaCrystal"?"":m==="rareGem"?"":m==="skyStone"?"":m==="mysteriousEnergy"?"":m==="legendaryItem"?"":""),1),c("span",UI,g(w),1)])),[[bp,w>0]])),128))])])])]),Be(zt)]))}},HI=_t($I,[["__scopeId","data-v-588d2c1d"]]),GI={class:"productionPage"},QI={class:"mainContent"},VI={class:"productionContainer"},KI={class:"pageHeader"},WI={class:"levelInfo"},jI={class:"inventory"},JI={class:"inventoryGrid"},zI={class:"materialIcon"},YI={class:"materialName"},XI={class:"materialAmount"},ZI={class:"recipes"},qI={class:"recipeList"},eP=["onClick"],tP={class:"recipeInfo"},nP={class:"recipeHeader"},sP={class:"recipeName"},rP={class:"recipeLevel"},iP={class:"recipeDescription"},oP={class:"recipeMaterials"},aP={class:"recipeTime"},lP={key:0,class:"currentProduction"},cP={class:"productionProgress"},uP={class:"progressBar"},dP={class:"progressText"},fP=["disabled"],hP={key:0},pP={key:1},gP={class:"producedItems"},mP={class:"itemsGrid"},vP={class:"itemIcon"},AP={class:"itemName"},yP={class:"itemAmount"},wP={__name:"ProductionPage",setup(t){const e=Ht(),n=Et(),s=ie(()=>n.state.coins);ct(()=>{n.loadCurrentUser();const w=()=>{n.loadCurrentUser()};window.addEventListener("userDataUpdated",w),Ct(()=>{window.removeEventListener("userDataUpdated",w)})});const r=k(1),i=k(0),o=k(!1),a=k(null),l=k({wood:10,stone:5,iron:3,gold:1,diamond:0,herb:8,fruit:12}),u=k([{id:"woodenSword",name:" ",level:1,materials:{wood:5,stone:2},result:{woodenSword:1},time:30,description:"  ."},{id:"ironSword",name:" ",level:2,materials:{wood:3,iron:5,stone:3},result:{ironSword:1},time:60,description:"  ."},{id:"goldenSword",name:" ",level:3,materials:{iron:3,gold:8,diamond:1},result:{goldenSword:1},time:120,description:"   ."},{id:"healthPotion",name:" ",level:1,materials:{herb:3,fruit:2},result:{healthPotion:1},time:20,description:"  ."},{id:"manaPotion",name:" ",level:2,materials:{herb:5,fruit:3,stone:1},result:{manaPotion:1},time:40,description:"  ."},{id:"magicRing",name:" ",level:3,materials:{gold:5,diamond:2,herb:4},result:{magicRing:1},time:90,description:"  ."}]),d=k({woodenSword:0,ironSword:0,goldenSword:0,healthPotion:0,manaPotion:0,magicRing:0}),f=w=>{Object.entries(w.materials).every(([y,v])=>l.value[y]>=v)&&w.level<=r.value&&(a.value=w)},h=()=>{if(!a.value||o.value)return;Object.entries(a.value.materials).forEach(([m,y])=>{l.value[m]-=y}),o.value=!0,i.value=0;const w=setInterval(()=>{i.value+=100/(a.value.time/.1),i.value>=100&&(clearInterval(w),o.value=!1,i.value=0,Object.entries(a.value.result).forEach(([m,y])=>{d.value[m]+=y}),Math.random()<.1&&r.value++,setTimeout(()=>{a.value=null},2e3))},100)},p=w=>Object.entries(w.materials).every(([y,v])=>l.value[y]>=v)&&w.level<=r.value;return(w,m)=>(I(),P("div",GI,[Be(Jt,{coinCount:s.value},null,8,["coinCount"]),c("main",QI,[c("div",VI,[c("div",KI,[c("button",{class:"backBtn",onClick:m[0]||(m[0]=y=>Pe(e).push("/main"))}," "),m[1]||(m[1]=c("h2",null," ",-1))]),c("div",WI,[c("span",null," : "+g(r.value),1)]),c("div",jI,[m[2]||(m[2]=c("h3",null," ",-1)),c("div",JI,[(I(!0),P(we,null,De(l.value,(y,v)=>(I(),P("div",{key:v,class:"inventoryItem"},[c("span",zI,g(v==="wood"?"":v==="stone"?"":v==="iron"?"":v==="gold"?"":v==="diamond"?"":v==="herb"?"":v==="fruit"?"":""),1),c("span",YI,g(v),1),c("span",XI,g(y),1)]))),128))])]),c("div",ZI,[m[3]||(m[3]=c("h3",null," ",-1)),c("div",qI,[(I(!0),P(we,null,De(u.value,y=>(I(),P("div",{key:y.id,class:Ee(["recipeCard",{selected:a.value?.id===y.id,disabled:!p(y)}]),onClick:v=>f(y)},[c("div",tP,[c("div",nP,[c("span",sP,g(y.name),1),c("span",rP,"Lv."+g(y.level),1)]),c("p",iP,g(y.description),1),c("div",oP,[(I(!0),P(we,null,De(y.materials,(v,b)=>(I(),P("span",{key:b,class:"materialTag"},g(b)+" x"+g(v),1))),128))]),c("div",aP,[c("span",null," "+g(y.time)+"",1)])])],10,eP))),128))])]),a.value?(I(),P("div",lP,[c("h3",null,g(a.value.name)+"  ",1),c("div",cP,[c("div",uP,[c("div",{class:"progressFill",style:Ye({width:i.value+"%"})},null,4)]),c("span",dP,g(Math.floor(i.value))+"%",1)]),c("button",{class:Ee(["productionBtn",{producing:o.value}]),onClick:h,disabled:o.value},[o.value?(I(),P("span",pP,"  ...")):(I(),P("span",hP,"  "))],10,fP)])):re("",!0),c("div",gP,[m[4]||(m[4]=c("h3",null," ",-1)),c("div",mP,[(I(!0),P(we,null,De(d.value,(y,v)=>It((I(),P("div",{key:v,class:"itemCard"},[c("span",vP,g(v==="woodenSword"?"":v==="ironSword"?"":v==="goldenSword"?"":v==="healthPotion"?"":v==="manaPotion"?"":v==="magicRing"?"":""),1),c("span",AP,g(v),1),c("span",yP,g(y),1)])),[[bp,y>0]])),128))])])])]),Be(zt)]))}},bP=_t(wP,[["__scopeId","data-v-61ce148b"]]),qf="data:image/png;base64,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",CP={class:"exchangePage"},EP={class:"mainContent"},_P={class:"contentWrapper"},xP={class:"tabButtons"},IP={class:"tradeSection"},PP={class:"sectionTitle"},BP={class:"exchangeDisplay"},kP={class:"exchangeItem"},SP={class:"exchangeItem"},TP={class:"exchangeValue"},NP=["disabled"],RP={class:"tradeSection"},DP={class:"sectionTitle"},LP={class:"exchangeDisplay"},OP={class:"exchangeItem"},MP={class:"exchangeItem"},FP={class:"exchangeValue"},UP=["disabled"],eh=1e3,$P={__name:"ExchangePage",setup(t){const e=Ht(),n=Et(),s=ie(()=>vn()),r=k("exchange"),i=ie(()=>n.state.coins),o=ie(()=>n.state.totalCoin),a=k(null),l=k(""),u=k(""),d=ie(()=>{if(!l.value)return 0;const y=parseFloat(l.value)||0;return Math.floor(y/eh)}),f=ie(()=>{if(!u.value)return 0;const y=parseFloat(u.value)||0;return Math.floor(y*eh)}),h=()=>{const y=qe();y&&(a.value=y),n.loadCurrentUser()},p=async()=>{if(!a.value){alert(s.value.loginRequired);return}if(!l.value||parseFloat(l.value)<=0){alert("Please enter the point amount.");return}const y=parseFloat(l.value),v=d.value;if(i.value<y){alert(`${s.value.insufficientPoints}
Required: ${y.toLocaleString()} Point
Owned: ${i.value.toLocaleString()} Point`);return}if(v<=0){alert("Not enough points to buy at least 1 coin.");return}const b=i.value-y,A=o.value+v;await n.updateMultiple({coins:b,totalCoin:A})?(alert(`${s.value.purchaseSuccess}
${v} ${s.value.coin} ${s.value.buy}
${s.value.pointUsed}: ${y.toLocaleString()}`),l.value=""):alert(s.value.tradeFailed)},w=async()=>{if(!a.value){alert(s.value.loginRequired);return}if(!u.value||parseFloat(u.value)<=0){alert("Please enter the coin amount.");return}const y=parseFloat(u.value),v=y;if(o.value<v){alert(`${s.value.insufficientCoins}
Required: ${y} ${s.value.coin}
Owned: ${o.value.toLocaleString()} ${s.value.coin}`);return}const b=f.value,A=i.value+b,_=o.value-v;await n.updateMultiple({coins:A,totalCoin:_})?(alert(`${s.value.tradeSuccess}
${y} ${s.value.coin} ${s.value.sell}
${s.value.pointReceived}: ${b.toLocaleString()}`),u.value=""):alert(s.value.tradeFailed)};ct(()=>{h();const y=()=>{n.loadCurrentUser()};window.addEventListener("userDataUpdated",y),Ct(()=>{window.removeEventListener("userDataUpdated",y)})});const m=y=>{y==="exchange"?r.value="exchange":y==="catcraft"&&e.push("/factory")};return(y,v)=>(I(),P("div",CP,[Be(Jt,{coinCount:i.value,hideRightIcons:!0},null,8,["coinCount"]),c("main",EP,[c("div",_P,[c("div",xP,[c("button",{class:Ee(["tabButton",{active:r.value==="exchange"}]),onClick:v[0]||(v[0]=b=>m("exchange"))}," Exchange ",2),c("button",{class:Ee(["tabButton",{active:r.value==="catcraft"}]),onClick:v[1]||(v[1]=b=>m("catcraft"))}," Cat craft ",2)]),c("div",IP,[c("h3",PP,g(s.value.buy)+" "+g(s.value.coin),1),c("div",BP,[c("div",kP,[v[4]||(v[4]=c("img",{src:Fc,alt:"Point",class:"exchangeIcon"},null,-1)),It(c("input",{type:"number","onUpdate:modelValue":v[2]||(v[2]=b=>l.value=b),placeholder:"0",class:"exchangeInput",step:"1",min:"0"},null,512),[[Wn,l.value]])]),v[6]||(v[6]=c("img",{src:qf,alt:"Arrow",class:"exchangeArrow"},null,-1)),c("div",SP,[v[5]||(v[5]=c("img",{src:sa,alt:"Coin",class:"exchangeIcon"},null,-1)),c("div",TP,g(d.value),1)])]),c("button",{class:"submitBtn",onClick:p,disabled:!l.value||parseFloat(l.value)<=0||d.value<=0},g(s.value.buyButton),9,NP)]),c("div",RP,[c("h3",DP,g(s.value.sell)+" "+g(s.value.coin),1),c("div",LP,[c("div",OP,[v[7]||(v[7]=c("img",{src:sa,alt:"Coin",class:"exchangeIcon"},null,-1)),It(c("input",{type:"number","onUpdate:modelValue":v[3]||(v[3]=b=>u.value=b),placeholder:"0",class:"exchangeInput",step:"0.01",min:"0"},null,512),[[Wn,u.value]])]),v[9]||(v[9]=c("img",{src:qf,alt:"Arrow",class:"exchangeArrow"},null,-1)),c("div",MP,[v[8]||(v[8]=c("img",{src:Fc,alt:"Point",class:"exchangeIcon"},null,-1)),c("div",FP,g(f.value),1)])]),c("button",{class:"submitBtn sellBtn",onClick:w,disabled:!u.value||parseFloat(u.value)<=0||f.value<=0},g(s.value.sellButton),9,UP)])])]),Be(zt)]))}},HP=_t($P,[["__scopeId","data-v-7c0d6504"]]),ml=()=>{const t=localStorage.getItem("questProgress");return t?JSON.parse(t):{}},Fm=t=>{localStorage.setItem("questProgress",JSON.stringify(t))},ql=t=>{const e=ml();t.forEach(n=>{delete e[n]}),Fm(e)},GP=(t,e=1)=>{const n=ml();({mining:[1,9,20],hunting:[2,10,21],exploration:[3,11,22],production:[4,12,23],coinEarned:[5,13,17],levelUp:[6,14,18],nftCreated:[25,26,27],nftOwned:[28,29,30]}[t]||[]).forEach(i=>{n[i]||(n[i]=0),n[i]+=e}),Fm(n),window.dispatchEvent(new CustomEvent("questProgressUpdated"))},Um=(t,e)=>{const s=ml()[t]||0;switch(t){case 5:case 13:case 17:return Math.max(s,e?.totalCoin||0);case 6:case 14:case 18:return e?.level||1;case 25:case 26:case 27:return s;case 28:case 29:case 30:const r=e?.inventory||[];return t===28?r.filter(i=>i.stars>=3).length:t===29?r.filter(i=>i.stars>=4).length:t===30?r.filter(i=>i.stars>=5).length:0;default:return s}},QP=(t,e)=>Um(t.id,e)>=t.total,VP={class:"questPage"},KP={class:"mainContent"},WP={class:"filterTabs"},jP={class:"mainTabs"},JP={class:"questList"},zP={class:"questContent"},YP={class:"questInfo"},XP={class:"questTitle"},ZP={class:"questDescription"},qP={key:0,class:"questRewards"},eB={key:0,class:"rewardItem"},tB={key:1,class:"rewardItem"},nB={key:2,class:"rewardItem"},sB=["onClick"],rB={key:1,class:"completedBadge"},iB={key:2,class:"progressBar"},oB={class:"progressText"},aB={__name:"QuestPage",setup(t){const e=Et(),n=ie(()=>vn()),s=ie(()=>e.state.coins),r=k("inProgress"),i=k("daily"),o=()=>new Date().toDateString(),a=()=>{const m=localStorage.getItem("questLastDate"),y=o();return m!==y?(localStorage.setItem("questLastDate",y),localStorage.removeItem("rewardedQuests"),!0):!1},l=()=>{const m=localStorage.getItem("rewardedQuests");return m?JSON.parse(m):[]},u=m=>{localStorage.setItem("rewardedQuests",JSON.stringify(m)),localStorage.setItem("questLastDate",o())};n.value.coin,n.value.catFragments,n.value.exp;const d=k([{id:1,title:"Daily Mining 10 Times",description:"Complete 10 mining activities today",completed:!1,rewardReceived:!1,progress:0,total:10,type:"daily",reward:{coins:100,catFragments:5},actionType:"mining"},{id:2,title:"Daily Hunting 5 Times",description:"Defeat 5 monsters",completed:!1,rewardReceived:!1,progress:0,total:5,type:"daily",reward:{coins:100,catFragments:5},actionType:"hunting"},{id:3,title:"Daily Exploration 1 Time",description:"Complete 1 exploration activity",completed:!1,rewardReceived:!1,progress:0,total:1,type:"daily",reward:{coins:150,catFragments:10},actionType:"exploration"},{id:4,title:"Daily Production 3 Items",description:"Produce 3 or more items",completed:!1,rewardReceived:!1,progress:0,total:3,type:"daily",reward:{coins:120,catFragments:8},actionType:"production"},{id:5,title:"Daily Coin 1,000 Acquisition",description:"Acquire 1,000 or more coins",completed:!1,rewardReceived:!1,progress:0,total:1e3,type:"daily",reward:{coins:200,catFragments:15},actionType:"coinEarned"},{id:6,title:"Daily Level Up 1 Time",description:"Level up 1 or more levels",completed:!1,rewardReceived:!1,progress:0,total:1,type:"daily",reward:{coins:300,catFragments:20},actionType:"levelUp"},{id:7,title:"Daily Check-in",description:"Log in to the game and check daily quests",completed:!1,rewardReceived:!1,progress:0,total:1,type:"daily",reward:{coins:50,catFragments:3},actionType:"login"},{id:8,title:"Daily NFT Creation 1",description:"Create 1 cat NFT",completed:!1,rewardReceived:!1,progress:0,total:1,type:"daily",reward:{coins:500,catFragments:30},actionType:"nftCreated"},{id:9,title:"Weekly Quest: Mining Master",description:"Complete 50 mining activities in a week",completed:!1,rewardReceived:!1,progress:0,total:50,type:"weekly",reward:{coins:1e3,catFragments:50},actionType:"mining"},{id:10,title:"Weekly Quest: Hunter",description:"Defeat 100 monsters in a week",completed:!1,rewardReceived:!1,progress:0,total:100,type:"weekly",reward:{coins:2e3,catFragments:100},actionType:"hunting"},{id:11,title:"Weekly Quest: Explorer",description:"Explore 5 new areas",completed:!1,rewardReceived:!1,progress:0,total:5,type:"weekly",reward:{coins:1500,catFragments:80},actionType:"exploration"},{id:12,title:"Weekly Quest: Producer",description:"Produce 50 or more items",completed:!1,rewardReceived:!1,progress:0,total:50,type:"weekly",reward:{coins:1800,catFragments:90},actionType:"production"},{id:13,title:"Weekly Quest: Coin Collector",description:"Acquire 50,000 or more coins",completed:!1,rewardReceived:!1,progress:0,total:5e4,type:"weekly",reward:{coins:5e3,catFragments:200},actionType:"coinEarned"},{id:14,title:"Weekly Quest: Level Up 5",description:"Level up 5 or more levels",completed:!1,rewardReceived:!1,progress:0,total:5,type:"weekly",reward:{coins:3e3,catFragments:150},actionType:"levelUp"},{id:15,title:"Weekly Quest: NFT Collector",description:"Create 5 or more NFTs",completed:!1,rewardReceived:!1,progress:0,total:5,type:"weekly",reward:{coins:4e3,catFragments:250},actionType:"nftCreated"},{id:16,title:"Weekly Quest: Own Rare NFT",description:"Own 1 or more Rare grade (3-star or higher) NFTs",completed:!1,rewardReceived:!1,progress:0,total:1,type:"weekly",reward:{coins:5e3,catFragments:300},actionType:"nftOwned"},{id:17,title:"Monthly Quest: Coin King",description:"Acquire 200,000 or more coins this month",completed:!1,rewardReceived:!1,progress:0,total:2e5,type:"monthly",reward:{coins:2e4,catFragments:1e3},actionType:"coinEarned"},{id:18,title:"Monthly Quest: Extreme Level Up",description:"Level up 20 or more levels",completed:!1,rewardReceived:!1,progress:0,total:20,type:"monthly",reward:{coins:15e3,catFragments:800},actionType:"levelUp"},{id:19,title:"Monthly Quest: NFT Master",description:"Create 20 or more NFTs",completed:!1,rewardReceived:!1,progress:0,total:20,type:"monthly",reward:{coins:25e3,catFragments:1500},actionType:"nftCreated"},{id:20,title:"Monthly Quest: Master Miner",description:"Complete 500 or more mining activities",completed:!1,rewardReceived:!1,progress:0,total:500,type:"monthly",reward:{coins:1e4,catFragments:500},actionType:"mining"},{id:21,title:"Monthly Quest: Warrior",description:"Defeat 500 monsters",completed:!1,rewardReceived:!1,progress:0,total:500,type:"monthly",reward:{coins:12e3,catFragments:600},actionType:"hunting"},{id:22,title:"Monthly Quest: Great Explorer",description:"Explore 20 new areas",completed:!1,rewardReceived:!1,progress:0,total:20,type:"monthly",reward:{coins:1e4,catFragments:500},actionType:"exploration"},{id:23,title:"Monthly Quest: Perfect Producer",description:"Produce 200 various items",completed:!1,rewardReceived:!1,progress:0,total:200,type:"monthly",reward:{coins:15e3,catFragments:700},actionType:"production"},{id:24,title:"Monthly Quest: Own Epic NFT",description:"Own 1 or more Epic grade (4-star or higher) NFTs",completed:!1,rewardReceived:!1,progress:0,total:1,type:"monthly",reward:{coins:3e4,catFragments:2e3},actionType:"nftOwned"},{id:25,title:"Daily NFT Creation 1",description:"Create 1 cat NFT",completed:!1,rewardReceived:!1,progress:0,total:1,type:"daily",reward:{coins:500,catFragments:30},actionType:"nftCreated"},{id:26,title:"Weekly NFT Creation 5",description:"Create 5 cat NFTs",completed:!1,rewardReceived:!1,progress:0,total:5,type:"weekly",reward:{coins:4e3,catFragments:250},actionType:"nftCreated"},{id:27,title:"Monthly NFT Creation 20",description:"Create 20 cat NFTs",completed:!1,rewardReceived:!1,progress:0,total:20,type:"monthly",reward:{coins:25e3,catFragments:1500},actionType:"nftCreated"},{id:28,title:"Own Rare NFT",description:"Own 1 or more Rare grade (3-star or higher) NFTs",completed:!1,rewardReceived:!1,progress:0,total:1,type:"daily",reward:{coins:1e3,catFragments:50},actionType:"nftOwned"},{id:29,title:"Own Epic NFT",description:"Own 1 or more Epic grade (4-star or higher) NFTs",completed:!1,rewardReceived:!1,progress:0,total:1,type:"weekly",reward:{coins:5e3,catFragments:300},actionType:"nftOwned"},{id:30,title:"Own Legendary NFT",description:"Own 1 or more Legendary grade (5-star) NFTs",completed:!1,rewardReceived:!1,progress:0,total:1,type:"monthly",reward:{coins:5e4,catFragments:5e3},actionType:"nftOwned"}]),f=()=>{const m=qe();!m||!m.gameData||d.value.forEach(y=>{const v=Um(y.id,m.gameData);y.progress=v,y.completed=QP(y,m.gameData)})},h=async m=>{const y=d.value.find(H=>H.id===m);if(!y||!y.completed||y.rewardReceived)return;const v=qe();if(!v){alert(n.value.loginRequired);return}const b=y.reward||{},A={};if(b.coins&&(A.totalCoin=(v.gameData?.totalCoin||0)+b.coins),b.catFragments&&(A.catFragments=(v.gameData?.catFragments||50)+b.catFragments),b.exp){const H=v.gameData?.level||1,V=b.exp,K=Math.floor(V/100);K>0&&(A.level=H+K)}await e.updateGameData(A),y.rewardReceived=!0;const _=l();_.includes(m)||(_.push(m),u(_)),window.dispatchEvent(new CustomEvent("userDataUpdated"));const L=[];b.coins&&L.push(`${b.coins} ${n.value.coin}`),b.catFragments&&L.push(`${b.catFragments} ${n.value.catFragments}`),b.exp&&L.push(`${b.exp} ${n.value.exp}`),alert(`${n.value.rewardReceived}
You have earned ${L.join(", ")}.`)},p=ie(()=>{let m=d.value.filter(y=>y.type===i.value);return r.value==="inProgress"?m=m.filter(y=>!y.completed||y.completed&&!y.rewardReceived):r.value==="completed"&&(m=m.filter(y=>y.completed&&y.rewardReceived)),m.sort((y,v)=>y.completed&&!y.rewardReceived&&(v.rewardReceived||!v.completed)?-1:(y.rewardReceived||!y.completed)&&v.completed&&!v.rewardReceived?1:0)}),w=()=>{const m=o();if(localStorage.getItem("questResetDate")!==m){const V=d.value.filter(M=>M.type==="daily").map(M=>M.id);ql(V);const K=l();K.filter(M=>V.includes(M)).forEach(M=>{const D=K.indexOf(M);D>-1&&K.splice(D,1)}),u(K),d.value.forEach(M=>{M.type==="daily"&&(M.rewardReceived=!1,M.completed=!1,M.progress=0)}),localStorage.setItem("questResetDate",m)}const v=new Date,b=v.getDay(),A=localStorage.getItem("questWeeklyResetDate"),_=new Date(v.setDate(v.getDate()-b+1)).toDateString();if(A!==_){const V=d.value.filter(M=>M.type==="weekly").map(M=>M.id);ql(V);const K=l();K.filter(M=>V.includes(M)).forEach(M=>{const D=K.indexOf(M);D>-1&&K.splice(D,1)}),u(K),d.value.forEach(M=>{M.type==="weekly"&&(M.rewardReceived=!1,M.completed=!1,M.progress=0)}),localStorage.setItem("questWeeklyResetDate",_)}const L=localStorage.getItem("questMonthlyResetDate"),H=new Date(v.getFullYear(),v.getMonth(),1).toDateString();if(L!==H){const V=d.value.filter(M=>M.type==="monthly").map(M=>M.id);ql(V);const K=l();K.filter(M=>V.includes(M)).forEach(M=>{const D=K.indexOf(M);D>-1&&K.splice(D,1)}),u(K),d.value.forEach(M=>{M.type==="monthly"&&(M.rewardReceived=!1,M.completed=!1,M.progress=0)}),localStorage.setItem("questMonthlyResetDate",H)}};return ct(()=>{e.loadCurrentUser();const m=()=>{e.loadCurrentUser()};window.addEventListener("userDataUpdated",m),Ct(()=>{window.removeEventListener("userDataUpdated",m)}),a(),w();const y=l();d.value.forEach(b=>{y.includes(b.id)&&(b.rewardReceived=!0)}),f();const v=d.value.find(b=>b.id===7&&b.type==="daily");if(v&&!v.completed){v.progress=1,v.completed=!0;const b=ml();b[7]=1,localStorage.setItem("questProgress",JSON.stringify(b))}window.addEventListener("questProgressUpdated",f),window.addEventListener("userDataUpdated",f)}),Ct(()=>{window.removeEventListener("questProgressUpdated",f),window.removeEventListener("userDataUpdated",f)}),(m,y)=>(I(),P("div",VP,[Be(Jt,{coinCount:s.value},null,8,["coinCount"]),c("main",KP,[c("div",WP,[c("button",{class:Ee(["filterTab",{active:i.value==="daily"}]),onClick:y[0]||(y[0]=v=>i.value="daily")}," Daily ",2),c("button",{class:Ee(["filterTab",{active:i.value==="weekly"}]),onClick:y[1]||(y[1]=v=>i.value="weekly")}," Weekly ",2),c("button",{class:Ee(["filterTab",{active:i.value==="monthly"}]),onClick:y[2]||(y[2]=v=>i.value="monthly")}," Monthly ",2)]),c("div",jP,[c("button",{class:Ee(["mainTab",{active:r.value==="inProgress"}]),onClick:y[3]||(y[3]=v=>r.value="inProgress")},g(n.value.inProgress),3),c("button",{class:Ee(["mainTab",{active:r.value==="completed"}]),onClick:y[4]||(y[4]=v=>r.value="completed")},g(n.value.completed),3)]),c("div",JP,[(I(!0),P(we,null,De(p.value,v=>(I(),P("div",{key:v.id,class:"questCard"},[c("div",zP,[c("div",YP,[c("h3",XP,g(v.title),1),c("p",ZP,g(v.description),1),v.reward?(I(),P("div",qP,[v.reward.coins?(I(),P("span",eB,"  "+g(v.reward.coins),1)):re("",!0),v.reward.catFragments?(I(),P("span",tB,"  "+g(v.reward.catFragments),1)):re("",!0),v.reward.exp?(I(),P("span",nB,"  "+g(v.reward.exp),1)):re("",!0)])):re("",!0)]),y[5]||(y[5]=c("div",{class:"questCharacter"},[c("div",{class:"characterImg"},"")],-1))]),v.completed&&!v.rewardReceived?(I(),P("button",{key:0,class:"rewardBtn",onClick:b=>h(v.id)},g(n.value.receive),9,sB)):v.completed&&v.rewardReceived?(I(),P("div",rB,"  "+g(n.value.completed),1)):(I(),P("div",iB,[c("div",{class:"progressFill",style:Ye({width:v.progress/v.total*100+"%"})},null,4),c("span",oB,g(v.progress)+"/"+g(v.total),1)]))]))),128))])]),Be(zt)]))}},lB=_t(aB,[["__scopeId","data-v-ff25a02c"]]),Ne={COMMON:"common",RARE:"rare",EPIC:"epic",LEGENDARY:"legendary"},ec={[Ne.COMMON]:.7,[Ne.RARE]:.9,[Ne.EPIC]:.98,[Ne.LEGENDARY]:1},th={[Ne.COMMON]:{min:2,max:3},[Ne.RARE]:{min:3,max:4},[Ne.EPIC]:{min:4,max:5},[Ne.LEGENDARY]:{min:5,max:5}},nh={[Ne.COMMON]:{miningEfficiency:{min:5,max:15},huntingDamage:{min:5,max:15},explorationReward:{min:5,max:15},productionSpeed:{min:5,max:15}},[Ne.RARE]:{miningEfficiency:{min:15,max:30},huntingDamage:{min:15,max:30},explorationReward:{min:15,max:30},productionSpeed:{min:15,max:30}},[Ne.EPIC]:{miningEfficiency:{min:30,max:60},huntingDamage:{min:30,max:60},explorationReward:{min:30,max:60},productionSpeed:{min:30,max:60}},[Ne.LEGENDARY]:{miningEfficiency:{min:60,max:100},huntingDamage:{min:60,max:100},explorationReward:{min:60,max:100},productionSpeed:{min:60,max:100}}},sh={[Ne.COMMON]:{primary:"#9E9E9E",secondary:"#BDBDBD",border:"#757575",glow:"rgba(158, 158, 158, 0.3)"},[Ne.RARE]:{primary:"#2196F3",secondary:"#64B5F6",border:"#1976D2",glow:"rgba(33, 150, 243, 0.3)"},[Ne.EPIC]:{primary:"#9C27B0",secondary:"#BA68C8",border:"#7B1FA2",glow:"rgba(156, 39, 176, 0.3)"},[Ne.LEGENDARY]:{primary:"#FF9800",secondary:"#FFB74D",border:"#F57C00",glow:"rgba(255, 152, 0, 0.4)"}},rh={[Ne.COMMON]:"",[Ne.RARE]:"",[Ne.EPIC]:"",[Ne.LEGENDARY]:""},ih={[Ne.COMMON]:"Common",[Ne.RARE]:"Rare",[Ne.EPIC]:"Epic",[Ne.LEGENDARY]:"Legendary"};function cB(){const t=Math.random();return t<ec[Ne.COMMON]?Ne.COMMON:t<ec[Ne.RARE]?Ne.RARE:t<ec[Ne.EPIC]?Ne.EPIC:Ne.LEGENDARY}function uB(t){const e=th[t]||th[Ne.COMMON];return Math.floor(Math.random()*(e.max-e.min+1))+e.min}function dB(t){const e=nh[t]||nh[Ne.COMMON],n=s=>Math.floor(Math.random()*(s.max-s.min+1))+s.min;return{miningEfficiency:n(e.miningEfficiency),huntingDamage:n(e.huntingDamage),explorationReward:n(e.explorationReward),productionSpeed:n(e.productionSpeed)}}function $m(t){if(t.rarity)return t;const e=cB(),n=t.stars||uB(e),s=dB(e);return{...t,rarity:e,stars:n,...s}}function Zr(t){if(!t)return{};const e=sh[t]||sh[Ne.COMMON];return{"--rarity-color":e.primary,"--rarity-secondary":e.secondary,"--rarity-border":e.border,"--rarity-glow":e.glow}}function ia(t){return(localStorage.getItem("appLanguage")||"English")==="English"?ih[t]||ih[Ne.COMMON]:rh[t]||rh[Ne.COMMON]}const fB="/tdl/assets/statStar1-DSWl6DZx.png",hB="/tdl/assets/statStar2-7A5sNtwf.png",pB={class:"inventoryPage"},gB={class:"mainContent"},mB={class:"topSection"},vB={class:"magicPanel"},AB={class:"panelTitle"},yB={class:"characterBox"},wB=["src","alt"],bB={class:"profilePanel"},CB={class:"progressBars"},EB={class:"progressBar"},_B={class:"value"},xB={class:"progressBar"},IB={class:"barBg"},PB={class:"value"},BB={class:"statLabel"},kB={class:"barBg"},SB={class:"value"},TB={class:"inventoryHeader"},NB={class:"inventoryCount"},RB={key:0,class:"inventoryGrid"},DB=["onClick","onDblclick"],LB={key:0,class:"newBadge"},OB={class:"starBadge"},MB=["src"],FB={class:"levelBadge"},UB=["src","alt"],$B={class:"detailHint"},HB={key:1,class:"emptyInventory"},GB={class:"emptyText"},QB={class:"emptySubtext"},VB={class:"searchModalHeader"},KB={class:"searchModalTitle"},WB={class:"searchModalBody"},jB={class:"searchBox"},JB=["placeholder"],zB={class:"filterControls"},YB={class:"filterGroup"},XB={class:"filterLabel"},ZB={value:"all"},qB={value:"2"},ek={value:"3"},tk={value:"4"},nk={value:"5"},sk={class:"filterGroup"},rk={class:"filterLabel"},ik={value:"all"},ok={class:"filterGroup"},ak={class:"filterLabel"},lk={value:"all"},ck={value:"common"},uk={value:"rare"},dk={value:"epic"},fk={value:"legendary"},hk={class:"filterGroup"},pk={class:"filterLabel"},gk={value:"newest"},mk={value:"oldest"},vk={value:"level"},Ak={value:"stars"},yk={value:"rarity"},wk={value:"name"},bk={class:"searchModalFooter"},Ck={class:"modalHeader"},Ek={class:"modalTitle"},_k={class:"modalBody"},xk={class:"modalImageSection"},Ik=["src"],Pk={class:"modalBadges"},Bk={class:"modalBadge stars"},kk={class:"modalBadge level"},Sk={class:"modalStatsSection"},Tk={class:"sectionTitle"},Nk={class:"modalStats"},Rk={class:"modalStatLabel"},Dk={class:"modalStatBar"},Lk={class:"modalStatValue"},Ok={class:"modalInfoSection"},Mk={class:"infoRow"},Fk={class:"infoValue"},Uk={class:"infoRow"},$k={class:"infoLabel"},Hk={class:"infoValue"},Gk={class:"infoRow"},Qk={class:"infoLabel"},Vk={class:"infoValue"},Kk={class:"expSection"},Wk={class:"expLabel"},jk={class:"expBar"},Jk={class:"expText"},zk={class:"modalFooter"},Yk=["disabled"],Xk={__name:"InventoryPage",setup(t){const e=Et(),n=ie(()=>vn()),s=ie(()=>e.state.coins),r=k(""),i=k("all"),o=k("all"),a=k("all"),l=k("newest"),u=k(!1),d=k(null),f=k(!1),h=F=>[{name:n.value.strength,value:F[0],progress:F[0],color:"#FF6B6B"},{name:n.value.health,value:F[1],progress:F[1],color:"#FF8A80"},{name:n.value.intelligence,value:F[2],progress:F[2],color:"#9C27B0"},{name:n.value.dexterity,value:F[3],progress:F[3],color:"#FFA726"},{name:n.value.courage,value:F[4],progress:F[4],color:"#00BCD4"},{name:n.value.luck,value:F[5],progress:F[5],color:"#66BB6A"}],p=["Active","Quiet","Playful","Friendly","Independent","Affectionate","Curious","Brave"],w=F=>{if(F.stats)F.stats=F.stats.map((O,T)=>{const W=[n.value.strength,n.value.health,n.value.intelligence,n.value.dexterity,n.value.courage,n.value.luck];return{...O,name:W[T]||O.name}});else{const O=F.stars*15+Math.floor(Math.random()*20);F.stats=h([O+Math.floor(Math.random()*20),O+Math.floor(Math.random()*20),O+Math.floor(Math.random()*20),O+Math.floor(Math.random()*20),O+Math.floor(Math.random()*20),O+Math.floor(Math.random()*20)])}return F.personality||(F.personality=p[Math.floor(Math.random()*p.length)]),F.affinity===void 0&&(F.affinity=30+Math.floor(Math.random()*71)),F},m=k([]),y=ie(()=>{let F=[...m.value];if(r.value.trim()){const O=r.value.toLowerCase();F=F.filter(T=>T.name.toLowerCase().includes(O)||String(T.imageId).includes(O))}return i.value!=="all"&&(F=F.filter(O=>O.stars===parseInt(i.value))),o.value!=="all"&&(o.value==="1-5"?F=F.filter(O=>O.level>=1&&O.level<=5):o.value==="6-10"?F=F.filter(O=>O.level>=6&&O.level<=10):o.value==="11+"&&(F=F.filter(O=>O.level>=11))),F=[...F].sort((O,T)=>{switch(l.value){case"newest":return(T.isNew?1:0)-(O.isNew?1:0)||T.id-O.id;case"oldest":return O.id-T.id;case"level":return T.level-O.level;case"stars":return T.stars-O.stars;case"rarity":const W={[Ne.LEGENDARY]:4,[Ne.EPIC]:3,[Ne.RARE]:2,[Ne.COMMON]:1},oe=W[O.rarity||Ne.COMMON]||0;return(W[T.rarity||Ne.COMMON]||0)-oe;case"name":return O.name.localeCompare(T.name);default:return 0}}),F}),v=ie(()=>{const F=m.value.find(O=>O.selected);return F?w(F).stats:h([33,7,29,10,11,10])}),b=ie(()=>{const F=m.value.find(O=>O.selected);return F&&w(F).personality||"Active"}),A=ie(()=>{const F=m.value.find(O=>O.selected);return F&&w(F).affinity||50}),_=ie(()=>{const F=m.value.find(O=>O.selected);return F?F.name:"Inventory is empty"}),L=F=>{try{return new URL(Object.assign({"../assets/img/cat1.png":La,"../assets/img/cat10.png":Oa,"../assets/img/cat11.png":Ma,"../assets/img/cat12.png":Fa,"../assets/img/cat13.png":Ua,"../assets/img/cat14.png":$a,"../assets/img/cat15.png":Ha,"../assets/img/cat16.png":Ga,"../assets/img/cat17.png":Qa,"../assets/img/cat18.png":Va,"../assets/img/cat19.png":Ka,"../assets/img/cat2.png":Wa,"../assets/img/cat20.png":ja,"../assets/img/cat21.png":Ja,"../assets/img/cat22.png":za,"../assets/img/cat23.png":Ya,"../assets/img/cat24.png":Xa,"../assets/img/cat25.png":Za,"../assets/img/cat26.png":qa,"../assets/img/cat27.png":el,"../assets/img/cat28.png":tl,"../assets/img/cat29.png":nl,"../assets/img/cat3.png":sl,"../assets/img/cat30.png":rl,"../assets/img/cat4.png":il,"../assets/img/cat5.png":ol,"../assets/img/cat6.png":al,"../assets/img/cat7.png":ll,"../assets/img/cat8.png":cl,"../assets/img/cat9.png":ul,"../assets/img/catPoint.png":dl,"../assets/img/catPointPlus.png":fl,"../assets/img/catProfile01.png":hl,"../assets/img/catProfile02.png":pl,"../assets/img/cat_ico.png":gl})[`../assets/img/cat${F}.png`],import.meta.url).href}catch{return`/src/assets/img/cat${F}.png`}},H=ie(()=>{const F=m.value.find(O=>O.selected);return L(F?F.imageId||F.id:1)}),V=F=>{const O=ra(F);d.value=w({...O}),u.value=!0},K=()=>{u.value=!1,d.value=null},z=async F=>{if(m.value.forEach(O=>O.selected=!1),F.selected=!0,F.isNew&&(F.isNew=!1,qe())){const T=m.value.map(W=>({...W,isNew:W.id===F.id?!1:W.isNew}));await e.updateGameData({inventory:T})}},M=()=>{r.value="",i.value="all",o.value="all",a.value="all",l.value="newest"},D=async()=>{if(!d.value)return;const F=Zl(d.value.level||1);if(s.value<F){alert(`${n.value.insufficientCoins} (Required: ${F})`);return}const O=qe();if(O){const W=(O.gameData?.inventory||[]).map(te=>{if(te.id===d.value.id){const Z=(te.level||1)+1,me=Cr(Z),xe=U_(te),ut=(te.miningEfficiency||0)+xe,at=(te.huntingDamage||0)+xe,lt=(te.explorationReward||0)+xe,tt=(te.productionSpeed||0)+xe;return{...te,level:Z,exp:0,maxExp:me,miningEfficiency:ut,huntingDamage:at,explorationReward:lt,productionSpeed:tt}}return te}),oe=s.value-F;try{await e.updateMultiple({coins:oe}),await e.updateGameData({inventory:W});const te=W.find(ne=>ne.id===d.value.id);te&&(d.value=w({...te})),X(),alert(`${n.value.levelUp} Success! Level ${newLevel}`)}catch(te){console.error(" :",te),alert("An error occurred during level up.")}}},X=()=>{const F=qe();if(F){e.loadCurrentUser();const O=F.gameData?.inventory||[];O.length>0?m.value=O.map(T=>{const W=T.rarity?T:$m(T),oe=w({...W}),te=ra(oe);return te.personality||(te.personality=p[Math.floor(Math.random()*p.length)]),te.affinity===void 0&&(te.affinity=30+Math.floor(Math.random()*71)),te}):m.value=[]}else m.value=[]};return ct(()=>{X(),window.addEventListener("userDataUpdated",X)}),Ct(()=>{window.removeEventListener("userDataUpdated",X)}),(F,O)=>(I(),P("div",pB,[Be(Jt,{coinCount:s.value},null,8,["coinCount"]),c("main",gB,[c("div",mB,[c("div",vB,[c("div",AB,g(_.value),1),c("div",yB,[c("img",{src:H.value,alt:n.value.selectedCharacter,class:"selectedCharacter"},null,8,wB)])]),c("div",bB,[O[16]||(O[16]=c("div",{class:"panelTitle"},[qr(" Profile "),c("span",{class:"starIcon"},"")],-1)),c("div",CB,[c("div",EB,[O[13]||(O[13]=c("div",{class:"statLabel"},"Personality",-1)),O[14]||(O[14]=c("div",{class:"barBg"},[c("div",{style:{width:"100%",backgroundColor:"#FF6B6B"},class:"barFill"})],-1)),c("span",_B,g(b.value),1)]),c("div",xB,[O[15]||(O[15]=c("div",{class:"statLabel"},"Affinity",-1)),c("div",IB,[c("div",{style:Ye({width:A.value+"%",backgroundColor:"#FF8A80"}),class:"barFill"},null,4)]),c("span",PB,g(A.value)+"%",1)]),(I(!0),P(we,null,De(v.value,(T,W)=>(I(),P("div",{key:W,class:"progressBar hiddenStats"},[c("div",BB,g(T.name),1),c("div",kB,[c("div",{style:Ye({width:T.progress+"%",backgroundColor:T.color}),class:"barFill"},null,4)]),c("span",SB,g(T.value)+"%",1)]))),128))])])]),c("div",TB,[c("div",NB,g(n.value.totalItems)+" "+g(y.value.length)+" / "+g(m.value.length)+" "+g(n.value.items),1),c("button",{class:"searchBtn",onClick:O[0]||(O[0]=T=>f.value=!0)},[O[17]||(O[17]=c("span",{class:"searchIcon"},"",-1)),c("span",null,g(n.value.search),1)])]),y.value.length>0?(I(),P("div",RB,[(I(!0),P(we,null,De(y.value,T=>(I(),P("div",{key:T.id,class:Ee(["inventoryItem",{selected:T.selected,[`rarity-${T.rarity||"common"}`]:!0}]),style:Ye(Pe(Zr)(T.rarity)),onClick:W=>z(T),onDblclick:W=>V(T)},[T.isNew?(I(),P("div",LB,"NEW")):re("",!0),T.rarity?(I(),P("div",{key:1,class:"rarityBadge",style:Ye(Pe(Zr)(T.rarity))},g(Pe(ia)(T.rarity)),5)):re("",!0),c("div",OB,[(I(),P(we,null,De(5,W=>c("img",{key:W,src:W<=T.stars?Pe(fB):Pe(hB),alt:"",class:"starIcon"},null,8,MB)),64))]),c("div",FB," Lv "+g(String(T.level).padStart(2,"0")),1),c("img",{src:L(T.imageId||T.id),alt:n.value.cat,class:"itemIcon"},null,8,UB),c("div",$B,g(n.value.doubleClickDetail),1)],46,DB))),128))])):(I(),P("div",HB,[O[18]||(O[18]=c("div",{class:"emptyIcon"},"",-1)),c("div",GB,g(n.value.noNFTs),1),c("div",QB,g(n.value.createCatInFactory),1)]))]),Be(zt),f.value?(I(),P("div",{key:0,class:"modalOverlay",onClick:O[10]||(O[10]=T=>f.value=!1)},[c("div",{class:"searchModal",onClick:O[9]||(O[9]=hn(()=>{},["stop"]))},[c("div",VB,[c("h3",KB,g(n.value.searchAndFilter),1),c("button",{class:"searchModalClose",onClick:O[1]||(O[1]=T=>f.value=!1)},"")]),c("div",WB,[c("div",jB,[It(c("input",{type:"text","onUpdate:modelValue":O[2]||(O[2]=T=>r.value=T),placeholder:n.value.searchPlaceholder,class:"searchInput",onKeyup:O[3]||(O[3]=_p(T=>f.value=!1,["enter"]))},null,40,JB),[[Wn,r.value]])]),c("div",zB,[c("div",YB,[c("label",XB,g(n.value.starRating),1),It(c("select",{"onUpdate:modelValue":O[4]||(O[4]=T=>i.value=T),class:"filterSelect"},[c("option",ZB,g(n.value.all),1),c("option",qB,"2 "+g(n.value.stars),1),c("option",ek,"3 "+g(n.value.stars),1),c("option",tk,"4 "+g(n.value.stars),1),c("option",nk,"5 "+g(n.value.stars),1)],512),[[Qs,i.value]])]),c("div",sk,[c("label",rk,g(n.value.levelFilter),1),It(c("select",{"onUpdate:modelValue":O[5]||(O[5]=T=>o.value=T),class:"filterSelect"},[c("option",ik,g(n.value.all),1),O[19]||(O[19]=c("option",{value:"1-5"},"1-5",-1)),O[20]||(O[20]=c("option",{value:"6-10"},"6-10",-1)),O[21]||(O[21]=c("option",{value:"11+"},"11+",-1))],512),[[Qs,o.value]])]),c("div",ok,[c("label",ak,g(n.value.rarityFilter),1),It(c("select",{"onUpdate:modelValue":O[6]||(O[6]=T=>a.value=T),class:"filterSelect"},[c("option",lk,g(n.value.all),1),c("option",ck,g(n.value.common),1),c("option",uk,g(n.value.rare),1),c("option",dk,g(n.value.epic),1),c("option",fk,g(n.value.legendary),1)],512),[[Qs,a.value]])]),c("div",hk,[c("label",pk,g(n.value.sortBy),1),It(c("select",{"onUpdate:modelValue":O[7]||(O[7]=T=>l.value=T),class:"filterSelect"},[c("option",gk,g(n.value.newest),1),c("option",mk,g(n.value.oldest),1),c("option",vk,g(n.value.levelHighToLow),1),c("option",Ak,g(n.value.starsHighToLow),1),c("option",yk,g(n.value.rarityHighToLow),1),c("option",wk,g(n.value.nameOrder),1)],512),[[Qs,l.value]])])]),c("div",bk,[c("button",{class:"resetFilterBtn",onClick:M},g(n.value.reset),1),c("button",{class:"applyFilterBtn",onClick:O[8]||(O[8]=T=>f.value=!1)},g(n.value.apply),1)])])])])):re("",!0),u.value&&d.value?(I(),P("div",{key:1,class:"modalOverlay",onClick:K},[c("div",{class:"modalContent",onClick:O[12]||(O[12]=hn(()=>{},["stop"]))},[c("div",Ck,[c("h3",Ek,g(d.value.name),1),c("button",{class:"modalClose",onClick:K},"")]),c("div",_k,[c("div",xk,[c("img",{src:L(d.value.imageId||d.value.id),alt:"NFT",class:"modalImage"},null,8,Ik),c("div",Pk,[d.value.rarity?(I(),P("div",{key:0,class:"modalBadge rarity",style:Ye(Pe(Zr)(d.value.rarity))},g(Pe(ia)(d.value.rarity)),5)):re("",!0),c("div",Bk,[(I(),P(we,null,De(5,T=>c("span",{key:T,class:"star"},g(T<=d.value.stars?"":""),1)),64))]),c("div",kk,"Lv "+g(d.value.level),1)])]),c("div",Sk,[c("h4",Tk,g(n.value.stats),1),c("div",Nk,[(I(!0),P(we,null,De(d.value.stats,(T,W)=>(I(),P("div",{key:W,class:"modalStat"},[c("div",Rk,g(T.name),1),c("div",Dk,[c("div",{style:Ye({width:T.progress+"%",backgroundColor:T.color}),class:"modalStatFill"},null,4)]),c("div",Lk,g(T.value)+"%",1)]))),128))])]),c("div",Ok,[c("div",Mk,[O[22]||(O[22]=c("span",{class:"infoLabel"},"NFT ID:",-1)),c("span",Fk,"#"+g(d.value.id),1)]),c("div",Uk,[c("span",$k,g(n.value.imageId)+":",1),c("span",Hk,"#"+g(d.value.imageId),1)]),c("div",Gk,[c("span",Qk,g(n.value.createdAt)+":",1),c("span",Vk,g(new Date(d.value.id).toLocaleDateString()),1)])]),c("div",Kk,[c("div",Wk,g(n.value.exp),1),c("div",jk,[c("div",{class:"expFill",style:Ye({width:Math.min((d.value.exp||0)/(d.value.maxExp||Pe(Cr)(d.value.level||1))*100,100)+"%"})},null,4)]),c("div",Jk,g(d.value.exp||0)+" / "+g(d.value.maxExp||Pe(Cr)(d.value.level||1)),1)])]),c("div",zk,[Pe(F_)(d.value)?(I(),P("button",{key:0,class:"modalBtn levelUpBtn",onClick:D,disabled:s.value<Pe(Zl)(d.value.level||1)},g(n.value.levelUpButton)+" ("+g(Pe(Zl)(d.value.level||1))+" "+g(n.value.coin)+") ",9,Yk)):re("",!0),c("button",{class:"modalBtn selectBtn",onClick:O[11]||(O[11]=T=>{z(d.value),K()})},g(n.value.selectButton),1)])])])):re("",!0)]))}},Zk=_t(Xk,[["__scopeId","data-v-1c4b31c4"]]),qk="/tdl/assets/factory_cat-DD06P-8u.png",eS={class:"factoryPage"},tS={class:"mainContent"},nS={class:"tabButtons"},sS={class:"materialsSection"},rS=["alt"],iS={class:"materialText"},oS={class:"materialCount"},aS={class:"materialText"},lS={class:"materialCount"},cS=["disabled"],uS=["src"],dS={class:"popupTitle"},fS={class:"popupMessage"},hS={__name:"FactoryPage",setup(t){const e=Ht(),n=ie(()=>vn()),s=Et(),r=ie(()=>s.state.totalCoin),i=ie(()=>s.state.catFragments),o=k(100),a=k(3),l=k("catcraft"),u=k(!1),d=k(1),f=k(null);ct(()=>{s.loadCurrentUser();const _=()=>{s.loadCurrentUser()};window.addEventListener("userDataUpdated",_),Ct(()=>{window.removeEventListener("userDataUpdated",_)})});const h=async()=>{if(r.value<o.value){alert(`${n.value.insufficientCoins} (Required: ${o.value})`);return}if(i.value<a.value){alert(`${n.value.insufficientFragments} (Required: ${a.value})`);return}const _=qe();if(_){const L=r.value-o.value,H=i.value-a.value;d.value=y();const V=_.gameData?.inventory||[];V.length+1;const K={id:Date.now(),imageId:d.value,name:`Cat ${d.value}`,level:1,exp:0,maxExp:Cr(1),selected:!1,isNew:!0},z=$m(K);f.value=z.rarity;const M=[z,...V];await s.updateGameData({totalCoin:L,catFragments:H,inventory:M}),GP("nftCreated",1),u.value=!0}},p=ie(()=>r.value>=o.value&&i.value>=a.value),w=ie(()=>r.value>=o.value),m=ie(()=>i.value>=a.value),y=()=>Math.floor(Math.random()*30)+1,v=_=>{try{return new URL(Object.assign({"../assets/img/cat1.png":La,"../assets/img/cat10.png":Oa,"../assets/img/cat11.png":Ma,"../assets/img/cat12.png":Fa,"../assets/img/cat13.png":Ua,"../assets/img/cat14.png":$a,"../assets/img/cat15.png":Ha,"../assets/img/cat16.png":Ga,"../assets/img/cat17.png":Qa,"../assets/img/cat18.png":Va,"../assets/img/cat19.png":Ka,"../assets/img/cat2.png":Wa,"../assets/img/cat20.png":ja,"../assets/img/cat21.png":Ja,"../assets/img/cat22.png":za,"../assets/img/cat23.png":Ya,"../assets/img/cat24.png":Xa,"../assets/img/cat25.png":Za,"../assets/img/cat26.png":qa,"../assets/img/cat27.png":el,"../assets/img/cat28.png":tl,"../assets/img/cat29.png":nl,"../assets/img/cat3.png":sl,"../assets/img/cat30.png":rl,"../assets/img/cat4.png":il,"../assets/img/cat5.png":ol,"../assets/img/cat6.png":al,"../assets/img/cat7.png":ll,"../assets/img/cat8.png":cl,"../assets/img/cat9.png":ul,"../assets/img/catPoint.png":dl,"../assets/img/catPointPlus.png":fl,"../assets/img/catProfile01.png":hl,"../assets/img/catProfile02.png":pl,"../assets/img/cat_ico.png":gl})[`../assets/img/cat${_}.png`],import.meta.url).href}catch{return`/src/assets/img/cat${_}.png`}},b=()=>{u.value=!1,f.value=null},A=_=>{_==="exchange"?e.push("/exchange"):_==="catcraft"&&(l.value="catcraft")};return(_,L)=>(I(),P("div",eS,[Be(Jt,{catCount:i.value},null,8,["catCount"]),c("main",tS,[c("div",nS,[c("button",{class:Ee(["tabButton",{active:l.value==="exchange"}]),onClick:L[0]||(L[0]=H=>A("exchange"))}," Exchange ",2),c("button",{class:Ee(["tabButton",{active:l.value==="catcraft"}]),onClick:L[1]||(L[1]=H=>A("catcraft"))}," Cat craft ",2)]),L[4]||(L[4]=c("div",{class:"catSilhouette"},[c("img",{src:qk,alt:"Cat",class:"catShape"})],-1)),c("div",sS,[c("div",{class:Ee(["materialItem",{insufficient:!w.value}])},[c("img",{src:sa,alt:n.value.coin,class:"materialIcon"},null,8,rS),c("span",iS,[c("span",oS,g(r.value),1),qr(" / "+g(o.value),1)])],2),c("div",{class:Ee(["materialItem",{insufficient:!m.value}])},[L[3]||(L[3]=c("img",{src:Om,alt:"Cat",class:"materialIcon"},null,-1)),c("span",aS,[c("span",lS,g(i.value),1),qr(" / "+g(a.value),1)])],2)]),c("button",{class:Ee(["createButton",{disabled:!p.value}]),onClick:h,disabled:!p.value},g(n.value.createCat),11,cS)]),Be(zt),u.value?(I(),P("div",{key:0,class:"popupOverlay",onClick:b},[c("div",{class:Ee(["popupContent",`rarity-${f.value}`]),onClick:L[2]||(L[2]=hn(()=>{},["stop"]))},[c("div",{class:"popupCatImage",style:Ye(f.value?Pe(Zr)(f.value):{})},[c("img",{src:v(d.value),alt:""},null,8,uS)],4),f.value?(I(),P("div",{key:0,class:"rarityBadge",style:Ye(Pe(Zr)(f.value))},g(Pe(ia)(f.value)),5)):re("",!0),c("h2",dS,g(n.value.createCatSuccess),1),c("p",fS,g(n.value.newCatAdded),1),c("button",{class:"popupCloseBtn",onClick:b},g(n.value.confirm),1)],2)])):re("",!0)]))}},pS=_t(hS,[["__scopeId","data-v-71354c38"]]),Hm=async()=>{console.log("===  SDK   ==="),console.log("  :",{hasKey:!1,keyLength:void 0,keyPreview:"",hasKakaoSDK:!!window.Kakao,currentUrl:window.location.href});{const e=`    .

.env   :
VITE_KAKAO_APP_KEY=your_kakao_javascript_key

   .`;return console.error(e),alert(e),!1}},gS=async t=>{if(console.log("===    ==="),console.log(" :",t),!await Hm())return!1;if(console.log("Share API :",{hasKakao:!!window.Kakao,hasShare:!!window.Kakao?.Share,hasSendDefault:!!window.Kakao?.Share?.sendDefault}),!window.Kakao.Share||!window.Kakao.Share.sendDefault){const n=`  API   .

 :
1.    
2.        
3.    
4.      `;return console.error(" Share API   ."),console.error("window.Kakao:",window.Kakao),alert(n),!1}try{return console.log("  API  ..."),await window.Kakao.Share.sendDefault({objectType:"feed",content:{title:t.title||"TDL  !",description:t.description||"   !",imageUrl:t.imageUrl||window.location.origin+"/favicon.ico",link:{mobileWebUrl:t.link,webUrl:t.link}},buttons:[{title:" ",link:{mobileWebUrl:t.link,webUrl:t.link}}]}),console.log("  "),!0}catch(n){console.error("  :",n),console.error(" :",{code:n.code,message:n.message,status:n.status});let s="  .";return n.status===400?s="  API  . (  )":n.status===403&&(s="  API  .    ."),alert(s+`

     .`),!1}},mS=async t=>{const n=`${window.location.origin+window.location.pathname}#/signup?ref=${t}`;return await gS({title:"TDL  ! ",description:"    !     !",link:n})},oa=async t=>{const n=`${window.location.origin+window.location.pathname}#/signup?ref=${t}`;try{return await navigator.clipboard.writeText(n),!0}catch(s){console.error("  :",s);const r=document.createElement("textarea");r.value=n,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{return document.execCommand("copy"),document.body.removeChild(r),!0}catch{return document.body.removeChild(r),!1}}},vS=async t=>{const n=`${window.location.origin+window.location.pathname}#/signup?ref=${t}`,s="TDL  ! ",r="    !     !";if(navigator.share)try{return await navigator.share({title:s,text:r,url:n}),{success:!0,method:"native"}}catch(i){return i.name==="AbortError"?{success:!1,method:"native",cancelled:!0}:(console.error("  :",i),await oa(t).then(o=>({success:o,method:"fallback"})))}else return{success:await oa(t),method:"clipboard"}},AS={class:"settingsPage"},yS={class:"mainContent"},wS={class:"settingGroup"},bS={class:"settingGroup"},CS={class:"settingLabel"},ES={class:"settingInputWrapper"},_S={key:0,class:"dropdownMenu"},xS=["onClick"],IS={class:"settingGroup"},PS={class:"settingLabel"},BS={class:"settingInputWrapper"},kS={key:0,class:"dropdownMenu"},SS=["onClick"],TS={class:"settingSection"},NS={class:"sectionTitle"},RS={key:0,class:"walletConnectedCard"},DS={class:"walletStatusHeader"},LS={class:"walletStatusIndicator"},OS=["title"],MS={class:"walletInfo"},FS={class:"walletInfoRow"},US={class:"walletInfoLabel"},$S={class:"walletInfoValue"},HS={class:"walletAddressText"},GS=["title"],QS={class:"walletInfoRow"},VS={class:"walletInfoLabel"},KS={class:"walletBalanceText"},WS={key:1,class:"walletNotConnectedCard"},jS={class:"walletNotConnectedText"},JS={class:"walletNotConnectedDesc"},zS=["disabled"],YS={key:0},XS={key:1},ZS={key:0,class:"walletErrorMsg"},qS={key:0,class:"inviteSection"},eT={class:"inviteCard"},tT={class:"inviteTitle"},nT={class:"inviteDescription"},sT={class:"inviteCodeSection"},rT={class:"inviteCodeLabel"},iT={class:"inviteCodeBox"},oT={class:"inviteCode"},aT=["title"],lT={class:"shareButtons"},cT={class:"rewardInfo"},uT={class:"rewardItem"},dT={class:"rewardText"},fT={class:"rewardTitle"},hT={class:"rewardDesc"},pT={class:"rewardItem"},gT={class:"rewardText"},mT={class:"rewardTitle"},vT={class:"inviteStats"},AT={class:"statsTitle"},yT={class:"statsValue"},wT={class:"statsNumber"},bT={class:"statsLabel"},CT={class:"settingGroup"},ET={class:"settingLabel"},_T={class:"settingGroup"},xT={class:"depositPopupHeader"},IT={class:"depositPopupTitle"},PT={class:"depositPopupContent"},BT={class:"depositPopupDesc"},kT={class:"depositOptions"},ST={class:"depositOptionInfo"},TT={class:"depositOptionDesc"},NT={class:"depositOptionInfo"},RT={class:"depositOptionDesc"},DT={class:"depositPopupFooter"},LT={class:"depositPopupNote"},OT={__name:"SettingsPage",setup(t){const e=Ht(),n=Et(),s=ie(()=>vn()),r=ie(()=>n.state.coins),i=k(null),o=k(localStorage.getItem("appLanguage")||"English"),a=k("Busan"),l=k(!1),u=k(!1),d=k(!1);k("");const f=k(!1),h=k(""),p=ie(()=>n.state.walletAddress),w=ie(()=>n.state.userBalance),m=ie(()=>n.state.isWalletConnected),y=k(!1),v=k(""),b=k({inviteCode:"",totalReferrals:0,referrals:[]}),A=["English",""],_=["","","",""],L=ie(()=>s.value),H=ne=>{o.value=ne,l.value=!1,localStorage.setItem("appLanguage",ne)};ct(async()=>{const ne=qe();ne&&(i.value=ne,r.value=ne.gameData?.coins||0,v.value=Sm(ne.id),b.value=jf(ne.id));const Z=localStorage.getItem("appLanguage");Z?o.value=Z:(o.value="English",localStorage.setItem("appLanguage","English")),V();try{await Hm()}catch(xe){console.error(" SDK  :",xe)}const me=()=>{n.loadCurrentUser(),i.value=qe(),i.value&&(b.value=jf(i.value.id))};window.addEventListener("userDataUpdated",me),Ct(()=>{window.removeEventListener("userDataUpdated",me)})});const V=()=>{if(!i.value)return;const ne=new Date().toDateString(),Z=localStorage.getItem(`checkIn_${i.value.id}`);d.value=Z===ne},K=async()=>{try{if(f.value=!0,h.value="",!pi()){h.value=s.value.walletNotInstalled,confirm(s.value.installMetaMask)&&window.open("https://metamask.io/download/","_blank");return}const ne=await n.connectWalletToApp();ne.success?(h.value="",alert(s.value.walletConnected)):(h.value=ne.error||s.value.walletConnectFailed,ne.needInstall&&confirm(s.value.installMetaMask)&&window.open("https://metamask.io/download/","_blank"))}catch(ne){console.error("  :",ne),h.value=s.value.walletConnectError}finally{f.value=!1}},z=()=>{confirm(s.value.disconnectWalletConfirm)&&(n.disconnectWalletFromApp(),e.push("/login"))},M=async()=>{if(p.value)try{await navigator.clipboard.writeText(p.value),alert(s.value.walletAddressCopied)}catch(ne){console.error(" :",ne),alert(s.value.copyFailed)}},D=async()=>{await n.updateWalletBalance()},X=()=>{y.value=!0},F=()=>{y.value=!1},O=ne=>{const me={phantom:{name:"Phantom",url:"https://phantom.app/",icon:"",description:s.value.goToPhantomWallet},upbit:{name:"Upbit",url:"https://upbit.com/",icon:"",description:s.value.goToUpbitExchange}}[ne];if(me){const xe=me.url;window.open(xe,"_blank"),y.value=!1}},T=async()=>{if(!v.value)return;const ne=await oa(v.value);alert(ne?s.value.codeCopied:" .")},W=async()=>{if(!v.value){alert("  .");return}await mS(v.value)&&alert(s.value.shareSuccess)},oe=async()=>{if(!v.value){alert("  .");return}const ne=await vS(v.value);ne.success?ne.method==="native"||(ne.method==="clipboard"||ne.method==="fallback")&&alert(s.value.linkCopied):ne.cancelled||alert(" .")},te=async()=>{if(!v.value)return;const ne=await oa(v.value);alert(ne?s.value.linkCopied:"  .")};return(ne,Z)=>(I(),P("div",AS,[Be(Jt,{coinCount:r.value},null,8,["coinCount"]),c("main",yS,[c("div",wS,[c("button",{class:"userProfileBtn",onClick:Z[0]||(Z[0]=me=>Pe(e).push("/profile"))},[Z[8]||(Z[8]=c("span",{class:"userProfileIcon"},"",-1)),c("span",null,g(s.value.userSettings),1),Z[9]||(Z[9]=c("span",{class:"arrowIcon"},"",-1))])]),c("div",bS,[c("label",CS,g(s.value.language),1),c("div",ES,[c("div",{class:"settingInput",onClick:Z[1]||(Z[1]=me=>l.value=!l.value)},[c("span",null,g(o.value),1),Z[10]||(Z[10]=c("span",{class:"dropdownIcon"},"",-1))]),l.value?(I(),P("div",_S,[(I(),P(we,null,De(A,me=>c("div",{key:me,class:Ee(["dropdownItem",{active:o.value===me}]),onClick:xe=>H(me)},g(me),11,xS)),64))])):re("",!0)])]),c("div",IS,[c("label",PS,g(L.value.region),1),c("div",BS,[c("div",{class:"settingInput",onClick:Z[2]||(Z[2]=me=>u.value=!u.value)},[c("span",null,g(a.value),1),Z[11]||(Z[11]=c("span",{class:"dropdownIcon"},"",-1))]),u.value?(I(),P("div",kS,[(I(),P(we,null,De(_,me=>c("div",{key:me,class:Ee(["dropdownItem",{active:a.value===me}]),onClick:xe=>{a.value=me,u.value=!1}},g(me),11,SS)),64))])):re("",!0)])]),c("div",TS,[c("h3",NS,g(s.value.walletConnection),1),m.value?(I(),P("div",RS,[c("div",DS,[c("div",LS,[Z[12]||(Z[12]=c("div",{class:"walletIndicatorDot"},null,-1)),c("span",null,g(s.value.connected),1)]),c("button",{class:"refreshBtn",onClick:D,title:s.value.refreshBalance},[...Z[13]||(Z[13]=[Tv('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-61d5b9de><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" data-v-61d5b9de></path><path d="M21 3v5h-5" data-v-61d5b9de></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" data-v-61d5b9de></path><path d="M3 21v-5h5" data-v-61d5b9de></path></svg>',1)])],8,OS)]),c("div",MS,[c("div",FS,[c("span",US,g(s.value.address)+":",1),c("div",$S,[c("span",HS,g(p.value),1),c("button",{class:"walletCopyBtn",onClick:M,title:s.value.copy},[...Z[14]||(Z[14]=[c("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),c("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])],8,GS)])]),c("div",QS,[c("span",VS,g(s.value.balance)+":",1),c("span",KS,g(w.value),1)])]),c("button",{class:"walletDepositBtn",onClick:X},[Z[15]||(Z[15]=c("svg",{class:"depositIcon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("path",{d:"M12 2v20M2 12h20"})],-1)),c("span",null,g(s.value.depositFromWallet),1)]),c("button",{class:"walletDisconnectBtn",onClick:z},g(s.value.disconnect),1)])):(I(),P("div",WS,[Z[16]||(Z[16]=c("div",{class:"walletNotConnectedIcon"},"",-1)),c("p",jS,g(s.value.walletNotConnected),1),c("p",JS,g(s.value.walletConnectDesc),1),c("button",{class:"walletConnectBtn",onClick:K,disabled:f.value},[f.value?(I(),P("span",XS,g(s.value.connecting),1)):(I(),P("span",YS,g(s.value.connectWallet),1))],8,zS),h.value?(I(),P("div",ZS,g(h.value),1)):re("",!0)]))]),i.value?(I(),P("div",qS,[c("div",eT,[c("h2",tT,g(s.value.inviteFriends),1),c("p",nT,g(s.value.inviteDescription),1),c("div",sT,[c("label",rT,g(s.value.inviteCode),1),c("div",iT,[c("span",oT,g(v.value),1),c("button",{class:"copyBtn",onClick:T,title:s.value.copyInviteCode},"  ",8,aT)])]),c("div",lT,[c("button",{class:"shareBtn kakaoBtn",onClick:W},[Z[17]||(Z[17]=c("span",{class:"kakaoIcon"},"",-1)),c("span",null,g(s.value.shareKakao),1)]),c("button",{class:"shareBtn nativeBtn",onClick:oe},[Z[18]||(Z[18]=c("span",{class:"shareIcon"},"",-1)),c("span",null,g(s.value.shareNative),1)]),c("button",{class:"shareBtn copyLinkBtn",onClick:te},[Z[19]||(Z[19]=c("span",{class:"copyIcon"},"",-1)),c("span",null,g(s.value.copyLink),1)])]),c("div",cT,[c("div",uT,[Z[20]||(Z[20]=c("span",{class:"rewardIcon"},"",-1)),c("div",dT,[c("div",fT,g(s.value.inviteReward),1),c("div",hT,g(s.value.inviteRewardDesc),1)])]),c("div",pT,[Z[21]||(Z[21]=c("span",{class:"rewardIcon"},"",-1)),c("div",gT,[c("div",mT,g(s.value.newUserReward),1)])])]),c("div",vT,[c("h3",AT,g(s.value.inviteStats),1),c("div",yT,[c("span",wT,g(b.value.totalReferrals),1),c("span",bT,g(s.value.invites),1)])])])])):re("",!0),c("div",CT,[c("label",ET,g(s.value.attendance),1),c("button",{class:"checkInBtn",onClick:Z[3]||(Z[3]=me=>Pe(e).push("/attendance"))},g(s.value.doAttendanceCheck),1)]),c("div",_T,[c("button",{class:"nftBtn",onClick:Z[4]||(Z[4]=me=>Pe(e).push("/nft"))}," NFT ")])]),Be(zt),y.value?(I(),P("div",{key:0,class:"depositPopupOverlay",onClick:F},[c("div",{class:"depositPopup",onClick:Z[7]||(Z[7]=hn(()=>{},["stop"]))},[c("div",xT,[c("h3",IT,g(s.value.selectDepositMethod),1),c("button",{class:"depositPopupClose",onClick:F},"")]),c("div",PT,[c("p",BT,g(s.value.selectExchangeToDeposit),1),c("div",kT,[c("button",{class:"depositOption",onClick:Z[5]||(Z[5]=me=>O("phantom"))},[Z[23]||(Z[23]=c("div",{class:"depositOptionIcon"},"",-1)),c("div",ST,[Z[22]||(Z[22]=c("div",{class:"depositOptionName"},"Phantom",-1)),c("div",TT,g(s.value.goToPhantomWallet),1)]),Z[24]||(Z[24]=c("div",{class:"depositOptionArrow"},"",-1))]),c("button",{class:"depositOption",onClick:Z[6]||(Z[6]=me=>O("upbit"))},[Z[26]||(Z[26]=c("div",{class:"depositOptionIcon"},"",-1)),c("div",NT,[Z[25]||(Z[25]=c("div",{class:"depositOptionName"},"Upbit",-1)),c("div",RT,g(s.value.goToUpbitExchange),1)]),Z[27]||(Z[27]=c("div",{class:"depositOptionArrow"},"",-1))])]),c("div",DT,[c("p",LT," "+g(s.value.copyWalletAddressAndDeposit),1),c("button",{class:"depositCopyAddressBtn",onClick:M},g(s.value.copyWalletAddress),1)])])])])):re("",!0)]))}},MT=_t(OT,[["__scopeId","data-v-61d5b9de"]]),FT={class:"profilePage"},UT={class:"mainContent"},$T={class:"profileHeader"},HT={class:"profileImageWrapper"},GT=["src","alt"],QT={key:1,class:"profileImagePlaceholder"},VT={class:"profileInfo"},KT={class:"userName"},WT={class:"userEmail"},jT={class:"settingGroup"},JT={class:"settingLabel"},zT={class:"settingInput"},YT={class:"userId"},XT={key:0,class:"statsSection"},ZT={class:"sectionTitle"},qT={class:"statsGrid"},eN={class:"statCard"},tN={class:"statInfo"},nN={class:"statLabel"},sN={class:"statValue"},rN={class:"statCard"},iN={class:"statInfo"},oN={class:"statLabel"},aN={class:"statValue"},lN={class:"statCard"},cN={class:"statInfo"},uN={class:"statLabel"},dN={class:"statValue"},fN={class:"statCard"},hN={class:"statInfo"},pN={class:"statLabel"},gN={class:"statValue"},mN={class:"logoutSection"},vN={__name:"UserProfilePage",setup(t){const e=Ht(),n=Et(),{logout:s}=n,r=ie(()=>n.state.coins),i=k(null),o=k(""),a=k(""),l=k(""),u=k(""),d=k(""),f={ko:{userProfile:" ",userID:"User ID",copySuccess:"User ID !",logout:"",logoutConfirm:"  ?",gameStats:" ",level:"",points:"",coins:"",catFragments:" ",back:" "},en:{userProfile:"User Profile",userID:"User ID",copySuccess:"User ID copied!",logout:"Logout",logoutConfirm:"Are you sure you want to logout?",gameStats:"Game Stats",level:"Level",points:"Points",coins:"Coins",catFragments:"Cat Fragments",back:" Back"}},h=ie(()=>o.value===""?f.ko:f.en);ct(()=>{const v=qe();v?(i.value=v,n.loadCurrentUser(),a.value=v.email||v.id||"",l.value=v.name||v.displayName||a.value.split("@")[0]||"User",u.value=v.photoURL||"",d.value=v.id||"ID"+String(Math.random()).substring(2,10)):e.push("/login");const b=localStorage.getItem("appLanguage");b?o.value=b:(o.value="English",localStorage.setItem("appLanguage","English"));const A=()=>{n.loadCurrentUser()};window.addEventListener("userDataUpdated",A),Ct(()=>{window.removeEventListener("userDataUpdated",A)})});const p=()=>{window.history.length>1?e.back():e.push("/settings")},w=()=>{navigator.clipboard.writeText(d.value),alert(h.value.copySuccess)},m=()=>{confirm(h.value.logoutConfirm)&&(Fp(),s(),e.push("/login"))},y=ie(()=>i.value?{level:i.value.gameData?.level||1,points:i.value.gameData?.coins||0,coins:i.value.gameData?.totalCoin||0,catFragments:i.value.gameData?.catFragments||i.value.gameData?.catCount||0}:null);return(v,b)=>(I(),P("div",FT,[Be(Jt,{coinCount:r.value},null,8,["coinCount"]),c("main",UT,[c("button",{class:"backBtn",onClick:p},g(h.value.back),1),c("div",$T,[c("div",HT,[u.value?(I(),P("img",{key:0,src:u.value,alt:l.value,class:"profileImage"},null,8,GT)):(I(),P("div",QT,g(l.value.charAt(0).toUpperCase()),1))]),c("div",VT,[c("h2",KT,g(l.value),1),c("p",WT,g(a.value),1)])]),c("div",jT,[c("label",JT,g(h.value.userID),1),c("div",zT,[c("span",YT,g(d.value),1),c("button",{class:"copyBtn",onClick:w},"")])]),y.value?(I(),P("div",XT,[c("h3",ZT,g(h.value.gameStats),1),c("div",qT,[c("div",eN,[b[0]||(b[0]=c("div",{class:"statIcon"},"",-1)),c("div",tN,[c("div",nN,g(h.value.level),1),c("div",sN,g(y.value.level),1)])]),c("div",rN,[b[1]||(b[1]=c("div",{class:"statIcon"},"",-1)),c("div",iN,[c("div",oN,g(h.value.points),1),c("div",aN,g(y.value.points.toLocaleString()),1)])]),c("div",lN,[b[2]||(b[2]=c("div",{class:"statIcon"},"",-1)),c("div",cN,[c("div",uN,g(h.value.coins),1),c("div",dN,g(y.value.coins.toLocaleString()),1)])]),c("div",fN,[b[3]||(b[3]=c("div",{class:"statIcon"},"",-1)),c("div",hN,[c("div",pN,g(h.value.catFragments),1),c("div",gN,g(y.value.catFragments.toLocaleString()),1)])])])])):re("",!0),c("div",mN,[c("button",{class:"logoutBtn",onClick:m},g(h.value.logout),1)])]),Be(zt)]))}},AN=_t(vN,[["__scopeId","data-v-ca4a2538"]]),yN={class:"attendancePage"},wN={class:"mainContent"},bN={class:"attendanceInfo"},CN={class:"infoItem"},EN={class:"infoValue"},_N={class:"infoItem"},xN={class:"infoValue"},IN={key:0,class:"attendanceMessage"},PN={class:"attendanceGrid"},BN=["onClick"],kN={class:"dayNumber"},SN={class:"rewardIcon"},TN={key:0,class:"specialStar"},NN={class:"rewardAmount"},RN={__name:"AttendancePage",setup(t){const e=Et(),n=Ht(),s=ie(()=>e.state.coins),r=k(null),i=k(0),o=k([]),a=k(null),l=k(0),u=k(Array.from({length:20},(v,b)=>({day:b+1,reward:"1K",rewardType:"P",hasSpecial:[5,9,10,11,16,17].includes(b+1),isChecked:!1}))),d=(v,b)=>new Date(v).toDateString()===new Date(b).toDateString(),f=()=>{n.go(-1)},h=async v=>{if(!r.value){alert(" .");return}const b=new Date;b.toDateString();const A=b.toISOString();if(a.value&&d(a.value,A)){alert("   !   .");return}const _=u.value[v];if(_.isChecked){alert("  .");return}const L=o.value.length;if(a.value){const K=new Date(a.value),z=Math.floor((b-K)/(1e3*60*60*24));if(z>0&&v!==L){alert("   .");return}z===1?l.value+=1:z>1&&(l.value=1)}else l.value=1;_.isChecked=!0,o.value.push(_.day),i.value=o.value.length;const H=1e3,V=s.value+H;a.value=A,r.value&&(await e.updateCoins(V),await p()),alert(`Day ${_.day}  ! ${H}  !`),window.dispatchEvent(new Event("userDataUpdated"))},p=async()=>{if(r.value){const v={checkedDays:o.value,attendanceDays:i.value,consecutiveDays:l.value,lastCheckInDate:a.value,lastUpdate:new Date().toISOString()};localStorage.setItem(`attendance_${r.value.id}`,JSON.stringify(v)),await e.updateGameData({attendance:v})}},w=async()=>{if(r.value){let v=null;if(r.value.gameData?.attendance&&(v=r.value.gameData.attendance),!v){const b=localStorage.getItem(`attendance_${r.value.id}`);b&&(v=JSON.parse(b),v&&await e.updateGameData({attendance:v}))}v&&(o.value=v.checkedDays||[],i.value=v.attendanceDays||0,l.value=v.consecutiveDays||0,a.value=v.lastCheckInDate||null,o.value.forEach(b=>{const A=b-1;u.value[A]&&(u.value[A].isChecked=!0)}))}},m=ie(()=>{if(!a.value)return!0;const v=new Date,b=new Date(a.value),A=v.toDateString(),_=b.toDateString();return A!==_}),y=ie(()=>o.value.length);return ct(async()=>{r.value=qe(),e.loadCurrentUser(),r.value&&await w();const v=()=>{e.loadCurrentUser()};window.addEventListener("userDataUpdated",v),Ct(()=>{window.removeEventListener("userDataUpdated",v)})}),(v,b)=>(I(),P("div",yN,[Be(Jt,{coinCount:s.value},null,8,["coinCount"]),c("main",wN,[c("button",{class:"backBtn",onClick:f}," "),b[3]||(b[3]=c("h1",{class:"pageTitle"},"",-1)),c("div",bN,[c("div",CN,[b[0]||(b[0]=c("span",{class:"infoLabel"}," :",-1)),c("span",EN,g(l.value)+"",1)]),c("div",_N,[b[1]||(b[1]=c("span",{class:"infoLabel"}," :",-1)),c("span",xN,g(i.value)+"",1)])]),m.value?re("",!0):(I(),P("div",IN,"   !   . ")),c("div",PN,[(I(!0),P(we,null,De(u.value,(A,_)=>(I(),P("div",{key:A.day,class:Ee(["dayCell",{checked:A.isChecked,disabled:!m.value&&!A.isChecked||_!==y.value&&!A.isChecked,nextCheckable:m.value&&_===y.value&&!A.isChecked}]),onClick:L=>m.value&&(_===y.value||A.isChecked)?h(_):null},[c("div",kN,"Day "+g(A.day),1),c("div",SN,[b[2]||(b[2]=c("div",{class:"iconCircle"},"P",-1)),A.hasSpecial&&!A.isChecked?(I(),P("span",TN,"")):re("",!0)]),c("div",NN,g(A.reward),1)],10,BN))),128))])]),Be(zt)]))}},DN=_t(RN,[["__scopeId","data-v-c440a219"]]),LN="modulepreload",ON=function(t){return"/tdl/"+t},oh={},MN=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");r=l(n.map(u=>{if(u=ON(u),u in oh)return;oh[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":LN,d||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((p,w)=>{h.addEventListener("load",p),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Sr=()=>{const t=localStorage.getItem("marketplace");return t?JSON.parse(t):[]},Bu=t=>{localStorage.setItem("marketplace",JSON.stringify(t))},FN=(t,e,n)=>{const s=Sr(),r={id:`market_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sellerAddress:n,nftId:t.id,nftData:{...t},price:e,priceType:"COIN",listedAt:Date.now(),status:"listed"};return s.push(r),Bu(s),r},UN=(t,e)=>{const n=Sr(),s=n.findIndex(i=>i.id===t&&i.status==="listed");if(s===-1)return{success:!1,error:"  NFT ."};const r=n[s];return r.sellerAddress===e?{success:!1,error:" NFT   ."}:(n[s].status="sold",n[s].soldAt=Date.now(),n[s].buyerAddress=e,Bu(n),{success:!0,listing:r,nftData:r.nftData})},$N=(t,e)=>{const n=Sr(),s=n.findIndex(r=>r.id===t&&r.sellerAddress===e&&r.status==="listed");return s===-1?{success:!1,error:"  NFT ."}:(n[s].status="cancelled",n[s].cancelledAt=Date.now(),Bu(n),{success:!0,listing:n[s]})},HN=t=>Sr().filter(n=>n.sellerAddress===t&&n.status==="listed"),GN=()=>Sr().filter(e=>e.status==="listed"),QN=t=>Sr().some(n=>n.nftId===t&&n.status==="listed"),VN=()=>{const t=Sr(),e=t.filter(s=>s.status==="listed"),n=t.filter(s=>s.status==="sold");return{totalListings:t.length,activeListings:e.length,soldListings:n.length,totalVolume:n.reduce((s,r)=>s+(r.price||0),0)}},KN="/tdl/assets/btc-DC8WHF5v.png",WN="/tdl/assets/eth-DHgp7Wvq.png",jN="/tdl/assets/BTC_line-DiGuGbEI.png",JN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAACJCAYAAABaWIDDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA85SURBVHgB7d1fchPHFsfxMybJw61KhbuCTN5yqRDbK0BeAXgFmBXErACxguAVYFZgswLEClBibnLf7rCCKDhVqSJGndPqNghibHXPjKZ75vupUqQYy/yxpf5Nd5/ThQAAMBBGtq7r3ZbIfFPvS5GidPeiHzfX3f2yotL/zPxNHxu9bfxkHxcynUrGCgEAoKf8gD/SAf+WDnl39COlNKqwIaDSrzvNLRgQAAAAveIHfTvY39WbXu1/fFW/DsVEFrMGZuKDwSy1YEAAAAD0gg78I73Sv60P96STQf9KMz9jsBwM7IxBJR0gAAAAsuYGfvNAbyPJkw8Gxi8nLILBVIPBTFpEAAAAZEkHfp3eNz9mPPBfpdVgQAAAAGTFrfHPx/rwBxmmRoIBAQAAkA0jN+/o0PVY0lzj71pQMHgXAHyi2tcP2dpI/mHXa+ZqS+19P+pLAaBJXPXXshQMNg7ONx0uAoAmqj19qOsoDPwJqfw37Fi/YU/b3gwCAKnSwb/Uwf+ZuIY9qMdecN4r5OS48P+w/xckrjjU2xMNAhMBgIFoacr/vKvfxHX6szOwb1/p/W8if/5eSDVzv/d/vtZf/7fIta/edwy0fQUWj7ckX/r3O9vRALCp/7BmT5CLSm/jQn5+IgDQY0a+12Vp+VGaUbkZVdHb6U/ng3wdGk5uiQsmI1kEgsK3Gc6BmWgA+F4TD1P/+Sn0h7i431UDCQBok45NY717IPXY6e5DvT/WKe/nsgZGSh1PvzzfSzcSFwxKSW/5YmYDgBHk7KHOBowFAHqigcFfB/75I5E/Dpq40m/C+2BQbPnzCLbc4+4uwG0AsOv/pSBndmfnLrMBAHJXc/BPbuC/SofBYGoDgP2HHgtyV2kI2CEEAMhVvTV/u6Hvr3uF/K+SHlhDMNgvfG3lM8l7RyMct7NTfqGHAICsuLa+8xcSzl71jwt5eSAD0FAwmOrS8bbvA2BDwFtNXcWeIHeEAABZqVHnX+n73S7vdyHBwOgSyelDu0RSXPwFsEbXfelI6etLR1J/isd2FNxmOQBADoxsPos40EcH/dc7uaz1d8XIjS3Xx8D6sPyRswAS5GtL93wYKCVOxZ4AAKmL2/RnS/tO7zP410MASJxv02xfHKWEm/oQwIsEQHLiOtGaw0JO7glq2xAkTX/QD0Xe7Lh1m2Bbbm8HAKTIHAV9uphjBv/mEAAyYMta9If+vv7w74prBRzy7D0/xQYAyXCzmyak+qzSaX8G/waxBJAZI9+WIl9E7JY1u/b0JwGABAQ2oavsTGhfavxTwQxAZtwLwC4JBM8EPHbrbQDQLT8rWQY8Zczg3zwCQIaWQkDI5r5FwydCAIAu+feguwHPeMTpp+0gAGTKhYD5btizbOKeB266AYAmzfckaOr/9KGgFQSAjBXycqJ39yXMlk6/URkAYO3Cr/7t1D+1/m0hAGROp8YeRZQI7lMZAGD9TEhPkylT/+2iCqAnjNx85jsHhjyLygAAaxHe9MeM9P3puaA1zAD0xrWYHgFUBgBYExPQ7tdMGPzbxwxAj/geAfY4zZDDhCrODADQpvCr/zffUPbXPmYAeoTKAABpCrr6P2TwXw8CQM9QGQAgJe7q3+yt/oy/KPtbEwJAD9WoDNgXAGgUV/+pYg9Aj8VVBsx3/CwCANTC2n/amAHotZjKgI0jKgMANMM8Dvhcrv7XjBmAnqtRGbBdyJQOXACi6IXEyJ4/svozuPpfN2YAes69oEzoGdqlyFsqAwDUYAI2FnP13wUCwAC4bn/zsQQpRlQGAIhh5Oae/ndrxU+v2PnfDZYABkRflDqgF6E7/e+7qgIgLX6vih1k7FHXX7uPFuXSZ9glLL+MtfFK3H6YiqZX7dOLB7vxr1zts+fjQl4SADpAABgYfWHa/QCrJnOPygB0yw/2I310SxY/v8b+f8i+lmUaCoqpfg29bdh2s1NCQXPc1X+x6ua/Stf+d5j+7wYBYGD8pkC7MacMeNrMbwqsBFgTv4nstr5N3fEDfotsIBC9FU+FQFBL4NX/vl5cHAg6QQAYICoDkCod9O10vl2m+kHir/CbUOnb48QeSmNnCQgEqwm9+tflxW8EnSEADJS+UPWqqgjc6b84oWtHgIa5q33bMc6MJE2VXzY41kDwkwaCqeADvulPyOzingaAJ4LOEAAGzMh3+oa7MZYwj/RFG3rWAHChDAb+T6kIBB8ysvk4oOc/V/8JIAAMHJUB6II/IOaBBB0Sk7TZR0sGgwoE/hyRkLJhrv4TQAAAlQFYKz9Y2ANiulzjb9tyILAzBBPpKQ1z+t4xfxHwFK7+E0EAAJUBWAt/1f84w+n+Jsw+WjKYSA/4wd++d4SEOa7+E0EAwIKRG/pC/iz0hVxRGYBV+N3hdoq4z1f9Ic4DwcQvGUwkM3GDv235exLamhwtIQDgncASnvNnURmAS+mUv90v8oO0o3INfRYDanXxpyx6COit8F0DU/XBHoKJJCwy0On36M02TX/SQQDAB6gMQFNcTf9iyv+ONGPmBvvi2N2f6lR6FTT7ZKTUP9OXm/asC7cUYe9TtQgEtlvheXOizmfafJ+GsUQFOpr+pIYAgH/QdH+oPxp3JQyVAXjHDxR2ejhwc+mFX22iP4+HIq+fhg74K311uXlrKRAkPEvQbSDwnRntDGEpwYxeJJxwkZAYAgD+If7Nm8oARDWEuYgObnMNlH8ctDHoX8YHgi03c5F0IHi3h0D/Z9JWIGigV0Ol4W173d9HXI0AgAtRGYAYPjzakrBS4nQ28H/KUiAY+SWDHAJBrfMM/Pfxrj+HYSTxKg77SRcBAJ9EZQBC1J/2N4e6rn8/9StF/7q4lUcgeHfAUXVZcyL3vbPft/mmH/SbmPmoGPzTRgDApagMwKqMbB5FbvirbEdA/Zl5LhlygeCaHTBv+yWDUpK1qJSY+dt1dzP+vlEVg3/6CAC4EpUBuEp8qZ+dsj7d7dP6cF6BoBUVg38eCABYCZUB+BQd/MfiWvsGmo8LeflQes7tp/l8pA99tUGfA0H/Al2fEQCwEioDcJEag/9ga8I/CgT29RS5ZyI11PnnhgCAlVEZgGURJ8B5b3W9/7/0gvd8INjUh3cyDQRTkbN7hfwyFWSFAIAgVAbA0iUhO1gdSTAG/6v4boU6OyAjv2SQaiCY+WUcrvozRQBAMCoDhi3yBDgZypp/0xIMBMn1akAcAgCiUBkwTPFd/hj8m/L+PAO7ZGDDwNrOM9Ap/vkxA39/EAAQjcqAYWHwT1PLBxxV+jV10JfjXPs04NMIAIhGZcBwxA/+nP/ehaUDjuwMQSmrvUbtVX3lD1/Sq/2/dNnu11eC3iIAoJbIyoBKlw92qAzIQ40Wv1Od7dkWJMHNFPyrFLn21fuPvv1df+U3kT9/Z1p/eAgAqI3KgH6LbPFbcQIckLYNAWpy9b8mdHNfqVcfgZUEWDfX4jdm8LetYBn8gZQRANAIXec9tJu9JEhxx3eSQ4L89ya0v39FH3ggDywBoFFUBvRDZItfveJ/s83gD+SBAIBGxW8YO9umlWga4lv88j0EcsISABrlNvW92ZXFVHCIz45cqRm65Fr8xvb3Z/AHckIAQOPcFPCZDQEhm8BKO3PgZhDQBdfit4jYmGkb/dDfH8gNAQCtoDIgL77Rjz3ch/7+wEAQANAaKgPyQItfYJjYBIjWURmQLlr8AsNFAEDrIisDZiJnO2wsa098xQZHOwN9wBIAWhdZGXCdyoC2GbvfIri/v8jprgDIHgEAa1GjMuCIyoDm1Wjxu0uLX6AfCABYGz+dH7ppTK9Q30bUpeNTaPELwCIAYK3cxr7gyoA9KgOaUaPFL4M/0DNsAkQnjNw8siV/EmZPAwQNZyJFtvhlMybQUwQAdMLvQH8hYeVnDEaRXIvf4kiC2Ra/dPkD+oglAHTCVwbYUrIq4GlUBkSo0eJ3n8Ef6C8CADqzVBkQoqQyYHU1W/weCIDeIgCgU346P/TMACoDVkCLXwCXIQCgc1QGNK9ei18Gf2AI2ASIZFAZ0Axa/AJYBTMASMg1e7hMJWEeGbkR2s6252jxC+BqBAAkg8qA+mjxC2BVBAAkxVUGzEOPmS2pDKDFL4AwBAAkp5CXE6EyIAgtfgGEIgAgSa4ywDwKfNYgKwN8i9+Iwf+MwR8YMKoAkDQjN5/pj+lIwgymMoAWvwBiMQOAxF2zO9MrCTOIygBa/AKogwCApC1VBoTsUO99ZQAtfgHURQBA8nxlAGcGeLT4BdAEAgCyQGWAU6PF7yMGfwDL2ASIrBi5qQN6sR/4tIeF/DyWzNVo8XtcyAld/gB8gBkAZEUHsvu2Z72EeWDk+7uSvegWv6GNlQAMAAEAGRpeZQAtfgE0jQCA7AytMoAWvwDaQABAloZSGRDZ4rdi8AdwFQIAstX3yoAaLX53GfwBXIUAgKz19cwA1+JXIoKKuVfIL1MBgCtQBohe6NOZAa7F76LcL7TL3z5d/gCsihkA9EQ/KgNo8QtgXZgBQG8Y+bYU+eKFhA2e/ljc7qfNafELYJ2YAUBvRFYG2PLAZ37NvTM6+I/0z27DSylBaPELIA4BAL0SWRmgIaA46mpjoNvtH7Pmv2jxG/p3BYAFlgDQS5FnBliV5mJdEphW0jI35W/b+5qRhNMli9c7dPkDEIsAgN6KrAzwikO9PWwjCPhDfWw4sd39YpoSVTT6AVAXAQC95QfaiHX1ZYsgcKBBoPYmQb/Of1sf7kncwG9VDP4AmkAAQK/5yoCInfX/UOntWJcHnur91J1HcNXvvWg5bGv6R/pSuxU51f/Rn4HBH0AzCADovQZDwJLCzgjYEFDp71AtfbwUd3WvA78ppTkVgz+AJhEAMAjthIC1qRj8ATSNMkAMghs87RHCZiJ5mTL4A2gDAQCDYQfRQk52bOc8yYI95Og1gz+AVrAEgEEy8t1I8+9jSXNJYOZO9Ts5FgBoCTMAGCTXMXBjO73ZgMVV/zcM/gDaxgwABs9tEPz8gb4c9qQzi70JYx34nwsArAEBAPA6CAJ2qt9e6R8y8ANYNwIA8BEfBEb68G58K+FLf4eJfl0d+F8/oZc/gK4QAIBLGCmvi3x5Sx+OfBjYknBT/Up6KyY66D9l0AeQAgIAEMjIDQ0B177yXf/KCz6l0s/SQf5sWsivrwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADA0PwNkHeXO5vHqaMAAAAASUVORK5CYII=",zN={class:"nftPage"},YN={class:"mainContent nftWrap"},XN={class:"tabMenu"},ZN={key:0,class:"walletContent"},qN={class:"walletSection"},eR={class:"walletBalance"},tR={class:"btcInfo"},nR={class:"change positive"},sR={key:0,class:"ethInfo"},rR={class:"subTabMenu"},iR={key:0,class:"itemList"},oR={class:"itemIcon"},aR={class:"itemInfo"},lR={class:"itemSymbol"},cR={class:"itemName"},uR={class:"itemChart"},dR={class:"itemPrice"},fR={class:"price"},hR={key:1,class:"nftList"},pR=["onClick"],gR={class:"nftThumbnail"},mR={class:"nftInfo"},vR={class:"nftId"},AR={class:"collectionName"},yR={class:"nftValue"},wR={class:"nftStars"},bR={class:"nftLevel"},CR={key:0,class:"emptyNFTs"},ER={class:"emptyText"},_R={key:1,class:"marketplaceContent"},xR={class:"marketplaceHeader"},IR={class:"marketplaceStats"},PR={class:"filterBar"},BR={value:"all"},kR={value:"common"},SR={value:"rare"},TR={value:"epic"},NR={value:"legendary"},RR={value:"all"},DR={value:"low"},LR={value:"mid"},OR={value:"high"},MR={value:"newest"},FR={value:"oldest"},UR={value:"priceLow"},$R={value:"priceHigh"},HR={value:"level"},GR={value:"stars"},QR={key:0,class:"nftGrid"},VR=["onClick"],KR={class:"nftCardImage"},WR=["src"],jR={class:"nftCardBadges"},JR={class:"starBadge"},zR={class:"levelBadge"},YR={class:"nftCardInfo"},XR={class:"nftCardName"},ZR={class:"nftCardPrice"},qR={class:"priceLabel"},eD={class:"priceValue"},tD=["onClick"],nD={key:1,class:"emptyMarketplace"},sD={class:"emptyText"},rD={key:2,class:"myNFTsContent"},iD={class:"sectionHeader"},oD={class:"myCoinBalance"},aD={key:0,class:"nftGrid"},lD=["onClick"],cD={class:"nftCardImage"},uD=["src"],dD={class:"nftCardBadges"},fD={class:"starBadge"},hD={class:"levelBadge"},pD={class:"nftCardInfo"},gD={class:"nftCardName"},mD=["onClick"],vD={key:1,class:"emptyMarketplace"},AD={class:"emptyText"},yD={key:3,class:"myListingsContent"},wD={class:"sectionHeader"},bD={key:0,class:"nftGrid"},CD={class:"nftCardImage"},ED=["src"],_D={class:"nftCardBadges"},xD={class:"starBadge"},ID={class:"levelBadge"},PD={class:"nftCardInfo"},BD={class:"nftCardName"},kD={class:"nftCardPrice"},SD={class:"priceLabel"},TD={class:"priceValue"},ND=["onClick"],RD={key:1,class:"emptyMarketplace"},DD={class:"emptyText"},LD={class:"modalHeader"},OD={class:"modalTitle"},MD={class:"modalBody"},FD={class:"sellNFTPreview"},UD=["src"],$D={class:"sellNFTInfo"},HD={class:"sellNFTName"},GD={class:"sellNFTDetails"},QD={class:"sellPriceInput"},VD={class:"inputLabel"},KD=["placeholder"],WD={class:"priceHint"},jD={class:"modalFooter"},JD={class:"modalHeader"},zD={class:"modalTitle"},YD={class:"modalBody"},XD={class:"buyNFTPreview"},ZD=["src"],qD={class:"buyNFTInfo"},eL={class:"buyNFTName"},tL={class:"buyNFTDetails"},nL={class:"buyPriceInfo"},sL={class:"priceRow"},rL={class:"priceLabel"},iL={class:"priceValue"},oL={class:"priceRow"},aL={class:"priceLabel"},lL={key:0,class:"insufficientWarning"},cL={class:"modalFooter"},uL=["disabled"],dL={class:"modalHeader"},fL={class:"modalTitle"},hL={class:"modalBody"},pL={class:"detailNFTImage"},gL=["src"],mL={class:"detailBadges"},vL={class:"detailStarBadge"},AL={class:"detailLevelBadge"},yL={class:"detailInfo"},wL={class:"detailRow"},bL={class:"detailValue"},CL={class:"detailRow"},EL={class:"detailLabel"},_L={class:"detailValue"},xL={class:"popupHeader"},IL={class:"popupTitle"},PL={class:"popupBody"},BL={class:"popupMessage"},kL={class:"popupActions"},SL={class:"popupHeader"},TL={class:"popupTitle"},NL={class:"popupBody"},RL={class:"popupMessage"},DL={class:"popupActions"},LL={class:"popupHeader"},OL={class:"popupTitle"},ML={class:"popupBody"},FL={class:"popupMessage"},UL={class:"popupActions"},$L={class:"searchModalHeader"},HL={class:"searchModalTitle"},GL={class:"searchModalBody"},QL=["placeholder"],VL={class:"searchModalFooter"},KL={__name:"NFTPage",setup(t){const e=Et(),n=ie(()=>e.state.coins),s=ie(()=>e.state.totalCoin),r=k("wallet"),i=k("$ 5,323.00"),o=k("0.0000 ETH"),a=k("0.00335"),l=k("+6.54%"),u=k(!1),d=k(!1),f=k(!1),h=k([]),p=k([]),w=k([]),m=k(!1),y=k(!1),v=k(!1),b=k(null),A=k(""),_=k("all"),L=k("all"),H=k("newest"),V=k(""),K=k(!1),z=k("tokens"),M=k(null),D=ie(()=>vn()),X=R=>{try{return new URL(Object.assign({"../assets/img/cat1.png":La,"../assets/img/cat10.png":Oa,"../assets/img/cat11.png":Ma,"../assets/img/cat12.png":Fa,"../assets/img/cat13.png":Ua,"../assets/img/cat14.png":$a,"../assets/img/cat15.png":Ha,"../assets/img/cat16.png":Ga,"../assets/img/cat17.png":Qa,"../assets/img/cat18.png":Va,"../assets/img/cat19.png":Ka,"../assets/img/cat2.png":Wa,"../assets/img/cat20.png":ja,"../assets/img/cat21.png":Ja,"../assets/img/cat22.png":za,"../assets/img/cat23.png":Ya,"../assets/img/cat24.png":Xa,"../assets/img/cat25.png":Za,"../assets/img/cat26.png":qa,"../assets/img/cat27.png":el,"../assets/img/cat28.png":tl,"../assets/img/cat29.png":nl,"../assets/img/cat3.png":sl,"../assets/img/cat30.png":rl,"../assets/img/cat4.png":il,"../assets/img/cat5.png":ol,"../assets/img/cat6.png":al,"../assets/img/cat7.png":ll,"../assets/img/cat8.png":cl,"../assets/img/cat9.png":ul,"../assets/img/catPoint.png":dl,"../assets/img/catPointPlus.png":fl,"../assets/img/catProfile01.png":hl,"../assets/img/catProfile02.png":pl,"../assets/img/cat_ico.png":gl})[`../assets/img/cat${R}.png`],import.meta.url).href}catch{return`/src/assets/img/cat${R}.png`}},F=()=>{h.value=GN(),M.value&&(w.value=HN(M.value.walletAddress||M.value.id),p.value=(M.value.gameData?.inventory||[]).filter(R=>!QN(R.id)))},O=ie(()=>{let R=[...h.value];if(V.value.trim()){const x=V.value.toLowerCase();R=R.filter(N=>N.nftData.name.toLowerCase().includes(x)||String(N.nftData.imageId).includes(x))}return _.value!=="all"&&(R=R.filter(x=>(x.nftData.rarity||Ne.COMMON)===_.value)),L.value!=="all"&&(L.value==="low"?R=R.filter(x=>x.price<1e3):L.value==="mid"?R=R.filter(x=>x.price>=1e3&&x.price<5e3):L.value==="high"&&(R=R.filter(x=>x.price>=5e3))),R=[...R].sort((x,N)=>{switch(H.value){case"newest":return N.listedAt-x.listedAt;case"oldest":return x.listedAt-N.listedAt;case"priceLow":return x.price-N.price;case"priceHigh":return N.price-x.price;case"level":return(N.nftData.level||1)-(x.nftData.level||1);case"stars":return(N.nftData.stars||0)-(x.nftData.stars||0);default:return 0}}),R}),T=R=>{b.value=R,A.value="",m.value=!0},W=()=>{m.value=!1,b.value=null,A.value=""},oe=async()=>{if(!b.value)return;const R=parseFloat(A.value);if(!R||R<=0){alert(D.value.enterValidPrice);return}if(!M.value){alert(D.value.loginRequired);return}const x=M.value.walletAddress||M.value.id;FN(b.value,R,x);const j=(M.value.gameData?.inventory||[]).filter(ee=>ee.id!==b.value.id);await e.updateGameData({inventory:j}),F(),alert(`${D.value.nftListedOnMarketplace} (${D.value.price}: ${R.toLocaleString()} ${D.value.coin})`),W()},te=R=>{b.value=R,y.value=!0},ne=()=>{y.value=!1,b.value=null},Z=async()=>{if(!b.value||!M.value)return;const R=b.value,x=M.value.walletAddress||M.value.id,N=M.value.gameData?.totalCoin||0;if(N<R.price){alert(`${D.value.insufficientCoinsForPurchase} (${D.value.required}: ${R.price.toLocaleString()}, ${D.value.ownedCoins}: ${N.toLocaleString()})`);return}const j=UN(R.id,x);if(!j.success){alert(j.error);return}const ee=M.value.gameData?.inventory||[];ee.unshift(j.nftData),await e.updateGameData({inventory:ee,totalCoin:N-R.price});const{getAllUsers:q}=await MN(async()=>{const{getAllUsers:ge}=await Promise.resolve().then(()=>Ry);return{getAllUsers:ge}},void 0),ae=q().find(ge=>(ge.walletAddress||ge.id)===R.sellerAddress);if(ae){const ge=ae.gameData?.totalCoin||0;await Ki(ae.id,{totalCoin:ge+R.price}),window.dispatchEvent(new CustomEvent("userDataUpdated"))}F(),alert(`${D.value.nftPurchased} (${R.price.toLocaleString()} ${D.value.coinsPaid})`),ne()},me=async R=>{if(!confirm(D.value.confirmCancelSale)||!M.value)return;const x=M.value.walletAddress||M.value.id,N=$N(R.id,x);if(!N.success){alert(N.error);return}const j=M.value.gameData?.inventory||[];j.unshift(R.nftData),await e.updateGameData({inventory:j}),F(),alert(D.value.saleCancelled)},xe=R=>{b.value=R,v.value=!0},ut=()=>{v.value=!1,b.value=null},at=()=>{V.value="",_.value="all",L.value="all",H.value="newest"},lt=ie(()=>VN()),tt=k([{id:1,name:"Bitcoin",symbol:"BTC",price:"36,590.00",change:"+6.21%",isPositive:!0,image:KN,lineImage:jN},{id:2,name:"Ethereum",symbol:"ETH",price:"2,590.00",change:"+5.21%",isPositive:!0,image:WN,lineImage:JN}]),G=ie(()=>M.value?(M.value.gameData?.inventory||[]).slice(0,10):[]),le=()=>M.value?`$ ${((M.value.gameData?.totalCoin||0)*.01).toFixed(2)}`:"$ 0.00",se=()=>{d.value=!0},fe=()=>{u.value=!0},ke=()=>{f.value=!0},C=()=>{d.value=!1},E=()=>{u.value=!1},S=()=>{f.value=!1};ct(()=>{M.value=qe(),e.loadCurrentUser(),M.value&&(i.value=le(),e.isWalletConnected&&e.walletAddress&&(o.value=e.userBalance)),F();const R=()=>{M.value=qe(),e.loadCurrentUser(),M.value&&(i.value=le()),F()};window.addEventListener("userDataUpdated",R),Ct(()=>{window.removeEventListener("userDataUpdated",R)})});const Q=R=>{r.value=R,F()};return(R,x)=>(I(),P("div",zN,[Be(Jt,{coinCount:n.value},null,8,["coinCount"]),c("main",YN,[c("div",XN,[c("button",{class:Ee(["tab",{active:r.value==="wallet"}]),onClick:x[0]||(x[0]=N=>Q("wallet"))},g(D.value.wallet),3),c("button",{class:Ee(["tab",{active:r.value==="marketplace"}]),onClick:x[1]||(x[1]=N=>Q("marketplace"))},g(D.value.marketplace),3),c("button",{class:Ee(["tab",{active:r.value==="myNFTs"}]),onClick:x[2]||(x[2]=N=>Q("myNFTs"))},g(D.value.myNFTs),3),c("button",{class:Ee(["tab",{active:r.value==="myListings"}]),onClick:x[3]||(x[3]=N=>Q("myListings"))},g(D.value.myListings),3)]),r.value==="wallet"?(I(),P("div",ZN,[c("div",qN,[x[23]||(x[23]=c("div",{class:"walletLabel"},"Current Wallet Balance",-1)),c("div",eR,g(i.value),1),c("div",tR,[c("span",null,"BTC : "+g(a.value),1),c("span",nR,g(l.value),1)]),o.value!=="0.0000 ETH"?(I(),P("div",sR,[c("span",null,"ETH : "+g(o.value),1)])):re("",!0)]),c("div",{class:"actionButtons"},[c("button",{class:"actionBtn sendBtn",onClick:se},[...x[24]||(x[24]=[c("div",{class:"btnIcon"},null,-1),c("span",{class:"btnLabel"},"Send",-1)])]),c("button",{class:"actionBtn buyBtn",onClick:fe},[...x[25]||(x[25]=[c("div",{class:"btnIcon"},null,-1),c("span",{class:"btnLabel"},"Buy",-1)])]),c("button",{class:"actionBtn receiveBtn",onClick:ke},[...x[26]||(x[26]=[c("div",{class:"btnIcon"},null,-1),c("span",{class:"btnLabel"},"Receive",-1)])])]),c("div",rR,[c("button",{class:Ee(["subTab",{active:z.value==="tokens"}]),onClick:x[4]||(x[4]=N=>z.value="tokens")}," Tokens ",2),c("button",{class:Ee(["subTab",{active:z.value==="nfts"}]),onClick:x[5]||(x[5]=N=>z.value="nfts")}," NFTs ",2)]),z.value==="tokens"?(I(),P("div",iR,[(I(!0),P(we,null,De(tt.value,N=>(I(),P("div",{key:N.id,class:"item"},[c("div",oR,[c("div",{class:"iconCircle",style:Ye({backgroundImage:`url(${N.image})`})},null,4)]),c("div",aR,[c("div",lR,g(N.symbol),1),c("div",cR,g(N.name),1)]),c("div",uR,[c("div",{class:"chartLine",style:Ye({backgroundImage:`url(${N.lineImage})`})},null,4)]),c("div",dR,[c("div",fR,"$"+g(N.price),1),c("div",{class:Ee(["change",{positive:N.isPositive,negative:!N.isPositive}])},g(N.change),3)])]))),128))])):re("",!0),z.value==="nfts"?(I(),P("div",hR,[(I(!0),P(we,null,De(G.value,N=>(I(),P("div",{key:N.id,class:"nftItem",onClick:j=>xe(N)},[c("div",gR,[c("div",{class:"thumbnailPlaceholder",style:Ye({backgroundImage:`url(${X(N.imageId||N.id)})`})},null,4)]),c("div",mR,[c("div",vR,"#"+g(N.id),1),c("div",AR,g(N.name),1)]),c("div",yR,[c("div",wR,[(I(),P(we,null,De(5,j=>c("span",{key:j,class:"star"},g(j<=(N.stars||0)?"":""),1)),64))]),c("div",bR,"Lv "+g(N.level||1),1)])],8,pR))),128)),G.value.length===0?(I(),P("div",CR,[x[27]||(x[27]=c("div",{class:"emptyIcon"},"",-1)),c("div",ER,g(D.value.noNFTsInWallet),1)])):re("",!0)])):re("",!0)])):re("",!0),r.value==="marketplace"?(I(),P("div",_R,[c("div",xR,[c("div",IR,[c("span",null,g(D.value.onSale)+": "+g(lt.value.activeListings)+g(D.value.itemsCount),1),c("span",null,g(D.value.totalVolume)+": "+g(lt.value.totalVolume.toLocaleString())+" "+g(D.value.coin),1)]),c("button",{class:"searchBtn",onClick:x[6]||(x[6]=N=>K.value=!0)},[x[28]||(x[28]=c("span",null,"",-1)),c("span",null,g(D.value.searchNFT),1)])]),c("div",PR,[It(c("select",{"onUpdate:modelValue":x[7]||(x[7]=N=>_.value=N),class:"filterSelect"},[c("option",BR,g(D.value.allRarity),1),c("option",kR,g(D.value.common),1),c("option",SR,g(D.value.rare),1),c("option",TR,g(D.value.epic),1),c("option",NR,g(D.value.legendary),1)],512),[[Qs,_.value]]),It(c("select",{"onUpdate:modelValue":x[8]||(x[8]=N=>L.value=N),class:"filterSelect"},[c("option",RR,g(D.value.allPrice),1),c("option",DR,g(D.value.under1000Coins),1),c("option",LR,g(D.value.midPriceRange),1),c("option",OR,g(D.value.over5000Coins),1)],512),[[Qs,L.value]]),It(c("select",{"onUpdate:modelValue":x[9]||(x[9]=N=>H.value=N),class:"filterSelect"},[c("option",MR,g(D.value.newest),1),c("option",FR,g(D.value.oldest),1),c("option",UR,g(D.value.priceLow),1),c("option",$R,g(D.value.priceHigh),1),c("option",HR,g(D.value.levelHigh),1),c("option",GR,g(D.value.starsHigh),1)],512),[[Qs,H.value]])]),O.value.length>0?(I(),P("div",QR,[(I(!0),P(we,null,De(O.value,N=>(I(),P("div",{key:N.id,class:"nftCard",onClick:j=>xe(N.nftData)},[c("div",KR,[c("img",{src:X(N.nftData.imageId||N.nftData.id),alt:"NFT"},null,8,WR),c("div",jR,[c("div",JR,[(I(),P(we,null,De(5,j=>c("span",{key:j,class:"star"},g(j<=(N.nftData.stars||0)?"":""),1)),64))]),c("div",zR,"Lv "+g(N.nftData.level||1),1)])]),c("div",YR,[c("div",XR,g(N.nftData.name),1),c("div",ZR,[c("span",qR,g(D.value.price)+":",1),c("span",eD,g(N.price.toLocaleString())+" "+g(D.value.coin),1)])]),c("button",{class:"buyBtn",onClick:hn(j=>te(N),["stop"])},g(D.value.buy),9,tD)],8,VR))),128))])):(I(),P("div",nD,[x[29]||(x[29]=c("div",{class:"emptyIcon"},"",-1)),c("div",sD,g(D.value.noNFTsOnSale),1)]))])):re("",!0),r.value==="myNFTs"?(I(),P("div",rD,[c("div",iD,[c("h3",null,g(D.value.myNFTsCount)+" ("+g(p.value.length)+g(D.value.itemsCount)+")",1),c("div",oD,g(D.value.ownedCoins)+": "+g(s.value.toLocaleString()),1)]),p.value.length>0?(I(),P("div",aD,[(I(!0),P(we,null,De(p.value,N=>(I(),P("div",{key:N.id,class:"nftCard",onClick:j=>xe(N)},[c("div",cD,[c("img",{src:X(N.imageId||N.id),alt:"NFT"},null,8,uD),c("div",dD,[N.rarity?(I(),P("div",{key:0,class:"rarityBadge",style:Ye(Pe(Zr)(N.rarity))},g(Pe(ia)(N.rarity)),5)):re("",!0),c("div",fD,[(I(),P(we,null,De(5,j=>c("span",{key:j,class:"star"},g(j<=(N.stars||0)?"":""),1)),64))]),c("div",hD,"Lv "+g(N.level||1),1)])]),c("div",pD,[c("div",gD,g(N.name),1)]),c("button",{class:"sellBtn",onClick:hn(j=>T(N),["stop"])},g(D.value.sell),9,mD)],8,lD))),128))])):(I(),P("div",vD,[x[30]||(x[30]=c("div",{class:"emptyIcon"},"",-1)),c("div",AD,g(D.value.noNFTsAvailableForSale),1)]))])):re("",!0),r.value==="myListings"?(I(),P("div",yD,[c("div",wD,[c("h3",null,g(D.value.mySalesList)+" ("+g(w.value.length)+g(D.value.itemsCount)+")",1)]),w.value.length>0?(I(),P("div",bD,[(I(!0),P(we,null,De(w.value,N=>(I(),P("div",{key:N.id,class:"nftCard"},[c("div",CD,[c("img",{src:X(N.nftData.imageId||N.nftData.id),alt:"NFT"},null,8,ED),c("div",_D,[c("div",xD,[(I(),P(we,null,De(5,j=>c("span",{key:j,class:"star"},g(j<=(N.nftData.stars||0)?"":""),1)),64))]),c("div",ID,"Lv "+g(N.nftData.level||1),1)])]),c("div",PD,[c("div",BD,g(N.nftData.name),1),c("div",kD,[c("span",SD,g(D.value.salePrice)+":",1),c("span",TD,g(N.price.toLocaleString())+" "+g(D.value.coin),1)])]),c("button",{class:"cancelBtn",onClick:j=>me(N)},g(D.value.cancelSale),9,ND)]))),128))])):(I(),P("div",RD,[x[31]||(x[31]=c("div",{class:"emptyIcon"},"",-1)),c("div",DD,g(D.value.noNFTsOnSaleList),1)]))])):re("",!0)]),Be(zt),m.value&&b.value?(I(),P("div",{key:0,class:"modalOverlay",onClick:W},[c("div",{class:"modalContent",onClick:x[11]||(x[11]=hn(()=>{},["stop"]))},[c("div",LD,[c("h3",OD,g(D.value.sellNFT),1),c("button",{class:"modalClose",onClick:W},"")]),c("div",MD,[c("div",FD,[c("img",{src:X(b.value.imageId||b.value.id),alt:"NFT",class:"sellNFTImage"},null,8,UD),c("div",$D,[c("div",HD,g(b.value.name),1),c("div",GD,[c("span",null," "+g(b.value.stars||0)+g(D.value.starsRating),1),c("span",null,"Lv "+g(b.value.level||1),1)])])]),c("div",QD,[c("label",VD,g(D.value.sellPriceLabel),1),It(c("input",{type:"number","onUpdate:modelValue":x[10]||(x[10]=N=>A.value=N),placeholder:D.value.enterPrice,class:"priceInput",min:"1"},null,8,KD),[[Wn,A.value]]),c("div",WD,g(D.value.currentOwnedCoins)+": "+g(s.value.toLocaleString()),1)])]),c("div",jD,[c("button",{class:"modalBtn cancelBtn",onClick:W},g(D.value.cancel),1),c("button",{class:"modalBtn confirmBtn",onClick:oe},g(D.value.registerSale),1)])])])):re("",!0),y.value&&b.value?(I(),P("div",{key:1,class:"modalOverlay",onClick:ne},[c("div",{class:"modalContent",onClick:x[12]||(x[12]=hn(()=>{},["stop"]))},[c("div",JD,[c("h3",zD,g(D.value.buyNFT),1),c("button",{class:"modalClose",onClick:ne},"")]),c("div",YD,[c("div",XD,[c("img",{src:X(b.value.nftData.imageId||b.value.nftData.id),alt:"NFT",class:"buyNFTImage"},null,8,ZD),c("div",qD,[c("div",eL,g(b.value.nftData.name),1),c("div",tL,[c("span",null," "+g(b.value.nftData.stars||0)+g(D.value.starsRating),1),c("span",null,"Lv "+g(b.value.nftData.level||1),1)])])]),c("div",nL,[c("div",sL,[c("span",rL,g(D.value.salePrice)+":",1),c("span",iL,g(b.value.price.toLocaleString())+" "+g(D.value.coin),1)]),c("div",oL,[c("span",aL,g(D.value.ownedCoins)+":",1),c("span",{class:Ee(["priceValue",{insufficient:s.value<b.value.price}])},g(s.value.toLocaleString())+" "+g(D.value.coin),3)]),s.value<b.value.price?(I(),P("div",lL,g(D.value.insufficientCoinsWarning),1)):re("",!0)])]),c("div",cL,[c("button",{class:"modalBtn cancelBtn",onClick:ne},g(D.value.cancel),1),c("button",{class:Ee(["modalBtn confirmBtn",{disabled:s.value<b.value.price}]),onClick:Z,disabled:s.value<b.value.price},g(D.value.buy),11,uL)])])])):re("",!0),v.value&&b.value?(I(),P("div",{key:2,class:"modalOverlay",onClick:ut},[c("div",{class:"modalContent detailModal",onClick:x[13]||(x[13]=hn(()=>{},["stop"]))},[c("div",dL,[c("h3",fL,g(b.value.name),1),c("button",{class:"modalClose",onClick:ut},"")]),c("div",hL,[c("div",pL,[c("img",{src:X(b.value.imageId||b.value.id),alt:"NFT"},null,8,gL),c("div",mL,[c("div",vL,[(I(),P(we,null,De(5,N=>c("span",{key:N,class:"star"},g(N<=(b.value.stars||0)?"":""),1)),64))]),c("div",AL,"Lv "+g(b.value.level||1),1)])]),c("div",yL,[c("div",wL,[x[32]||(x[32]=c("span",{class:"detailLabel"},"NFT ID:",-1)),c("span",bL,"#"+g(b.value.id),1)]),c("div",CL,[c("span",EL,g(D.value.imageId)+":",1),c("span",_L,"#"+g(b.value.imageId),1)])])])])])):re("",!0),d.value?(I(),P("div",{key:3,class:"popupOverlay",onClick:C},[c("div",{class:"popupContent",onClick:x[14]||(x[14]=hn(()=>{},["stop"]))},[c("div",xL,[c("h2",IL,g(D.value.send),1),c("button",{class:"closeBtn",onClick:C},"")]),c("div",PL,[c("p",BL,g(D.value.sendFeatureComingSoon),1),c("div",kL,[c("button",{class:"popupBtn cancelBtn",onClick:C},g(D.value.confirm),1)])])])])):re("",!0),u.value?(I(),P("div",{key:4,class:"popupOverlay",onClick:E},[c("div",{class:"popupContent",onClick:x[15]||(x[15]=hn(()=>{},["stop"]))},[c("div",SL,[c("h2",TL,g(D.value.buy),1),c("button",{class:"closeBtn",onClick:E},"")]),c("div",NL,[c("p",RL,g(D.value.buyFeatureComingSoon),1),c("div",DL,[c("button",{class:"popupBtn cancelBtn",onClick:E},g(D.value.confirm),1)])])])])):re("",!0),f.value?(I(),P("div",{key:5,class:"popupOverlay",onClick:S},[c("div",{class:"popupContent",onClick:x[16]||(x[16]=hn(()=>{},["stop"]))},[c("div",LL,[c("h2",OL,g(D.value.receive),1),c("button",{class:"closeBtn",onClick:S},"")]),c("div",ML,[c("p",FL,g(D.value.receiveFeatureComingSoon),1),c("div",UL,[c("button",{class:"popupBtn cancelBtn",onClick:S},g(D.value.confirm),1)])])])])):re("",!0),K.value?(I(),P("div",{key:6,class:"modalOverlay",onClick:x[22]||(x[22]=N=>K.value=!1)},[c("div",{class:"searchModal",onClick:x[21]||(x[21]=hn(()=>{},["stop"]))},[c("div",$L,[c("h3",HL,g(D.value.searchNFT),1),c("button",{class:"searchModalClose",onClick:x[17]||(x[17]=N=>K.value=!1)},"")]),c("div",GL,[It(c("input",{type:"text","onUpdate:modelValue":x[18]||(x[18]=N=>V.value=N),placeholder:D.value.searchPlaceholderNFT,class:"searchInput",onKeyup:x[19]||(x[19]=_p(N=>K.value=!1,["enter"]))},null,40,QL),[[Wn,V.value]])]),c("div",VL,[c("button",{class:"modalBtn resetBtn",onClick:at},g(D.value.reset),1),c("button",{class:"modalBtn applyBtn",onClick:x[20]||(x[20]=N=>K.value=!1)},g(D.value.apply),1)])])])):re("",!0)]))}},WL=_t(KL,[["__scopeId","data-v-a4ee29fd"]]),jL={class:"notificationPage"},JL={class:"mainContent"},zL={class:"pageHeader"},YL={class:"notificationList"},XL=["onClick"],ZL={class:"notificationContent"},qL={class:"notificationTitle"},eO={class:"notificationMessage"},tO={class:"notificationTime"},nO={key:0,class:"unreadDot"},sO={key:0,class:"emptyState"},rO={__name:"NotificationPage",setup(t){const e=Ht(),n=Et(),s=ie(()=>n.state.coins),r=k([{id:1,title:"  !",message:"    .",time:"5 ",read:!1,type:"quest"},{id:2,title:"Coin  ",message:"1 Coin  .",time:"1 ",read:!1,type:"exchange"},{id:3,title:"  ",message:"   !",time:"2 ",read:!0,type:"factory"},{id:4,title:" ",message:"  100 Point .",time:"1 ",read:!0,type:"attendance"}]);ct(()=>{n.loadCurrentUser();const u=()=>{n.loadCurrentUser()};window.addEventListener("userDataUpdated",u),Ct(()=>{window.removeEventListener("userDataUpdated",u)})});const i=u=>{u.read||(u.read=!0)},o=()=>{r.value.forEach(u=>{u.read=!0})},a=ie(()=>r.value.filter(u=>!u.read).length),l=u=>{switch(i(u),u.type){case"quest":e.push("/quest");break;case"exchange":e.push("/exchange");break;case"factory":e.push("/factory");break;case"attendance":e.push("/attendance");break}};return(u,d)=>(I(),P("div",jL,[Be(Jt,{coinCount:s.value},null,8,["coinCount"]),c("main",JL,[c("div",zL,[d[0]||(d[0]=c("h1",{class:"pageTitle"},"",-1)),a.value>0?(I(),P("button",{key:0,class:"markAllReadBtn",onClick:o},"   ")):re("",!0)]),c("div",YL,[(I(!0),P(we,null,De(r.value,f=>(I(),P("div",{key:f.id,class:Ee(["notificationItem",{unread:!f.read}]),onClick:h=>l(f)},[c("div",ZL,[c("div",qL,g(f.title),1),c("div",eO,g(f.message),1),c("div",tO,g(f.time),1)]),f.read?re("",!0):(I(),P("div",nO))],10,XL))),128)),r.value.length===0?(I(),P("div",sO,[...d[1]||(d[1]=[c("p",null," .",-1)])])):re("",!0)])]),Be(zt)]))}},iO=_t(rO,[["__scopeId","data-v-0a7cfb99"]]),oO="/tdl/assets/point_ico-CuS5zUpS.png",aO="/tdl/assets/coin_ico-COVm5STX.png",lO={class:"shopPage"},cO={class:"mainContent"},uO={class:"itemList"},dO={class:"itemInfo"},fO={class:"itemName"},hO={class:"itemDescription"},pO={class:"itemPrice"},gO={class:"priceValue"},mO={class:"priceCurrency"},vO={key:0,src:oO,alt:"P",class:"currencyIcon"},AO={key:1,src:aO,alt:"C",class:"currencyIcon"},yO=["disabled","onClick"],wO={__name:"ShopPage",setup(t){const e=Et(),n=ie(()=>e.state.coins),s=ie(()=>e.state.totalCoin),r=ie(()=>vn()),i=ie(()=>[{id:1,name:r.value.energy100,description:`${r.value.energyRecover} 100 ${r.value.energy}`,price:100,currency:"point",amount:100},{id:2,name:r.value.energy500,description:`${r.value.energyRecover} 500 ${r.value.energy}`,price:450,currency:"point",amount:500},{id:3,name:r.value.energy1000,description:`${r.value.energyRecover} 1000 ${r.value.energy}`,price:800,currency:"point",amount:1e3},{id:4,name:r.value.energy2000,description:`${r.value.energyRecover} 2000 ${r.value.energy}`,price:1500,currency:"point",amount:2e3}]),o=()=>{e.loadCurrentUser()},a=async l=>{if(!qe()){alert(r.value.loginRequired);return}if(l.currency==="point"&&n.value<l.price){alert(r.value.insufficientPoints);return}if(l.currency==="coin"&&s.value<l.price){alert(r.value.insufficientCoins);return}let d=!1;if(l.currency==="point"){const w=n.value-l.price;d=await e.updateMultiple({coins:w})}else{const w=s.value-l.price;d=await e.updateMultiple({totalCoin:w})}if(!d){alert(r.value.purchaseFailed);return}const f=4e3,h=parseInt(localStorage.getItem("currentEnergy")||f.toString()),p=Math.min(h+l.amount,f);localStorage.setItem("currentEnergy",p.toString()),localStorage.setItem("energyLastDate",new Date().toDateString()),alert(`${l.name} ${r.value.purchaseComplete} ${l.amount} ${r.value.energyRecovered}! (${r.value.currentEnergy}: ${p}/${f})`)};return ct(()=>{o();const l=()=>{e.loadCurrentUser()};window.addEventListener("userDataUpdated",l),Ct(()=>{window.removeEventListener("userDataUpdated",l)})}),(l,u)=>(I(),P("div",lO,[Be(Jt,{coinCount:n.value},null,8,["coinCount"]),c("main",cO,[c("div",uO,[(I(!0),P(we,null,De(i.value,d=>(I(),P("div",{key:d.id,class:"shopItem"},[c("div",dO,[c("h3",fO,g(d.name),1),c("p",hO,g(d.description),1)]),c("div",pO,[c("span",gO,g(d.price.toLocaleString()),1),c("span",mO,[d.currency==="point"?(I(),P("img",vO)):(I(),P("img",AO))])]),c("button",{class:"buyBtn",disabled:d.currency==="point"&&n.value<d.price||d.currency==="coin"&&s.value<d.price,onClick:f=>a(d)},g(r.value.buy),9,yO)]))),128))])]),Be(zt)]))}},bO=_t(wO,[["__scopeId","data-v-5139fe9d"]]),ah="/tdl/assets/arrow-B-Afy2tM.png",CO="/tdl/assets/shadow-BT4_IuPe.png",EO="/tdl/assets/cat1-B_B8VE2s.png",_O="/tdl/assets/cat10-B8AgbljH.png",xO="/tdl/assets/cat20-Bz9cd08a.png",IO="/tdl/assets/cat29-D_79HmBj.png",PO="/tdl/assets/cat30-Cx-HRp0m.png",BO={class:"homePage"},kO={class:"mainContent"},SO={key:0,class:"homeContent"},TO={class:"catContainer"},NO={class:"catWrapper"},RO=["src"],DO={key:1,class:"loginPrompt"},LO={key:2,class:"actionButtons"},OO={class:"speechBubbles"},MO={class:"foodEmojis"},FO=["src"],UO={__name:"HomePage",setup(t){const e=Et(),n=ie(()=>e.state.coins),s=ie(()=>e.state.totalCoin),r=ie(()=>vn()),i=k(null),o=[EO,_O,xO,IO,PO],a=k(0),l=k([]),u=k([]),d=k(1),f=["!","  !","  ?","!"," ?"," !","!"," ...","  !","!","!","!","!","!","  !"],h=()=>{a.value=(a.value-1+o.length)%o.length},p=()=>{a.value=(a.value+1)%o.length},w=ie(()=>o[a.value]),m=()=>{const b=f[Math.floor(Math.random()*f.length)],A=Math.min(window.innerWidth||500,500),_=window.innerHeight||800,L=220,H=60,V=20,K={id:Date.now(),text:b,x:Math.random()*(A-L-V*2)+V,y:Math.random()*(_-H-V*2-200)+100};l.value.push(K),setTimeout(()=>{const z=l.value.findIndex(M=>M.id===K.id);z>-1&&l.value.splice(z,1)},2e3)},y=b=>{try{return new URL(Object.assign({"../assets/img/tul1.png":Tm,"../assets/img/tul2.png":Nm,"../assets/img/tul3.png":Rm,"../assets/img/tul5.png":Dm,"../assets/img/tul6.png":Lm})[`../assets/img/tul${b}.png`],import.meta.url).href}catch{return`/src/assets/img/tul${b}.png`}},v=async()=>{if(s.value<100){alert(" !");return}const A=s.value-100;try{await e.updateGameData({totalCoin:A})}catch(O){console.error("  :",O),alert("  .");return}const _=Math.floor(Math.random()*6)+1,L=Math.min(window.innerWidth||500,500),H=window.innerHeight||800,V={id:Date.now(),x:L/2+(Math.random()-.5)*100,y:H/2+(Math.random()-.5)*100,imageId:_};u.value.push(V),setTimeout(()=>{const O=u.value.findIndex(T=>T.id===V.id);O>-1&&u.value.splice(O,1)},2e3),d.value++;const K=Math.min(window.innerWidth||500,500),z=window.innerHeight||800,M=220,D=60,X=20,F={id:Date.now()+1,text:` ${d.value} `,x:Math.random()*(K-M-X*2)+X,y:Math.random()*(z-D-X*2-200)+100};l.value.push(F),setTimeout(()=>{const O=l.value.findIndex(T=>T.id===F.id);O>-1&&l.value.splice(O,1)},2e3)};return ct(()=>{i.value=qe(),e.loadCurrentUser()}),(b,A)=>(I(),P("div",BO,[Be(Jt,{coinCount:n.value,totalCoin:s.value},null,8,["coinCount","totalCoin"]),c("main",kO,[i.value?(I(),P("div",SO,[c("div",TO,[c("button",{class:"arrowButton arrowLeft",onClick:h},[...A[1]||(A[1]=[c("img",{src:ah,alt:"",class:"arrowIcon"},null,-1)])]),c("div",NO,[Be(Jv,{name:"slide",mode:"out-in"},{default:Fh(()=>[(I(),P("div",{key:a.value,class:"catSlide"},[A[2]||(A[2]=c("img",{src:CO,alt:"",class:"catShadow"},null,-1)),c("img",{src:w.value,alt:"",class:"catImage",onClick:m,style:{cursor:"pointer"}},null,8,RO)]))]),_:1})]),c("button",{class:"arrowButton arrowRight",onClick:p},[...A[3]||(A[3]=[c("img",{src:ah,alt:"",class:"arrowIcon"},null,-1)])])])])):(I(),P("div",DO,[c("p",null,g(r.value.loginRequired),1),c("button",{class:"loginBtn",onClick:A[0]||(A[0]=_=>b.$router.push("/login"))},g(r.value.login),1)])),i.value?(I(),P("div",LO,[c("button",{class:"actionBtn talkBtn",onClick:m},"  "),c("button",{class:"actionBtn petBtn",onClick:v},"  ")])):re("",!0)]),Be(zt),c("div",OO,[(I(!0),P(we,null,De(l.value,_=>(I(),P("div",{key:_.id,class:"speechBubble",style:Ye({left:_.x+"px",top:_.y+"px",transform:"translateX(-50%)"})},g(_.text),5))),128))]),c("div",MO,[(I(!0),P(we,null,De(u.value,_=>(I(),P("div",{key:_.id,class:"foodEmoji",style:Ye({left:_.x+"px",top:_.y+"px"})},[c("img",{src:y(_.imageId),alt:"",class:"tulImage"},null,8,FO)],4))),128))])]))}},$O=_t(UO,[["__scopeId","data-v-8afc9e68"]]),HO=["/loading","/login","/signup"],GO=[{path:"/",redirect:"/loading"},{path:"/loading",component:kE},{path:"/login",component:e_},{path:"/signup",component:v_},{path:"/main",component:Ax},{path:"/mining",component:Mx},{path:"/hunting",component:fI},{path:"/exploration",component:HI},{path:"/production",component:bP},{path:"/exchange",component:HP},{path:"/quest",component:lB},{path:"/inventory",component:Zk},{path:"/factory",component:pS},{path:"/settings",component:MT},{path:"/profile",component:AN},{path:"/attendance",component:DN},{path:"/nft",component:WL},{path:"/notification",component:iO},{path:"/shop",component:bO},{path:"/home",component:$O}],Gm=Ty({history:cy(),routes:GO});Gm.beforeEach((t,e,n)=>{const r=!!qe(),i=HO.includes(t.path);if(r&&(t.path==="/login"||t.path==="/signup")){console.log("Router guard: authenticated user hitting login/signup, redirecting to /home"),n("/home");return}if(!r&&!i){console.log("Router guard: unauthenticated access to protected route, redirecting to /login",{to:t.path,hasSessionStorage:!!sessionStorage.getItem("currentUser")}),n("/login");return}n()});const Qm=CA(CE);Qm.use(Gm);Qm.mount("#app");
